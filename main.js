/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CardNavigatorPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian7 = require("obsidian");

// src/ui/cardNavigator.ts
var import_obsidian5 = require("obsidian");

// src/ui/toolbar/toolbar.ts
var import_obsidian2 = require("obsidian");

// src/ui/toolbar/toolbarActions.ts
var import_obsidian = require("obsidian");
var FolderSuggestModal = class extends import_obsidian.FuzzySuggestModal {
  constructor(plugin, onSelect) {
    super(plugin.app);
    this.plugin = plugin;
    this.onSelect = onSelect;
  }
  getItems() {
    return this.plugin.app.vault.getAllLoadedFiles().filter((file) => file instanceof import_obsidian.TFolder);
  }
  getItemText(folder) {
    return folder.path;
  }
  onChooseItem(folder) {
    this.onSelect(folder);
  }
};
function moveCards(direction, plugin, amount = "single") {
  const view = plugin.app.workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR)[0].view;
  const cardContainer = view.cardContainer;
  const cardContainerEl = cardContainer.getContainerEl();
  if (!cardContainerEl) return;
  const { cardWidth, cardHeight, isVertical } = cardContainer.getCardSizeAndOrientation();
  const moveAmount = amount === "single" ? isVertical ? cardHeight : cardWidth : (isVertical ? cardHeight : cardWidth) * plugin.settings.cardsPerView;
  const currentScroll = isVertical ? cardContainerEl.scrollTop : cardContainerEl.scrollLeft;
  switch (direction) {
    case "up":
      cardContainerEl.scrollTo({ top: currentScroll - moveAmount, behavior: "smooth" });
      break;
    case "down":
      cardContainerEl.scrollTo({ top: currentScroll + moveAmount, behavior: "smooth" });
      break;
    case "left":
      cardContainerEl.scrollTo({ left: currentScroll - moveAmount, behavior: "smooth" });
      break;
    case "right":
      cardContainerEl.scrollTo({ left: currentScroll + moveAmount, behavior: "smooth" });
      break;
    case "center": {
      const activeCard = cardContainerEl.querySelector(".card-navigator-active");
      if (activeCard) {
        activeCard.scrollIntoView({ behavior: "smooth", block: "center", inline: "center" });
      }
      break;
    }
  }
}
function toggleSearch(plugin) {
  let searchPopup = document.querySelector(".card-navigator-search-popup");
  if (!searchPopup) {
    searchPopup = document.createElement("div");
    searchPopup.className = "card-navigator-search-popup";
    const input = document.createElement("input");
    input.type = "text";
    input.placeholder = "Search...";
    input.addEventListener("input", async () => {
      const searchTerm = input.value;
      const view = plugin.app.workspace.getLeavesOfType("card-navigator-view")[0].view;
      await view.cardContainer.searchCards(searchTerm);
    });
    searchPopup.appendChild(input);
    const toolbarEl = document.querySelector(".card-navigator-toolbar-container");
    if (toolbarEl) {
      toolbarEl.insertAdjacentElement("afterend", searchPopup);
      document.addEventListener("click", function onClickOutside(event) {
        if (searchPopup && !searchPopup.contains(event.target) && !toolbarEl.contains(event.target)) {
          searchPopup.remove();
          document.removeEventListener("click", onClickOutside);
        }
      });
    }
  } else {
    searchPopup.classList.toggle("hidden");
  }
}
function toggleSort(plugin) {
  let sortPopup = document.querySelector(".card-navigator-sort-popup");
  if (!sortPopup) {
    sortPopup = document.createElement("div");
    sortPopup.className = "card-navigator-sort-popup";
    const options = ["fileName", "lastModified", "created"];
    options.forEach((option) => {
      const ascButton = document.createElement("button");
      ascButton.textContent = `${option} \u2191`;
      ascButton.addEventListener("click", async () => {
        await plugin.sortCards(option, "asc");
        sortPopup.classList.add("hidden");
      });
      const descButton = document.createElement("button");
      descButton.textContent = `${option} \u2193`;
      descButton.addEventListener("click", async () => {
        await plugin.sortCards(option, "desc");
        sortPopup.classList.add("hidden");
      });
      sortPopup.appendChild(ascButton);
      sortPopup.appendChild(descButton);
    });
    const toolbarEl = document.querySelector(".card-navigator-toolbar-container");
    if (toolbarEl) {
      toolbarEl.insertAdjacentElement("afterend", sortPopup);
      document.addEventListener("click", function onClickOutside(event) {
        if (sortPopup && !sortPopup.contains(event.target) && !toolbarEl.contains(event.target)) {
          sortPopup.remove();
          document.removeEventListener("click", onClickOutside);
        }
      });
    }
  } else {
    sortPopup.classList.toggle("hidden");
  }
}
function toggleSettings(plugin) {
  let settingsPopup = document.querySelector(".card-navigator-settings-popup");
  if (!settingsPopup) {
    settingsPopup = document.createElement("div");
    settingsPopup.className = "card-navigator-settings-popup";
    const cardsPerViewSetting = document.createElement("input");
    cardsPerViewSetting.type = "range";
    cardsPerViewSetting.min = "1";
    cardsPerViewSetting.max = "10";
    cardsPerViewSetting.value = plugin.settings.cardsPerView.toString();
    cardsPerViewSetting.addEventListener("input", (e) => {
      const value = e.target.value;
      plugin.settings.cardsPerView = parseInt(value, 10);
      plugin.saveSettings();
      plugin.refreshViews();
    });
    const cardsPerViewLabel = document.createElement("label");
    cardsPerViewLabel.textContent = "Cards Per View:";
    settingsPopup.appendChild(cardsPerViewLabel);
    settingsPopup.appendChild(cardsPerViewSetting);
    const fontSizeSetting = document.createElement("input");
    fontSizeSetting.type = "range";
    fontSizeSetting.min = "10";
    fontSizeSetting.max = "30";
    fontSizeSetting.value = plugin.settings.contentSize.toString();
    fontSizeSetting.addEventListener("input", (e) => {
      const value = e.target.value;
      plugin.settings.contentSize = parseInt(value, 10);
      plugin.saveSettings();
      plugin.refreshViews();
    });
    const fontSizeLabel = document.createElement("label");
    fontSizeLabel.textContent = "Content Font Size:";
    settingsPopup.appendChild(fontSizeLabel);
    settingsPopup.appendChild(fontSizeSetting);
    const createToggle = (labelText, initialValue, onChange) => {
      const container = document.createElement("div");
      const label = document.createElement("label");
      label.textContent = labelText;
      const toggle = document.createElement("input");
      toggle.type = "checkbox";
      toggle.checked = initialValue;
      toggle.addEventListener("change", (e) => {
        onChange(e.target.checked);
        plugin.saveSettings();
        plugin.refreshViews();
      });
      container.appendChild(label);
      container.appendChild(toggle);
      return container;
    };
    const fileNameToggle = createToggle("Show File Name", plugin.settings.showFileName, (value) => {
      plugin.settings.showFileName = value;
    });
    settingsPopup.appendChild(fileNameToggle);
    const firstHeaderToggle = createToggle("Show First Header", plugin.settings.showFirstHeader, (value) => {
      plugin.settings.showFirstHeader = value;
    });
    settingsPopup.appendChild(firstHeaderToggle);
    const contentToggle = createToggle("Show Content", plugin.settings.showContent, (value) => {
      plugin.settings.showContent = value;
    });
    settingsPopup.appendChild(contentToggle);
    const dragDropContentToggle = createToggle("Drag and Drop Content", plugin.settings.dragDropContent, (value) => {
      plugin.settings.dragDropContent = value;
    });
    settingsPopup.appendChild(dragDropContentToggle);
    const toolbarEl = document.querySelector(".card-navigator-toolbar-container");
    if (toolbarEl) {
      toolbarEl.insertAdjacentElement("afterend", settingsPopup);
      document.addEventListener("click", function onClickOutside(event) {
        if (settingsPopup && !settingsPopup.contains(event.target) && !toolbarEl.contains(event.target)) {
          settingsPopup.remove();
          document.removeEventListener("click", onClickOutside);
        }
      });
    }
  } else {
    settingsPopup.classList.toggle("hidden");
  }
}

// src/ui/toolbar/toolbar.ts
var Toolbar = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.containerEl = void 0;
    this.isVertical = false;
  }
  initialize(containerEl) {
    this.containerEl = containerEl;
    this.createToolbar();
  }
  setOrientation(isVertical) {
    if (this.isVertical !== isVertical) {
      this.isVertical = isVertical;
      this.updateToolbarStyle();
      this.createToolbar();
    }
  }
  updateToolbarStyle() {
    if (this.containerEl) {
      this.containerEl.classList.toggle("vertical", this.isVertical);
      this.containerEl.classList.toggle("horizontal", !this.isVertical);
    }
  }
  createToolbar() {
    if (!this.containerEl) {
      return;
    }
    this.containerEl.empty();
    const toolbarContainer = document.createElement("div");
    toolbarContainer.className = "card-navigator-toolbar-container";
    const moveIconsContainer = this.isVertical ? this.createVerticalMoveIconsContainer() : this.createHorizontalMoveIconsContainer();
    const separator = this.createSeparator();
    const actionIconsContainer = this.createActionIconsContainer();
    toolbarContainer.appendChild(moveIconsContainer);
    toolbarContainer.appendChild(separator);
    toolbarContainer.appendChild(actionIconsContainer);
    this.containerEl.appendChild(toolbarContainer);
  }
  getMode() {
    const view = this.plugin.app.workspace.getLeavesOfType("card-navigator-view")[0].view;
    return view.containerEl.clientHeight > view.containerEl.clientWidth ? "vertical" : "horizontal";
  }
  createVerticalMoveIconsContainer() {
    const container = document.createElement("div");
    container.className = "card-navigator-move-icons-container";
    const icons = [
      { name: "chevrons-up", label: "Move up multiple", action: () => moveCards("up", this.plugin, "multiple") },
      { name: "chevron-up", label: "Move up single", action: () => moveCards("up", this.plugin, "single") },
      { name: "chevrons-down-up", label: "Center active card", action: () => moveCards("center", this.plugin) },
      { name: "chevron-down", label: "Move down single", action: () => moveCards("down", this.plugin, "single") },
      { name: "chevrons-down", label: "Move down multiple", action: () => moveCards("down", this.plugin, "multiple") }
    ];
    icons.forEach((icon) => {
      const iconElement = this.createToolbarIcon(icon.name, icon.label, icon.action);
      container.appendChild(iconElement);
    });
    return container;
  }
  createHorizontalMoveIconsContainer() {
    const container = document.createElement("div");
    container.className = "card-navigator-move-icons-container";
    const icons = [
      { name: "chevrons-left", label: "Move left multiple", action: () => moveCards("left", this.plugin, "multiple") },
      { name: "chevron-left", label: "Move left single", action: () => moveCards("left", this.plugin, "single") },
      { name: "chevrons-right-left", label: "Center active card", action: () => moveCards("center", this.plugin) },
      { name: "chevron-right", label: "Move right single", action: () => moveCards("right", this.plugin, "single") },
      { name: "chevrons-right", label: "Move right multiple", action: () => moveCards("right", this.plugin, "multiple") }
    ];
    icons.forEach((icon) => {
      const iconElement = this.createToolbarIcon(icon.name, icon.label, icon.action);
      container.appendChild(iconElement);
    });
    return container;
  }
  createActionIconsContainer() {
    const container = document.createElement("div");
    container.className = "card-navigator-action-icons-container";
    const icons = [
      { name: "search", label: "Search", action: () => toggleSearch(this.plugin) },
      { name: "folder", label: "Select folder", action: () => this.openFolderSelector() },
      { name: "arrow-up-narrow-wide", label: "Sort cards", action: () => toggleSort(this.plugin) },
      { name: "settings", label: "Settings", action: () => toggleSettings(this.plugin) }
    ];
    icons.forEach((icon) => {
      const iconElement = this.createToolbarIcon(icon.name, icon.label, icon.action);
      container.appendChild(iconElement);
    });
    return container;
  }
  createSeparator() {
    const separator = document.createElement("div");
    separator.className = "toolbar-separator";
    return separator;
  }
  createToolbarIcon(iconName, ariaLabel, action) {
    const icon = document.createElement("div");
    icon.className = "clickable-icon";
    icon.setAttribute("aria-label", ariaLabel);
    (0, import_obsidian2.setIcon)(icon, iconName);
    icon.addEventListener("click", action);
    return icon;
  }
  openFolderSelector() {
    new FolderSuggestModal(this.plugin, (folder) => {
      const view = this.plugin.app.workspace.getActiveViewOfType(CardNavigator);
      if (view) {
        view.cardContainer.displayCardsForFolder(folder);
      }
    }).open();
  }
  refresh() {
  }
  onClose() {
  }
};

// src/ui/cardContainer/cardContainer.ts
var import_obsidian4 = require("obsidian");

// src/ui/cardContainer/cardMaker.ts
var import_obsidian3 = require("obsidian");

// src/common/utils.ts
function debounce(func, waitFor) {
  let timeout = null;
  return (...args) => {
    if (timeout) {
      clearTimeout(timeout);
    }
    return new Promise((resolve) => {
      timeout = setTimeout(() => {
        const result = func(...args);
        resolve(result);
      }, waitFor);
    });
  };
}
function separateFrontmatterAndContent(content) {
  const frontmatterRegex = /^---\s*\n([\s\S]*?)\n---\s*\n/;
  const match = content.match(frontmatterRegex);
  return match ? { frontmatter: match[1], cleanContent: content.slice(match[0].length).trim() } : { frontmatter: null, cleanContent: content.trim() };
}
function sortFiles(files, criterion, locale = "en") {
  const collator = new Intl.Collator(locale, { numeric: true, sensitivity: "base" });
  return files.sort((a, b) => {
    switch (criterion) {
      case "fileName":
        return collator.compare(a.basename, b.basename);
      case "lastModified":
        return b.stat.mtime - a.stat.mtime;
      case "created":
        return b.stat.ctime - a.stat.ctime;
      default:
        return 0;
    }
  });
}
function calculateCardSize(isVertical, containerRect, cardsPerView, padding = 15) {
  const { width: leafWidth, height: leafHeight } = containerRect;
  let cardWidth, cardHeight;
  if (isVertical) {
    cardWidth = leafWidth - 2 * padding;
    cardHeight = leafHeight / cardsPerView;
  } else {
    cardWidth = leafWidth / cardsPerView;
    cardHeight = leafHeight - 2 * padding;
  }
  return { cardWidth, cardHeight };
}
function setContainerSize(containerEl, cardWidth, cardHeight, cardsPerView, isVertical) {
  if (isVertical) {
    containerEl.style.flexDirection = "column";
    containerEl.style.width = `${cardWidth}px`;
    containerEl.style.height = `${cardHeight * cardsPerView}px`;
  } else {
    containerEl.style.flexDirection = "row";
    containerEl.style.width = `${cardWidth * cardsPerView}px`;
    containerEl.style.height = `${cardHeight}px`;
  }
}

// src/ui/cardContainer/cardMaker.ts
var CardMaker = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async getCardsForActiveFile(activeFile) {
    const folder = activeFile.parent;
    if (!folder) {
      return [];
    }
    const files = folder.children.filter((file) => file instanceof import_obsidian3.TFile);
    const userLocale = navigator.language || "en";
    const sortedFiles = sortFiles(files, this.plugin.settings.sortCriterion, userLocale);
    return await Promise.all(sortedFiles.map((file) => this.createCard(file)));
  }
  async createCard(file) {
    const content = await this.plugin.app.vault.cachedRead(file);
    const { cleanContent } = separateFrontmatterAndContent(content);
    const contentWithoutHeader = this.removeFirstHeader(cleanContent);
    return {
      file,
      fileName: this.plugin.settings.showFileName ? file.basename : void 0,
      firstHeader: this.plugin.settings.showFirstHeader ? this.findFirstHeader(cleanContent) : void 0,
      content: this.plugin.settings.showContent ? this.truncateContent(contentWithoutHeader) : void 0
    };
  }
  removeFirstHeader(content) {
    const headerRegex = /^#+\s+(.+)$/m;
    return content.replace(headerRegex, "").trim();
  }
  findFirstHeader(content) {
    const headerRegex = /^#+\s+(.+)$/m;
    const match = content.match(headerRegex);
    return match ? match[1].trim() : void 0;
  }
  truncateContent(content) {
    const maxLength = this.plugin.settings.contentLength * 100;
    return content.length <= maxLength ? content : content.slice(0, maxLength) + "...";
  }
  createCardElement(card) {
    const cardElement = document.createElement("div");
    cardElement.className = "card-navigator-card";
    if (this.plugin.settings.showFileName && card.fileName) {
      const fileNameEl = cardElement.createEl("h3", { text: card.fileName });
      fileNameEl.className = "card-navigator-filename";
      fileNameEl.style.fontSize = `${this.plugin.settings.fileNameSize}px`;
    }
    if (this.plugin.settings.showFirstHeader && card.firstHeader) {
      const headerEl = cardElement.createEl("h4", { text: card.firstHeader });
      headerEl.className = "card-navigator-first-header";
      headerEl.style.fontSize = `${this.plugin.settings.firstHeaderSize}px`;
    }
    if (this.plugin.settings.showContent && card.content) {
      const contentEl = cardElement.createEl("p", { text: card.content });
      contentEl.className = "card-navigator-content";
      contentEl.style.fontSize = `${this.plugin.settings.contentSize}px`;
    }
    if (this.plugin.app.workspace.getActiveFile() === card.file) {
      cardElement.addClass("card-navigator-active");
    }
    this.addCardInteractions(cardElement, card);
    return cardElement;
  }
  addCardInteractions(cardElement, card) {
    cardElement.addEventListener("click", () => this.openFile(card.file));
    this.setupDragAndDrop(cardElement, card);
    this.setupContextMenu(cardElement, card.file);
  }
  setupDragAndDrop(cardElement, card) {
    cardElement.setAttribute("draggable", "true");
    cardElement.addEventListener("dragstart", (event) => {
      if (event.dataTransfer) {
        let dragContent = "";
        if (this.plugin.settings.dragDropContent) {
          if (this.plugin.settings.showFileName && card.fileName) {
            dragContent += `## ${card.fileName}

`;
          }
          if (this.plugin.settings.showFirstHeader && card.firstHeader) {
            dragContent += `# ${card.firstHeader}

`;
          }
          if (this.plugin.settings.showContent && card.content) {
            dragContent += `${card.content}

`;
          }
          if (dragContent === "") {
            dragContent = `[[${card.file.name}]]`;
          }
        } else {
          dragContent = `[[${card.file.name}]]`;
        }
        event.dataTransfer.setData("text/plain", dragContent.trim());
        event.dataTransfer.setDragImage(cardElement, 0, 0);
      }
    });
  }
  setupContextMenu(cardElement, file) {
    cardElement.addEventListener("contextmenu", (e) => {
      e.preventDefault();
      const menu = new import_obsidian3.Menu();
      this.plugin.app.workspace.trigger("file-menu", menu, file, "more-options");
      menu.showAtPosition({ x: e.clientX, y: e.clientY });
    });
  }
  openFile(file) {
    this.plugin.app.workspace.getLeaf().openFile(file);
  }
};

// src/ui/cardContainer/cardContainer.ts
var CardContainer = class {
  constructor(plugin, leaf) {
    this.containerEl = null;
    this.cardWidth = 0;
    this.cardHeight = 0;
    this.plugin = plugin;
    this.leaf = leaf;
    this.cardMaker = new CardMaker(this.plugin);
    this.isVertical = false;
  }
  async initialize(containerEl) {
    this.containerEl = containerEl;
    await this.waitForLeafCreation();
    this.registerEvents();
    this.refresh();
  }
  setOrientation(isVertical) {
    this.isVertical = isVertical;
    this.updateContainerStyle();
  }
  setCardSize(cardWidth, cardHeight) {
    this.cardWidth = cardWidth;
    this.cardHeight = cardHeight;
  }
  getContainerEl() {
    return this.containerEl;
  }
  getCardSizeAndOrientation() {
    return {
      cardWidth: this.cardWidth,
      cardHeight: this.cardHeight,
      isVertical: this.isVertical
    };
  }
  updateContainerStyle() {
    if (this.containerEl) {
      if (this.isVertical) {
        this.containerEl.classList.add("vertical");
        this.containerEl.classList.remove("horizontal");
      } else {
        this.containerEl.classList.add("horizontal");
        this.containerEl.classList.remove("vertical");
      }
    }
  }
  async waitForLeafCreation() {
    return new Promise((resolve) => {
      const checkLeaf = () => {
        if (this.containerEl && this.containerEl.getBoundingClientRect().width > 0) {
          resolve();
        } else {
          requestAnimationFrame(checkLeaf);
        }
      };
      checkLeaf();
    });
  }
  registerEvents() {
    this.plugin.registerEvent(
      this.plugin.app.workspace.on("active-leaf-change", debounce(this.refresh.bind(this), 100))
    );
    this.plugin.registerEvent(
      this.plugin.app.vault.on("modify", debounce(this.refresh.bind(this), 100))
    );
  }
  async refresh() {
    let folder = null;
    if (this.plugin.settings.useSelectedFolder && this.plugin.settings.selectedFolder) {
      folder = this.plugin.app.vault.getAbstractFileByPath(this.plugin.settings.selectedFolder);
    } else {
      const activeFile = this.plugin.app.workspace.getActiveFile();
      folder = (activeFile == null ? void 0 : activeFile.parent) || null;
    }
    if (!folder || !this.containerEl) {
      return;
    }
    setContainerSize(this.containerEl, this.cardWidth, this.cardHeight, this.plugin.settings.cardsPerView, this.isVertical);
    const files = folder.children.filter((file) => file instanceof import_obsidian4.TFile);
    const cardsData = await Promise.all(files.map((file) => this.cardMaker.createCard(file)));
    this.renderCards(cardsData, this.cardWidth, this.cardHeight);
  }
  renderCards(cardsData, cardWidth, cardHeight) {
    const containerEl = this.containerEl;
    if (!containerEl) return;
    containerEl.innerHTML = "";
    containerEl.classList.toggle("card-container-horizontal", !this.isVertical);
    cardsData.forEach((cardData) => {
      const card = this.cardMaker.createCardElement(cardData);
      card.classList.toggle("card-navigator-card-horizontal", !this.isVertical);
      card.style.width = `${cardWidth}px`;
      card.style.height = `${cardHeight}px`;
      containerEl.appendChild(card);
    });
    if (this.plugin.settings.centerCardMethod === "scroll") {
      this.scrollToActiveCard(cardsData, cardWidth, cardHeight);
    }
  }
  renderActiveCardCentered(cardsData, activeIndex, cardWidth, cardHeight) {
    const containerEl = this.containerEl;
    if (!containerEl) {
      return;
    }
    const isVertical = this.isVertical;
    const leftCards = cardsData.slice(0, activeIndex);
    const rightCards = cardsData.slice(activeIndex + 1);
    const cardSpacing = 15;
    const containerSize = isVertical ? cardHeight : cardWidth;
    const totalSize = (containerSize + cardSpacing) * this.plugin.settings.cardsPerView - cardSpacing;
    const activeCardOffset = (totalSize - containerSize) / 2;
    let currentOffset = activeCardOffset - (leftCards.length * containerSize + leftCards.length * cardSpacing);
    leftCards.forEach((cardData) => {
      const card = this.cardMaker.createCardElement(cardData);
      card.style.position = "absolute";
      card.style.width = `${cardWidth}px`;
      card.style.height = `${cardHeight}px`;
      if (isVertical) {
        card.style.top = `${currentOffset}px`;
      } else {
        card.style.left = `${currentOffset}px`;
      }
      containerEl.appendChild(card);
      currentOffset += containerSize + cardSpacing;
    });
    const activeCard = this.cardMaker.createCardElement(cardsData[activeIndex]);
    activeCard.style.position = "absolute";
    activeCard.style.width = `${cardWidth}px`;
    activeCard.style.height = `${cardHeight}px`;
    if (isVertical) {
      activeCard.style.top = `${activeCardOffset}px`;
    } else {
      activeCard.style.left = `${activeCardOffset}px`;
    }
    containerEl.appendChild(activeCard);
    currentOffset = activeCardOffset + containerSize + cardSpacing;
    rightCards.forEach((cardData) => {
      const card = this.cardMaker.createCardElement(cardData);
      card.style.position = "absolute";
      card.style.width = `${cardWidth}px`;
      card.style.height = `${cardHeight}px`;
      if (isVertical) {
        card.style.top = `${currentOffset}px`;
      } else {
        card.style.left = `${currentOffset}px`;
      }
      containerEl.appendChild(card);
      currentOffset += containerSize + cardSpacing;
    });
  }
  scrollToActiveCard(cardsData, cardWidth, cardHeight) {
    const containerEl = this.containerEl;
    if (!containerEl) {
      return;
    }
    containerEl.innerHTML = "";
    let activeCard = null;
    cardsData.forEach((cardData) => {
      const card = this.cardMaker.createCardElement(cardData);
      card.style.width = `${cardWidth}px`;
      card.style.height = `${cardHeight}px`;
      containerEl.appendChild(card);
      if (card.classList.contains("card-navigator-active")) {
        activeCard = card;
      }
    });
    if (activeCard && this.plugin.settings.centerCardMethod === "scroll") {
      activeCard.scrollIntoView({ behavior: "smooth", block: "center", inline: "center" });
    }
  }
  displayCards(filteredFiles) {
  }
  async searchCards(searchTerm) {
    const activeFile = this.plugin.app.workspace.getActiveFile();
    if (!activeFile) return;
    const folder = activeFile.parent;
    if (!folder) return;
    const files = folder.children.filter((file) => file instanceof import_obsidian4.TFile);
    const filteredFiles = await this.filterFilesByContent(files, searchTerm);
    const cards = await Promise.all(filteredFiles.map(async (file) => ({
      file,
      fileName: this.plugin.settings.showFileName ? file.basename : void 0,
      firstHeader: this.plugin.settings.showFirstHeader ? await this.findFirstHeader(file) : void 0,
      content: this.plugin.settings.showContent ? await this.getFileContent(file) : void 0
    })));
    this.renderCards(cards, this.cardWidth, this.cardHeight);
  }
  async displayCardsForFolder(folder) {
    const files = folder.children.filter((file) => file instanceof import_obsidian4.TFile);
    const cards = await Promise.all(files.map((file) => this.cardMaker.createCard(file)));
    this.renderCards(cards, this.cardWidth, this.cardHeight);
  }
  async filterFilesByContent(files, searchTerm) {
    const lowercaseSearchTerm = searchTerm.toLowerCase();
    const filteredFiles = [];
    for (const file of files) {
      const content = await this.plugin.app.vault.cachedRead(file);
      if (file.basename.toLowerCase().includes(lowercaseSearchTerm) || content.toLowerCase().includes(lowercaseSearchTerm)) {
        filteredFiles.push(file);
      }
    }
    return filteredFiles;
  }
  async sortCards(criterion, order) {
    const activeFile = this.plugin.app.workspace.getActiveFile();
    if (!activeFile) return;
    const folder = activeFile.parent;
    if (!folder) return;
    const files = folder.children.filter((file) => file instanceof import_obsidian4.TFile);
    const sortedFiles = sortFiles(files, criterion, order);
    const cards = await Promise.all(sortedFiles.map(async (file) => ({
      file,
      fileName: this.plugin.settings.showFileName ? file.basename : void 0,
      firstHeader: this.plugin.settings.showFirstHeader ? await this.findFirstHeader(file) : void 0,
      content: this.plugin.settings.showContent ? await this.getFileContent(file) : void 0
    })));
    this.renderCards(cards, this.cardWidth, this.cardHeight);
  }
  async findFirstHeader(file) {
    const content = await this.plugin.app.vault.cachedRead(file);
    const headerRegex = /^#+\s+(.+)$/m;
    const match = content.match(headerRegex);
    return match ? match[1].trim() : void 0;
  }
  async getFileContent(file) {
    const content = await this.plugin.app.vault.cachedRead(file);
    const maxLength = this.plugin.settings.contentLength * 100;
    return content.length <= maxLength ? content : content.slice(0, maxLength) + "...";
  }
  onClose() {
  }
};

// src/ui/cardNavigator.ts
var VIEW_TYPE_CARD_NAVIGATOR = "card-navigator-view";
var CardNavigator = class extends import_obsidian5.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.plugin = plugin;
    this.toolbar = new Toolbar(this.plugin);
    this.cardContainer = new CardContainer(this.plugin, this.leaf);
    this.isVertical = this.calculateIsVertical();
    this.resizeObserver = new ResizeObserver(this.handleResize.bind(this));
  }
  getViewType() {
    return VIEW_TYPE_CARD_NAVIGATOR;
  }
  getDisplayText() {
    return "Card Navigator";
  }
  getIcon() {
    return "layers-3";
  }
  calculateIsVertical() {
    const { width, height } = this.leaf.view.containerEl.getBoundingClientRect();
    return height > width;
  }
  handleResize() {
    this.updateLayoutAndRefresh();
  }
  updateLayoutAndRefresh() {
    this.isVertical = this.calculateIsVertical();
    const containerRect = this.leaf.view.containerEl.getBoundingClientRect();
    const { cardWidth, cardHeight } = calculateCardSize(this.isVertical, containerRect, this.plugin.settings.cardsPerView);
    this.cardContainer.setOrientation(this.isVertical);
    this.cardContainer.setCardSize(cardWidth, cardHeight);
    this.toolbar.setOrientation(this.isVertical);
    this.refresh();
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    const cardNavigatorContainerEl = container.createDiv("card-navigator");
    const toolbarEl = cardNavigatorContainerEl.createDiv("card-navigator-toolbar");
    const viewAreaEl = cardNavigatorContainerEl.createDiv("card-view-area");
    const cardContainerEl = viewAreaEl.createDiv("card-container");
    this.toolbar.initialize(toolbarEl);
    this.cardContainer.initialize(cardContainerEl);
    this.isVertical = this.calculateIsVertical();
    this.updateLayoutAndRefresh();
    this.resizeObserver.observe(this.leaf.view.containerEl);
    this.refresh();
  }
  async onClose() {
    this.resizeObserver.disconnect();
    this.toolbar.onClose();
    this.cardContainer.onClose();
  }
  refresh() {
    this.toolbar.refresh();
    this.cardContainer.refresh();
  }
};

// src/ui/settingsTab.ts
var import_obsidian6 = require("obsidian");
var SettingTab = class extends import_obsidian6.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    containerEl.createEl("h2", { text: "Card Navigator Settings" });
    new import_obsidian6.Setting(containerEl).setName("Cards per view").setDesc("Number of cards to display at once").addSlider((slider) => slider.setLimits(3, 9, 1).setValue(this.plugin.settings.cardsPerView).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.cardsPerView = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Folder Selection").setDesc("Choose whether to use the active file's folder or a selected folder").addDropdown((dropdown) => dropdown.addOption("active", "Active File's Folder").addOption("selected", "Selected Folder").setValue(this.plugin.settings.useSelectedFolder ? "selected" : "active").onChange(async (value) => {
      this.plugin.settings.useSelectedFolder = value === "selected";
      await this.plugin.saveSettings();
      this.display();
    }));
    if (this.plugin.settings.useSelectedFolder) {
      new import_obsidian6.Setting(containerEl).setName("Select Folder").setDesc("Choose a folder for Card Navigator").addButton((button) => button.setButtonText(this.plugin.settings.selectedFolder || "Choose folder").onClick(() => {
        new FolderSuggestModal(this.plugin, (folder) => {
          this.plugin.settings.selectedFolder = folder.path;
          this.plugin.saveSettings();
          this.display();
        }).open();
      }));
    }
    new import_obsidian6.Setting(containerEl).setName("Drag and Drop Content").setDesc("When enabled, dragging a card will insert the note content instead of a link.").addToggle((toggle) => toggle.setValue(this.plugin.settings.dragDropContent).onChange(async (value) => {
      this.plugin.settings.dragDropContent = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Show File Name").setDesc("Toggle to display or hide the file name on cards").addToggle((toggle) => toggle.setValue(this.plugin.settings.showFileName).onChange(async (value) => {
      this.plugin.settings.showFileName = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("File Name Size").setDesc("Set the font size for the file name").addSlider((slider) => slider.setLimits(15, 25, 1).setValue(this.plugin.settings.fileNameSize).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.fileNameSize = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Show First Header").setDesc("Toggle to display or hide the first header on cards").addToggle((toggle) => toggle.setValue(this.plugin.settings.showFirstHeader).onChange(async (value) => {
      this.plugin.settings.showFirstHeader = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("First Header Size").setDesc("Set the font size for the first header").addSlider((slider) => slider.setLimits(15, 25, 1).setValue(this.plugin.settings.firstHeaderSize).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.firstHeaderSize = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Show Content").setDesc("Toggle to display or hide the content on cards").addToggle((toggle) => toggle.setValue(this.plugin.settings.showContent).onChange(async (value) => {
      this.plugin.settings.showContent = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Content Size").setDesc("Set the font size for the content").addSlider((slider) => slider.setLimits(10, 20, 1).setValue(this.plugin.settings.contentSize).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.contentSize = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Content Length").setDesc("Maximum content length displayed on each card").addSlider((slider) => slider.setLimits(1, 10, 1).setValue(this.plugin.settings.contentLength).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.contentLength = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
  }
};

// src/common/settings.ts
var DEFAULT_SETTINGS = {
  cardsPerView: 6,
  useSelectedFolder: false,
  selectedFolder: null,
  centerCardMethod: "scroll",
  activeCardBorderColor: "var(--active-border-color)",
  activeCardBackgroundColor: "var(--active-background-color)",
  sortCriterion: "fileName",
  dragDropContent: false,
  showFileName: true,
  fileNameSize: 20,
  showFirstHeader: true,
  firstHeaderSize: 18,
  showContent: true,
  contentSize: 15,
  contentLength: 5
};

// src/main.ts
var CardNavigatorPlugin = class extends import_obsidian7.Plugin {
  constructor() {
    super(...arguments);
    this.settings = DEFAULT_SETTINGS;
    this.selectedFolder = null;
  }
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_CARD_NAVIGATOR,
      (leaf) => new CardNavigator(leaf, this)
    );
    this.addSettingTab(new SettingTab(this.app, this));
    this.addRibbonIcon("layers-3", "Activate Card Navigator", () => {
      this.activateView();
    });
    this.addCommand({
      id: "activate-card-navigator",
      name: "Activate Card Navigator",
      callback: () => {
        this.activateView();
      }
    });
    this.addCommand({
      id: "select-folder",
      name: "Select folder for Card Navigator",
      callback: () => {
        const view = this.app.workspace.getActiveViewOfType(CardNavigator);
        if (view) {
          view.toolbar.openFolderSelector();
        }
      }
    });
    this.app.workspace.onLayoutReady(() => {
      this.activateView();
    });
  }
  async onunload() {
    this.app.workspace.detachLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.refreshViews();
  }
  setSelectedFolder(folderPath) {
    this.selectedFolder = folderPath;
    this.settings.selectedFolder = folderPath;
    this.saveSettings();
  }
  refreshViews() {
    const leaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR);
    leaves.forEach((leaf) => {
      if (leaf.view instanceof CardNavigator) {
        leaf.view.updateLayoutAndRefresh();
      }
    });
  }
  displayFilteredCards(filteredFiles) {
    const view = this.app.workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR)[0].view;
    view.cardContainer.displayCards(filteredFiles);
  }
  sortCards(criterion, order) {
    const view = this.app.workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR)[0].view;
    view.cardContainer.sortCards(criterion, order);
  }
  async activateView() {
    const { workspace } = this.app;
    let leaves = workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR);
    let leaf = leaves[0];
    if (!leaf) {
      const rightLeaf = workspace.getRightLeaf(false);
      if (rightLeaf) {
        await rightLeaf.setViewState({ type: VIEW_TYPE_CARD_NAVIGATOR, active: true });
        leaves = workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR);
        leaf = leaves[0];
      }
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3VpL2NhcmROYXZpZ2F0b3IudHMiLCAic3JjL3VpL3Rvb2xiYXIvdG9vbGJhci50cyIsICJzcmMvdWkvdG9vbGJhci90b29sYmFyQWN0aW9ucy50cyIsICJzcmMvdWkvY2FyZENvbnRhaW5lci9jYXJkQ29udGFpbmVyLnRzIiwgInNyYy91aS9jYXJkQ29udGFpbmVyL2NhcmRNYWtlci50cyIsICJzcmMvY29tbW9uL3V0aWxzLnRzIiwgInNyYy91aS9zZXR0aW5nc1RhYi50cyIsICJzcmMvY29tbW9uL3NldHRpbmdzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBzcmMvbWFpbi50c1xuXG5pbXBvcnQgeyBQbHVnaW4sIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgQ2FyZE5hdmlnYXRvciwgVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SIH0gZnJvbSAnLi91aS9jYXJkTmF2aWdhdG9yJztcbmltcG9ydCB7IFNldHRpbmdUYWIgfSBmcm9tICcuL3VpL3NldHRpbmdzVGFiJztcbmltcG9ydCB7IENhcmROYXZpZ2F0b3JTZXR0aW5ncyB9IGZyb20gJy4vY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICcuL2NvbW1vbi9zZXR0aW5ncyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmROYXZpZ2F0b3JQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgIHNldHRpbmdzOiBDYXJkTmF2aWdhdG9yU2V0dGluZ3MgPSBERUZBVUxUX1NFVFRJTkdTO1xuXHRzZWxlY3RlZEZvbGRlcjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cdHB1YmxpYyBjb250YWluZXJFbDogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgICBhc3luYyBvbmxvYWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoXG4gICAgICAgICAgICBWSUVXX1RZUEVfQ0FSRF9OQVZJR0FUT1IsXG4gICAgICAgICAgICAobGVhZikgPT4gbmV3IENhcmROYXZpZ2F0b3IobGVhZiwgdGhpcylcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgICAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2xheWVycy0zJywgJ0FjdGl2YXRlIENhcmQgTmF2aWdhdG9yJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnYWN0aXZhdGUtY2FyZC1uYXZpZ2F0b3InLFxuICAgICAgICAgICAgbmFtZTogJ0FjdGl2YXRlIENhcmQgTmF2aWdhdG9yJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnc2VsZWN0LWZvbGRlcicsXG4gICAgICAgICAgICBuYW1lOiAnU2VsZWN0IGZvbGRlciBmb3IgQ2FyZCBOYXZpZ2F0b3InLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoQ2FyZE5hdmlnYXRvcik7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy50b29sYmFyLm9wZW5Gb2xkZXJTZWxlY3RvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgb251bmxvYWQoKSB7XG4gICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmlld3MoKTtcbiAgICB9XG5cblx0c2V0U2VsZWN0ZWRGb2xkZXIoZm9sZGVyUGF0aDogc3RyaW5nKSB7XG4gICAgICAgIHRoaXMuc2VsZWN0ZWRGb2xkZXIgPSBmb2xkZXJQYXRoO1xuICAgICAgICB0aGlzLnNldHRpbmdzLnNlbGVjdGVkRm9sZGVyID0gZm9sZGVyUGF0aDtcbiAgICAgICAgdGhpcy5zYXZlU2V0dGluZ3MoKTtcbiAgICB9XG5cbiAgICByZWZyZXNoVmlld3MoKSB7XG4gICAgICAgIGNvbnN0IGxlYXZlcyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SKTtcbiAgICAgICAgbGVhdmVzLmZvckVhY2goKGxlYWYpID0+IHtcbiAgICAgICAgICAgIGlmIChsZWFmLnZpZXcgaW5zdGFuY2VvZiBDYXJkTmF2aWdhdG9yKSB7XG4gICAgICAgICAgICAgICAgbGVhZi52aWV3LnVwZGF0ZUxheW91dEFuZFJlZnJlc2goKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuXG5cdGRpc3BsYXlGaWx0ZXJlZENhcmRzKGZpbHRlcmVkRmlsZXM6IFRGaWxlW10pIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMuYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SKVswXS52aWV3IGFzIENhcmROYXZpZ2F0b3I7XG4gICAgICAgIHZpZXcuY2FyZENvbnRhaW5lci5kaXNwbGF5Q2FyZHMoZmlsdGVyZWRGaWxlcyk7XG4gICAgfVxuXHRcblx0c29ydENhcmRzKGNyaXRlcmlvbjogJ2ZpbGVOYW1lJyB8ICdsYXN0TW9kaWZpZWQnIHwgJ2NyZWF0ZWQnLCBvcmRlcjogJ2FzYycgfCAnZGVzYycpIHtcblx0XHRjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfQ0FSRF9OQVZJR0FUT1IpWzBdLnZpZXcgYXMgQ2FyZE5hdmlnYXRvcjtcblx0XHR2aWV3LmNhcmRDb250YWluZXIuc29ydENhcmRzKGNyaXRlcmlvbiwgb3JkZXIpO1xuXHR9XG5cblx0YXN5bmMgYWN0aXZhdGVWaWV3KCkge1xuXHRcdGNvbnN0IHsgd29ya3NwYWNlIH0gPSB0aGlzLmFwcDtcblx0XHRsZXQgbGVhdmVzID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfQ0FSRF9OQVZJR0FUT1IpO1xuXHRcdGxldCBsZWFmID0gbGVhdmVzWzBdO1xuXHRcblx0XHRpZiAoIWxlYWYpIHtcblx0XHRcdGNvbnN0IHJpZ2h0TGVhZiA9IHdvcmtzcGFjZS5nZXRSaWdodExlYWYoZmFsc2UpO1xuXHRcdFx0aWYgKHJpZ2h0TGVhZikge1xuXHRcdFx0XHRhd2FpdCByaWdodExlYWYuc2V0Vmlld1N0YXRlKHsgdHlwZTogVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SLCBhY3RpdmU6IHRydWUgfSk7XG5cdFx0XHRcdGxlYXZlcyA9IHdvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SKTsgLy8gXHVCMkU0XHVDMkRDIFx1QUMwMFx1QzgzOFx1QzYyNFx1QUUzMFxuXHRcdFx0XHRsZWFmID0gbGVhdmVzWzBdO1xuXHRcdFx0fVxuXHRcdH1cblx0XG5cdFx0aWYgKGxlYWYpIHtcblx0XHRcdHdvcmtzcGFjZS5yZXZlYWxMZWFmKGxlYWYpO1xuXHRcdH1cblx0fVxuXHRcbn1cbiIsICIvLyBzcmMvdWkvY2FyZE5hdmlnYXRvci50c1xuXG5pbXBvcnQgeyBJdGVtVmlldywgV29ya3NwYWNlTGVhZiB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IENhcmROYXZpZ2F0b3JQbHVnaW4gZnJvbSAnLi4vbWFpbic7XG5pbXBvcnQgeyBUb29sYmFyIH0gZnJvbSAnLi90b29sYmFyL3Rvb2xiYXInO1xuaW1wb3J0IHsgQ2FyZENvbnRhaW5lciB9IGZyb20gJy4vY2FyZENvbnRhaW5lci9jYXJkQ29udGFpbmVyJztcbmltcG9ydCB7IGNhbGN1bGF0ZUNhcmRTaXplIH0gZnJvbSAnLi4vY29tbW9uL3V0aWxzJztcblxuZXhwb3J0IGNvbnN0IFZJRVdfVFlQRV9DQVJEX05BVklHQVRPUiA9IFwiY2FyZC1uYXZpZ2F0b3Itdmlld1wiO1xuXG5leHBvcnQgY2xhc3MgQ2FyZE5hdmlnYXRvciBleHRlbmRzIEl0ZW1WaWV3IHtcbiAgICBwcml2YXRlIHBsdWdpbjogQ2FyZE5hdmlnYXRvclBsdWdpbjtcbiAgICBwdWJsaWMgdG9vbGJhcjogVG9vbGJhcjtcbiAgICBwdWJsaWMgY2FyZENvbnRhaW5lcjogQ2FyZENvbnRhaW5lcjtcbiAgICBwcml2YXRlIHJlc2l6ZU9ic2VydmVyOiBSZXNpemVPYnNlcnZlcjtcblx0cHJpdmF0ZSBpc1ZlcnRpY2FsOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IobGVhZjogV29ya3NwYWNlTGVhZiwgcGx1Z2luOiBDYXJkTmF2aWdhdG9yUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGxlYWYpO1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy50b29sYmFyID0gbmV3IFRvb2xiYXIodGhpcy5wbHVnaW4pO1xuICAgICAgICB0aGlzLmNhcmRDb250YWluZXIgPSBuZXcgQ2FyZENvbnRhaW5lcih0aGlzLnBsdWdpbiwgdGhpcy5sZWFmKTtcblx0XHR0aGlzLmlzVmVydGljYWwgPSB0aGlzLmNhbGN1bGF0ZUlzVmVydGljYWwoKTtcbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlciA9IG5ldyBSZXNpemVPYnNlcnZlcih0aGlzLmhhbmRsZVJlc2l6ZS5iaW5kKHRoaXMpKTtcbiAgICB9XG5cbiAgICBnZXRWaWV3VHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIFZJRVdfVFlQRV9DQVJEX05BVklHQVRPUjtcbiAgICB9XG5cbiAgICBnZXREaXNwbGF5VGV4dCgpIHtcbiAgICAgICAgcmV0dXJuIFwiQ2FyZCBOYXZpZ2F0b3JcIjtcbiAgICB9XG5cbiAgICBnZXRJY29uKCk6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBcImxheWVycy0zXCI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjYWxjdWxhdGVJc1ZlcnRpY2FsKCk6IGJvb2xlYW4ge1xuICAgICAgICBjb25zdCB7IHdpZHRoLCBoZWlnaHQgfSA9IHRoaXMubGVhZi52aWV3LmNvbnRhaW5lckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICByZXR1cm4gaGVpZ2h0ID4gd2lkdGg7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYW5kbGVSZXNpemUoKSB7XG4gICAgICAgIHRoaXMudXBkYXRlTGF5b3V0QW5kUmVmcmVzaCgpO1xuICAgIH1cbiAgICBcblx0cHVibGljIHVwZGF0ZUxheW91dEFuZFJlZnJlc2goKSB7XG5cdFx0dGhpcy5pc1ZlcnRpY2FsID0gdGhpcy5jYWxjdWxhdGVJc1ZlcnRpY2FsKCk7XG5cdFx0Y29uc3QgY29udGFpbmVyUmVjdCA9IHRoaXMubGVhZi52aWV3LmNvbnRhaW5lckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuXHRcdGNvbnN0IHsgY2FyZFdpZHRoLCBjYXJkSGVpZ2h0IH0gPSBjYWxjdWxhdGVDYXJkU2l6ZSh0aGlzLmlzVmVydGljYWwsIGNvbnRhaW5lclJlY3QsIHRoaXMucGx1Z2luLnNldHRpbmdzLmNhcmRzUGVyVmlldyk7XG5cdFx0XG5cdFx0dGhpcy5jYXJkQ29udGFpbmVyLnNldE9yaWVudGF0aW9uKHRoaXMuaXNWZXJ0aWNhbCk7XG5cdFx0dGhpcy5jYXJkQ29udGFpbmVyLnNldENhcmRTaXplKGNhcmRXaWR0aCwgY2FyZEhlaWdodCk7XG5cdFx0dGhpcy50b29sYmFyLnNldE9yaWVudGF0aW9uKHRoaXMuaXNWZXJ0aWNhbCk7XG5cdFx0XG5cdFx0dGhpcy5yZWZyZXNoKCk7XG5cdH1cblxuICAgIGFzeW5jIG9uT3BlbigpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyID0gdGhpcy5jb250YWluZXJFbC5jaGlsZHJlblsxXSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgY29udGFpbmVyLmVtcHR5KCk7XG5cbiAgICAgICAgY29uc3QgY2FyZE5hdmlnYXRvckNvbnRhaW5lckVsID0gY29udGFpbmVyLmNyZWF0ZURpdignY2FyZC1uYXZpZ2F0b3InKTtcbiAgICAgICAgY29uc3QgdG9vbGJhckVsID0gY2FyZE5hdmlnYXRvckNvbnRhaW5lckVsLmNyZWF0ZURpdignY2FyZC1uYXZpZ2F0b3ItdG9vbGJhcicpO1xuICAgICAgICBjb25zdCB2aWV3QXJlYUVsID0gY2FyZE5hdmlnYXRvckNvbnRhaW5lckVsLmNyZWF0ZURpdignY2FyZC12aWV3LWFyZWEnKTtcbiAgICAgICAgY29uc3QgY2FyZENvbnRhaW5lckVsID0gdmlld0FyZWFFbC5jcmVhdGVEaXYoJ2NhcmQtY29udGFpbmVyJyk7XG5cbiAgICAgICAgdGhpcy50b29sYmFyLmluaXRpYWxpemUodG9vbGJhckVsKTtcbiAgICAgICAgdGhpcy5jYXJkQ29udGFpbmVyLmluaXRpYWxpemUoY2FyZENvbnRhaW5lckVsKTtcblxuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IHRoaXMuY2FsY3VsYXRlSXNWZXJ0aWNhbCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dEFuZFJlZnJlc2goKTtcbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMubGVhZi52aWV3LmNvbnRhaW5lckVsKTtcblxuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG5cbiAgICBhc3luYyBvbkNsb3NlKCkge1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyLmRpc2Nvbm5lY3QoKTtcbiAgICAgICAgdGhpcy50b29sYmFyLm9uQ2xvc2UoKTtcbiAgICAgICAgdGhpcy5jYXJkQ29udGFpbmVyLm9uQ2xvc2UoKTtcbiAgICB9XG5cbiAgICByZWZyZXNoKCkge1xuICAgICAgICB0aGlzLnRvb2xiYXIucmVmcmVzaCgpO1xuICAgICAgICB0aGlzLmNhcmRDb250YWluZXIucmVmcmVzaCgpO1xuICAgIH1cbn1cbiIsICIvLyBzcmMvdWkvdG9vbGJhci90b29sYmFyLnRzXG5cbmltcG9ydCB7IHNldEljb24sIFRGb2xkZXIgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgQ2FyZE5hdmlnYXRvclBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcbmltcG9ydCB7IENhcmROYXZpZ2F0b3IgfSBmcm9tICcuLi9jYXJkTmF2aWdhdG9yJztcbmltcG9ydCB7IEZvbGRlclN1Z2dlc3RNb2RhbCB9IGZyb20gJy4vdG9vbGJhckFjdGlvbnMnO1xuaW1wb3J0IHsgbW92ZUNhcmRzLCB0b2dnbGVTZWFyY2gsIHRvZ2dsZVNvcnQsIHRvZ2dsZVNldHRpbmdzIH0gZnJvbSAnLi90b29sYmFyQWN0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBUb29sYmFyIHtcbiAgICBwcml2YXRlIGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCB8IHVuZGVmaW5lZCA9IHVuZGVmaW5lZDtcblx0cHJpdmF0ZSBpc1ZlcnRpY2FsOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IENhcmROYXZpZ2F0b3JQbHVnaW4pIHtcblx0XHR0aGlzLmlzVmVydGljYWwgPSBmYWxzZTtcblx0fVxuXG4gICAgaW5pdGlhbGl6ZShjb250YWluZXJFbDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJFbCA9IGNvbnRhaW5lckVsO1xuICAgICAgICB0aGlzLmNyZWF0ZVRvb2xiYXIoKTtcbiAgICB9XG5cblx0c2V0T3JpZW50YXRpb24oaXNWZXJ0aWNhbDogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsICE9PSBpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUb29sYmFyU3R5bGUoKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVG9vbGJhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG5cdHByaXZhdGUgdXBkYXRlVG9vbGJhclN0eWxlKCkge1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXJFbCkge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jbGFzc0xpc3QudG9nZ2xlKCd2ZXJ0aWNhbCcsIHRoaXMuaXNWZXJ0aWNhbCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNsYXNzTGlzdC50b2dnbGUoJ2hvcml6b250YWwnLCAhdGhpcy5pc1ZlcnRpY2FsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlVG9vbGJhcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lckVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgY29uc3QgdG9vbGJhckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0b29sYmFyQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci10b29sYmFyLWNvbnRhaW5lcic7XG5cbiAgICAgICAgY29uc3QgbW92ZUljb25zQ29udGFpbmVyID0gdGhpcy5pc1ZlcnRpY2FsID8gdGhpcy5jcmVhdGVWZXJ0aWNhbE1vdmVJY29uc0NvbnRhaW5lcigpIDogdGhpcy5jcmVhdGVIb3Jpem9udGFsTW92ZUljb25zQ29udGFpbmVyKCk7XG4gICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IHRoaXMuY3JlYXRlU2VwYXJhdG9yKCk7XG4gICAgICAgIGNvbnN0IGFjdGlvbkljb25zQ29udGFpbmVyID0gdGhpcy5jcmVhdGVBY3Rpb25JY29uc0NvbnRhaW5lcigpO1xuXG4gICAgICAgIHRvb2xiYXJDb250YWluZXIuYXBwZW5kQ2hpbGQobW92ZUljb25zQ29udGFpbmVyKTtcbiAgICAgICAgdG9vbGJhckNvbnRhaW5lci5hcHBlbmRDaGlsZChzZXBhcmF0b3IpO1xuICAgICAgICB0b29sYmFyQ29udGFpbmVyLmFwcGVuZENoaWxkKGFjdGlvbkljb25zQ29udGFpbmVyKTtcblxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmFwcGVuZENoaWxkKHRvb2xiYXJDb250YWluZXIpO1xuICAgIH1cblxuICAgIHByaXZhdGUgZ2V0TW9kZSgpOiAndmVydGljYWwnIHwgJ2hvcml6b250YWwnIHtcbiAgICAgICAgY29uc3QgdmlldyA9IHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCdjYXJkLW5hdmlnYXRvci12aWV3JylbMF0udmlldztcbiAgICAgICAgcmV0dXJuIHZpZXcuY29udGFpbmVyRWwuY2xpZW50SGVpZ2h0ID4gdmlldy5jb250YWluZXJFbC5jbGllbnRXaWR0aCA/ICd2ZXJ0aWNhbCcgOiAnaG9yaXpvbnRhbCc7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVWZXJ0aWNhbE1vdmVJY29uc0NvbnRhaW5lcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ2NhcmQtbmF2aWdhdG9yLW1vdmUtaWNvbnMtY29udGFpbmVyJztcblxuICAgICAgICBjb25zdCBpY29ucyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2NoZXZyb25zLXVwJywgbGFiZWw6ICdNb3ZlIHVwIG11bHRpcGxlJywgYWN0aW9uOiAoKSA9PiBtb3ZlQ2FyZHMoJ3VwJywgdGhpcy5wbHVnaW4sICdtdWx0aXBsZScpIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdjaGV2cm9uLXVwJywgbGFiZWw6ICdNb3ZlIHVwIHNpbmdsZScsIGFjdGlvbjogKCkgPT4gbW92ZUNhcmRzKCd1cCcsIHRoaXMucGx1Z2luLCAnc2luZ2xlJykgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2NoZXZyb25zLWRvd24tdXAnLCBsYWJlbDogJ0NlbnRlciBhY3RpdmUgY2FyZCcsIGFjdGlvbjogKCkgPT4gbW92ZUNhcmRzKCdjZW50ZXInLCB0aGlzLnBsdWdpbikgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2NoZXZyb24tZG93bicsIGxhYmVsOiAnTW92ZSBkb3duIHNpbmdsZScsIGFjdGlvbjogKCkgPT4gbW92ZUNhcmRzKCdkb3duJywgdGhpcy5wbHVnaW4sICdzaW5nbGUnKSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnY2hldnJvbnMtZG93bicsIGxhYmVsOiAnTW92ZSBkb3duIG11bHRpcGxlJywgYWN0aW9uOiAoKSA9PiBtb3ZlQ2FyZHMoJ2Rvd24nLCB0aGlzLnBsdWdpbiwgJ211bHRpcGxlJykgfSxcbiAgICAgICAgXTtcblxuICAgICAgICBpY29ucy5mb3JFYWNoKGljb24gPT4ge1xuICAgICAgICAgICAgY29uc3QgaWNvbkVsZW1lbnQgPSB0aGlzLmNyZWF0ZVRvb2xiYXJJY29uKGljb24ubmFtZSwgaWNvbi5sYWJlbCwgaWNvbi5hY3Rpb24pO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGljb25FbGVtZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZUhvcml6b250YWxNb3ZlSWNvbnNDb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1tb3ZlLWljb25zLWNvbnRhaW5lcic7XG5cbiAgICAgICAgY29uc3QgaWNvbnMgPSBbXG4gICAgICAgICAgICB7IG5hbWU6ICdjaGV2cm9ucy1sZWZ0JywgbGFiZWw6ICdNb3ZlIGxlZnQgbXVsdGlwbGUnLCBhY3Rpb246ICgpID0+IG1vdmVDYXJkcygnbGVmdCcsIHRoaXMucGx1Z2luLCAnbXVsdGlwbGUnKSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnY2hldnJvbi1sZWZ0JywgbGFiZWw6ICdNb3ZlIGxlZnQgc2luZ2xlJywgYWN0aW9uOiAoKSA9PiBtb3ZlQ2FyZHMoJ2xlZnQnLCB0aGlzLnBsdWdpbiwgJ3NpbmdsZScpIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdjaGV2cm9ucy1yaWdodC1sZWZ0JywgbGFiZWw6ICdDZW50ZXIgYWN0aXZlIGNhcmQnLCBhY3Rpb246ICgpID0+IG1vdmVDYXJkcygnY2VudGVyJywgdGhpcy5wbHVnaW4pIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdjaGV2cm9uLXJpZ2h0JywgbGFiZWw6ICdNb3ZlIHJpZ2h0IHNpbmdsZScsIGFjdGlvbjogKCkgPT4gbW92ZUNhcmRzKCdyaWdodCcsIHRoaXMucGx1Z2luLCAnc2luZ2xlJykgfSxcbiAgICAgICAgICAgIHsgbmFtZTogJ2NoZXZyb25zLXJpZ2h0JywgbGFiZWw6ICdNb3ZlIHJpZ2h0IG11bHRpcGxlJywgYWN0aW9uOiAoKSA9PiBtb3ZlQ2FyZHMoJ3JpZ2h0JywgdGhpcy5wbHVnaW4sICdtdWx0aXBsZScpIH0sXG4gICAgICAgIF07XG5cbiAgICAgICAgaWNvbnMuZm9yRWFjaChpY29uID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGljb25FbGVtZW50ID0gdGhpcy5jcmVhdGVUb29sYmFySWNvbihpY29uLm5hbWUsIGljb24ubGFiZWwsIGljb24uYWN0aW9uKTtcbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChpY29uRWxlbWVudCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVBY3Rpb25JY29uc0NvbnRhaW5lcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBjb250YWluZXIuY2xhc3NOYW1lID0gJ2NhcmQtbmF2aWdhdG9yLWFjdGlvbi1pY29ucy1jb250YWluZXInO1xuXG4gICAgICAgIGNvbnN0IGljb25zID0gW1xuICAgICAgICAgICAgeyBuYW1lOiAnc2VhcmNoJywgbGFiZWw6ICdTZWFyY2gnLCBhY3Rpb246ICgpID0+IHRvZ2dsZVNlYXJjaCh0aGlzLnBsdWdpbikgfSxcblx0XHRcdHsgbmFtZTogJ2ZvbGRlcicsIGxhYmVsOiAnU2VsZWN0IGZvbGRlcicsIGFjdGlvbjogKCkgPT4gdGhpcy5vcGVuRm9sZGVyU2VsZWN0b3IoKSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnYXJyb3ctdXAtbmFycm93LXdpZGUnLCBsYWJlbDogJ1NvcnQgY2FyZHMnLCBhY3Rpb246ICgpID0+IHRvZ2dsZVNvcnQodGhpcy5wbHVnaW4pIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdzZXR0aW5ncycsIGxhYmVsOiAnU2V0dGluZ3MnLCBhY3Rpb246ICgpID0+IHRvZ2dsZVNldHRpbmdzKHRoaXMucGx1Z2luKSB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIGljb25zLmZvckVhY2goaWNvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBpY29uRWxlbWVudCA9IHRoaXMuY3JlYXRlVG9vbGJhckljb24oaWNvbi5uYW1lLCBpY29uLmxhYmVsLCBpY29uLmFjdGlvbik7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaWNvbkVsZW1lbnQpO1xuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlU2VwYXJhdG9yKCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNlcGFyYXRvci5jbGFzc05hbWUgPSAndG9vbGJhci1zZXBhcmF0b3InO1xuICAgICAgICByZXR1cm4gc2VwYXJhdG9yO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlVG9vbGJhckljb24oaWNvbk5hbWU6IHN0cmluZywgYXJpYUxhYmVsOiBzdHJpbmcsIGFjdGlvbjogKCkgPT4gdm9pZCk6IEhUTUxFbGVtZW50IHtcbiAgICAgICAgY29uc3QgaWNvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBpY29uLmNsYXNzTmFtZSA9ICdjbGlja2FibGUtaWNvbic7XG4gICAgICAgIGljb24uc2V0QXR0cmlidXRlKCdhcmlhLWxhYmVsJywgYXJpYUxhYmVsKTtcblxuICAgICAgICBzZXRJY29uKGljb24sIGljb25OYW1lKTtcbiAgICAgICAgaWNvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFjdGlvbik7XG5cbiAgICAgICAgcmV0dXJuIGljb247XG4gICAgfVxuXHRcblx0cHVibGljIG9wZW5Gb2xkZXJTZWxlY3RvcigpIHtcblx0XHRuZXcgRm9sZGVyU3VnZ2VzdE1vZGFsKHRoaXMucGx1Z2luLCAoZm9sZGVyOiBURm9sZGVyKSA9PiB7XG5cdFx0XHRjb25zdCB2aWV3ID0gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKENhcmROYXZpZ2F0b3IpO1xuXHRcdFx0aWYgKHZpZXcpIHtcblx0XHRcdFx0dmlldy5jYXJkQ29udGFpbmVyLmRpc3BsYXlDYXJkc0ZvckZvbGRlcihmb2xkZXIpO1xuXHRcdFx0fVxuXHRcdH0pLm9wZW4oKTtcblx0fVxuXG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgLy8gSW1wbGVtZW50IHJlZnJlc2ggbG9naWMgaWYgbmVjZXNzYXJ5XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgLy8gQ2xlYW51cCB0b29sYmFyLXJlbGF0ZWQgcmVzb3VyY2VzXG4gICAgfVxufVxuIiwgIi8vIHNyYy91aS90b29sYmFyL3Rvb2xiYXJBY3Rpb25zLnRzXG5cbmltcG9ydCB7IFRGb2xkZXIsIEZ1enp5U3VnZ2VzdE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgQ2FyZE5hdmlnYXRvciB9IGZyb20gJy4uL2NhcmROYXZpZ2F0b3InO1xuaW1wb3J0IHsgVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SIH0gZnJvbSAnLi4vY2FyZE5hdmlnYXRvcic7XG5pbXBvcnQgQ2FyZE5hdmlnYXRvclBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcblxuZXhwb3J0IGNsYXNzIEZvbGRlclN1Z2dlc3RNb2RhbCBleHRlbmRzIEZ1enp5U3VnZ2VzdE1vZGFsPFRGb2xkZXI+IHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogQ2FyZE5hdmlnYXRvclBsdWdpbiwgcHJpdmF0ZSBvblNlbGVjdDogKGZvbGRlcjogVEZvbGRlcikgPT4gdm9pZCkge1xuICAgICAgICBzdXBlcihwbHVnaW4uYXBwKTtcbiAgICB9XG5cbiAgICBnZXRJdGVtcygpOiBURm9sZGVyW10ge1xuICAgICAgICByZXR1cm4gdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmdldEFsbExvYWRlZEZpbGVzKClcbiAgICAgICAgICAgIC5maWx0ZXIoKGZpbGUpOiBmaWxlIGlzIFRGb2xkZXIgPT4gZmlsZSBpbnN0YW5jZW9mIFRGb2xkZXIpO1xuICAgIH1cblxuICAgIGdldEl0ZW1UZXh0KGZvbGRlcjogVEZvbGRlcik6IHN0cmluZyB7XG4gICAgICAgIHJldHVybiBmb2xkZXIucGF0aDtcbiAgICB9XG5cbiAgICBvbkNob29zZUl0ZW0oZm9sZGVyOiBURm9sZGVyKTogdm9pZCB7XG4gICAgICAgIHRoaXMub25TZWxlY3QoZm9sZGVyKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBtb3ZlQ2FyZHMoZGlyZWN0aW9uOiBzdHJpbmcsIHBsdWdpbjogQ2FyZE5hdmlnYXRvclBsdWdpbiwgYW1vdW50OiAnc2luZ2xlJyB8ICdtdWx0aXBsZScgPSAnc2luZ2xlJykge1xuICAgIGNvbnN0IHZpZXcgPSBwbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SKVswXS52aWV3IGFzIENhcmROYXZpZ2F0b3I7XG4gICAgY29uc3QgY2FyZENvbnRhaW5lciA9IHZpZXcuY2FyZENvbnRhaW5lcjtcbiAgICBjb25zdCBjYXJkQ29udGFpbmVyRWwgPSBjYXJkQ29udGFpbmVyLmdldENvbnRhaW5lckVsKCk7XG4gICAgaWYgKCFjYXJkQ29udGFpbmVyRWwpIHJldHVybjtcblxuICAgIGNvbnN0IHsgY2FyZFdpZHRoLCBjYXJkSGVpZ2h0LCBpc1ZlcnRpY2FsIH0gPSBjYXJkQ29udGFpbmVyLmdldENhcmRTaXplQW5kT3JpZW50YXRpb24oKTtcblxuICAgIGNvbnN0IG1vdmVBbW91bnQgPSBhbW91bnQgPT09ICdzaW5nbGUnXG4gICAgICAgID8gKGlzVmVydGljYWwgPyBjYXJkSGVpZ2h0IDogY2FyZFdpZHRoKVxuICAgICAgICA6IChpc1ZlcnRpY2FsID8gY2FyZEhlaWdodCA6IGNhcmRXaWR0aCkgKiBwbHVnaW4uc2V0dGluZ3MuY2FyZHNQZXJWaWV3O1xuICAgIFxuICAgIGNvbnN0IGN1cnJlbnRTY3JvbGwgPSBpc1ZlcnRpY2FsID8gY2FyZENvbnRhaW5lckVsLnNjcm9sbFRvcCA6IGNhcmRDb250YWluZXJFbC5zY3JvbGxMZWZ0O1xuXG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgY2FzZSAndXAnOlxuICAgICAgICAgICAgY2FyZENvbnRhaW5lckVsLnNjcm9sbFRvKHsgdG9wOiBjdXJyZW50U2Nyb2xsIC0gbW92ZUFtb3VudCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICAgICAgY2FyZENvbnRhaW5lckVsLnNjcm9sbFRvKHsgdG9wOiBjdXJyZW50U2Nyb2xsICsgbW92ZUFtb3VudCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2xlZnQnOlxuICAgICAgICAgICAgY2FyZENvbnRhaW5lckVsLnNjcm9sbFRvKHsgbGVmdDogY3VycmVudFNjcm9sbCAtIG1vdmVBbW91bnQsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICBjYXJkQ29udGFpbmVyRWwuc2Nyb2xsVG8oeyBsZWZ0OiBjdXJyZW50U2Nyb2xsICsgbW92ZUFtb3VudCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2NlbnRlcic6IHtcbiAgICAgICAgICAgIGNvbnN0IGFjdGl2ZUNhcmQgPSBjYXJkQ29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLmNhcmQtbmF2aWdhdG9yLWFjdGl2ZScpIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICAgICAgaWYgKGFjdGl2ZUNhcmQpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVDYXJkLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicsIGlubGluZTogJ2NlbnRlcicgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVNlYXJjaChwbHVnaW46IENhcmROYXZpZ2F0b3JQbHVnaW4pIHtcbiAgICBsZXQgc2VhcmNoUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1uYXZpZ2F0b3Itc2VhcmNoLXBvcHVwJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICBpZiAoIXNlYXJjaFBvcHVwKSB7XG4gICAgICAgIHNlYXJjaFBvcHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNlYXJjaFBvcHVwLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1zZWFyY2gtcG9wdXAnO1xuXG4gICAgICAgIGNvbnN0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgaW5wdXQudHlwZSA9ICd0ZXh0JztcbiAgICAgICAgaW5wdXQucGxhY2Vob2xkZXIgPSAnU2VhcmNoLi4uJztcblxuICAgICAgICBpbnB1dC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHNlYXJjaFRlcm0gPSBpbnB1dC52YWx1ZTtcbiAgICAgICAgICAgIGNvbnN0IHZpZXcgPSBwbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRMZWF2ZXNPZlR5cGUoJ2NhcmQtbmF2aWdhdG9yLXZpZXcnKVswXS52aWV3IGFzIENhcmROYXZpZ2F0b3I7XG4gICAgICAgICAgICBhd2FpdCB2aWV3LmNhcmRDb250YWluZXIuc2VhcmNoQ2FyZHMoc2VhcmNoVGVybSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNlYXJjaFBvcHVwLmFwcGVuZENoaWxkKGlucHV0KTtcblxuICAgICAgICAvLyBcdUQyMzRcdUJDMTQgXHVENTU4XHVCMkU4XHVDNUQwIFx1QkMzMFx1Q0U1OFxuICAgICAgICBjb25zdCB0b29sYmFyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1uYXZpZ2F0b3ItdG9vbGJhci1jb250YWluZXInKTtcbiAgICAgICAgaWYgKHRvb2xiYXJFbCkge1xuICAgICAgICAgICAgdG9vbGJhckVsLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBzZWFyY2hQb3B1cCk7XG5cbiAgICAgICAgICAgIC8vIFx1RDY1NFx1QkE3NFx1Qzc1OCBcdUIyRTRcdUI5NzggXHVBQ0YzXHVDNzQ0IFx1RDA3NFx1QjlBRFx1RDU1OFx1QkE3NCBcdUQzMURcdUM1QzVcdUM3NDQgXHVCMkVCXHVCMjk0IFx1Qzc3NFx1QkNBNFx1RDJCOCBcdUNEOTRcdUFDMDBcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gb25DbGlja091dHNpZGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2VhcmNoUG9wdXAgJiYgIXNlYXJjaFBvcHVwLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSAmJiAhdG9vbGJhckVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBzZWFyY2hQb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrT3V0c2lkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBzZWFyY2hQb3B1cC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiB0b2dnbGVTb3J0KHBsdWdpbjogQ2FyZE5hdmlnYXRvclBsdWdpbikge1xuICAgIGxldCBzb3J0UG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1uYXZpZ2F0b3Itc29ydC1wb3B1cCcpIGFzIEhUTUxFbGVtZW50O1xuXG4gICAgaWYgKCFzb3J0UG9wdXApIHtcbiAgICAgICAgc29ydFBvcHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNvcnRQb3B1cC5jbGFzc05hbWUgPSAnY2FyZC1uYXZpZ2F0b3Itc29ydC1wb3B1cCc7XG5cbiAgICAgICAgY29uc3Qgb3B0aW9uczogQXJyYXk8J2ZpbGVOYW1lJyB8ICdsYXN0TW9kaWZpZWQnIHwgJ2NyZWF0ZWQnPiA9IFsnZmlsZU5hbWUnLCAnbGFzdE1vZGlmaWVkJywgJ2NyZWF0ZWQnXTtcbiAgICAgICAgb3B0aW9ucy5mb3JFYWNoKG9wdGlvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBhc2NCdXR0b24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTtcbiAgICAgICAgICAgIGFzY0J1dHRvbi50ZXh0Q29udGVudCA9IGAke29wdGlvbn0gXHUyMTkxYDtcbiAgICAgICAgICAgIGFzY0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4uc29ydENhcmRzKG9wdGlvbiwgJ2FzYycpO1xuICAgICAgICAgICAgICAgIHNvcnRQb3B1cC5jbGFzc0xpc3QuYWRkKCdoaWRkZW4nKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb25zdCBkZXNjQnV0dG9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7XG4gICAgICAgICAgICBkZXNjQnV0dG9uLnRleHRDb250ZW50ID0gYCR7b3B0aW9ufSBcdTIxOTNgO1xuICAgICAgICAgICAgZGVzY0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBhd2FpdCBwbHVnaW4uc29ydENhcmRzKG9wdGlvbiwgJ2Rlc2MnKTtcbiAgICAgICAgICAgICAgICBzb3J0UG9wdXAuY2xhc3NMaXN0LmFkZCgnaGlkZGVuJyk7XG4gICAgICAgICAgICB9KTtcblxuICAgICAgICAgICAgc29ydFBvcHVwLmFwcGVuZENoaWxkKGFzY0J1dHRvbik7XG4gICAgICAgICAgICBzb3J0UG9wdXAuYXBwZW5kQ2hpbGQoZGVzY0J1dHRvbik7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8vIFx1RDIzNFx1QkMxNCBcdUQ1NThcdUIyRThcdUM1RDAgXHVCQzMwXHVDRTU4XG4gICAgICAgIGNvbnN0IHRvb2xiYXJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLW5hdmlnYXRvci10b29sYmFyLWNvbnRhaW5lcicpO1xuICAgICAgICBpZiAodG9vbGJhckVsKSB7XG4gICAgICAgICAgICB0b29sYmFyRWwuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIHNvcnRQb3B1cCk7XG5cbiAgICAgICAgICAgIC8vIFx1RDY1NFx1QkE3NFx1Qzc1OCBcdUIyRTRcdUI5NzggXHVBQ0YzXHVDNzQ0IFx1RDA3NFx1QjlBRFx1RDU1OFx1QkE3NCBcdUQzMURcdUM1QzVcdUM3NDQgXHVCMkVCXHVCMjk0IFx1Qzc3NFx1QkNBNFx1RDJCOCBcdUNEOTRcdUFDMDBcbiAgICAgICAgICAgIGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgZnVuY3Rpb24gb25DbGlja091dHNpZGUoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoc29ydFBvcHVwICYmICFzb3J0UG9wdXAuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpICYmICF0b29sYmFyRWwuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNvcnRQb3B1cC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcignY2xpY2snLCBvbkNsaWNrT3V0c2lkZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgICBzb3J0UG9wdXAuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdG9nZ2xlU2V0dGluZ3MocGx1Z2luOiBDYXJkTmF2aWdhdG9yUGx1Z2luKSB7XG4gICAgbGV0IHNldHRpbmdzUG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1uYXZpZ2F0b3Itc2V0dGluZ3MtcG9wdXAnKSBhcyBIVE1MRWxlbWVudDtcblxuICAgIGlmICghc2V0dGluZ3NQb3B1cCkge1xuICAgICAgICBzZXR0aW5nc1BvcHVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIHNldHRpbmdzUG9wdXAuY2xhc3NOYW1lID0gJ2NhcmQtbmF2aWdhdG9yLXNldHRpbmdzLXBvcHVwJztcblxuICAgICAgICAvLyBcdUNFNzRcdUI0REMgXHVDMjE4IFx1QzEyNFx1QzgxNVxuICAgICAgICBjb25zdCBjYXJkc1BlclZpZXdTZXR0aW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgY2FyZHNQZXJWaWV3U2V0dGluZy50eXBlID0gJ3JhbmdlJztcbiAgICAgICAgY2FyZHNQZXJWaWV3U2V0dGluZy5taW4gPSAnMSc7XG4gICAgICAgIGNhcmRzUGVyVmlld1NldHRpbmcubWF4ID0gJzEwJztcbiAgICAgICAgY2FyZHNQZXJWaWV3U2V0dGluZy52YWx1ZSA9IHBsdWdpbi5zZXR0aW5ncy5jYXJkc1BlclZpZXcudG9TdHJpbmcoKTtcbiAgICAgICAgY2FyZHNQZXJWaWV3U2V0dGluZy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5jYXJkc1BlclZpZXcgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgICAgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgcGx1Z2luLnJlZnJlc2hWaWV3cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY2FyZHNQZXJWaWV3TGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICBjYXJkc1BlclZpZXdMYWJlbC50ZXh0Q29udGVudCA9ICdDYXJkcyBQZXIgVmlldzonO1xuICAgICAgICBzZXR0aW5nc1BvcHVwLmFwcGVuZENoaWxkKGNhcmRzUGVyVmlld0xhYmVsKTtcbiAgICAgICAgc2V0dGluZ3NQb3B1cC5hcHBlbmRDaGlsZChjYXJkc1BlclZpZXdTZXR0aW5nKTtcblxuICAgICAgICAvLyBcdUFFMDBcdUM3OTAgXHVEMDZDXHVBRTMwIFx1QzEyNFx1QzgxNVxuICAgICAgICBjb25zdCBmb250U2l6ZVNldHRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICBmb250U2l6ZVNldHRpbmcudHlwZSA9ICdyYW5nZSc7XG4gICAgICAgIGZvbnRTaXplU2V0dGluZy5taW4gPSAnMTAnO1xuICAgICAgICBmb250U2l6ZVNldHRpbmcubWF4ID0gJzMwJztcbiAgICAgICAgZm9udFNpemVTZXR0aW5nLnZhbHVlID0gcGx1Z2luLnNldHRpbmdzLmNvbnRlbnRTaXplLnRvU3RyaW5nKCk7XG4gICAgICAgIGZvbnRTaXplU2V0dGluZy5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsIChlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZSA9IChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS52YWx1ZTtcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5jb250ZW50U2l6ZSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgICAgICBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICBwbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmb250U2l6ZUxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgZm9udFNpemVMYWJlbC50ZXh0Q29udGVudCA9ICdDb250ZW50IEZvbnQgU2l6ZTonO1xuICAgICAgICBzZXR0aW5nc1BvcHVwLmFwcGVuZENoaWxkKGZvbnRTaXplTGFiZWwpO1xuICAgICAgICBzZXR0aW5nc1BvcHVwLmFwcGVuZENoaWxkKGZvbnRTaXplU2V0dGluZyk7XG5cbiAgICAgICAgLy8gXHVENDVDXHVDMkRDIFx1RDU2RFx1QkFBOSBcdUMxMjBcdUQwRERcdUM3NDQgXHVDNzA0XHVENTVDIFx1RDFBMFx1QUUwMCBcdUJDODRcdUQyQkNcdUI0RTRcbiAgICAgICAgY29uc3QgY3JlYXRlVG9nZ2xlID0gKGxhYmVsVGV4dDogc3RyaW5nLCBpbml0aWFsVmFsdWU6IGJvb2xlYW4sIG9uQ2hhbmdlOiAodmFsdWU6IGJvb2xlYW4pID0+IHZvaWQpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICAgICAgY29uc3QgbGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdsYWJlbCcpO1xuICAgICAgICAgICAgbGFiZWwudGV4dENvbnRlbnQgPSBsYWJlbFRleHQ7XG5cbiAgICAgICAgICAgIGNvbnN0IHRvZ2dsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgICAgICB0b2dnbGUudHlwZSA9ICdjaGVja2JveCc7XG4gICAgICAgICAgICB0b2dnbGUuY2hlY2tlZCA9IGluaXRpYWxWYWx1ZTtcbiAgICAgICAgICAgIHRvZ2dsZS5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoZSkgPT4ge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlKChlLnRhcmdldCBhcyBIVE1MSW5wdXRFbGVtZW50KS5jaGVja2VkKTtcbiAgICAgICAgICAgICAgICBwbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgICAgICAgICAgcGx1Z2luLnJlZnJlc2hWaWV3cygpO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGNvbnRhaW5lci5hcHBlbmRDaGlsZChsYWJlbCk7XG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQodG9nZ2xlKTtcbiAgICAgICAgICAgIHJldHVybiBjb250YWluZXI7XG4gICAgICAgIH07XG5cbiAgICAgICAgLy8gRmlsZSBOYW1lIFx1RDQ1Q1x1QzJEQ1xuICAgICAgICBjb25zdCBmaWxlTmFtZVRvZ2dsZSA9IGNyZWF0ZVRvZ2dsZSgnU2hvdyBGaWxlIE5hbWUnLCBwbHVnaW4uc2V0dGluZ3Muc2hvd0ZpbGVOYW1lLCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5zaG93RmlsZU5hbWUgPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldHRpbmdzUG9wdXAuYXBwZW5kQ2hpbGQoZmlsZU5hbWVUb2dnbGUpO1xuXG4gICAgICAgIC8vIEZpcnN0IEhlYWRlciBcdUQ0NUNcdUMyRENcbiAgICAgICAgY29uc3QgZmlyc3RIZWFkZXJUb2dnbGUgPSBjcmVhdGVUb2dnbGUoJ1Nob3cgRmlyc3QgSGVhZGVyJywgcGx1Z2luLnNldHRpbmdzLnNob3dGaXJzdEhlYWRlciwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3Muc2hvd0ZpcnN0SGVhZGVyID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXR0aW5nc1BvcHVwLmFwcGVuZENoaWxkKGZpcnN0SGVhZGVyVG9nZ2xlKTtcblxuICAgICAgICAvLyBDb250ZW50IFx1RDQ1Q1x1QzJEQ1xuICAgICAgICBjb25zdCBjb250ZW50VG9nZ2xlID0gY3JlYXRlVG9nZ2xlKCdTaG93IENvbnRlbnQnLCBwbHVnaW4uc2V0dGluZ3Muc2hvd0NvbnRlbnQsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnNob3dDb250ZW50ID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXR0aW5nc1BvcHVwLmFwcGVuZENoaWxkKGNvbnRlbnRUb2dnbGUpO1xuXG4gICAgICAgIC8vIERyYWcgYW5kIERyb3AgQ29udGVudCBcdUQ0NUNcdUMyREMgKFx1QzBDOFx1Qjg1QyBcdUNEOTRcdUFDMDBcdUI0MUMgXHVCRDgwXHVCRDg0KVxuICAgICAgICBjb25zdCBkcmFnRHJvcENvbnRlbnRUb2dnbGUgPSBjcmVhdGVUb2dnbGUoJ0RyYWcgYW5kIERyb3AgQ29udGVudCcsIHBsdWdpbi5zZXR0aW5ncy5kcmFnRHJvcENvbnRlbnQsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLmRyYWdEcm9wQ29udGVudCA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0dGluZ3NQb3B1cC5hcHBlbmRDaGlsZChkcmFnRHJvcENvbnRlbnRUb2dnbGUpO1xuXG4gICAgICAgIC8vIFx1RDIzNFx1QkMxNCBcdUQ1NThcdUIyRThcdUM1RDAgXHVCQzMwXHVDRTU4XG4gICAgICAgIGNvbnN0IHRvb2xiYXJFbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLW5hdmlnYXRvci10b29sYmFyLWNvbnRhaW5lcicpO1xuICAgICAgICBpZiAodG9vbGJhckVsKSB7XG4gICAgICAgICAgICB0b29sYmFyRWwuaW5zZXJ0QWRqYWNlbnRFbGVtZW50KCdhZnRlcmVuZCcsIHNldHRpbmdzUG9wdXApO1xuXG4gICAgICAgICAgICAvLyBcdUQ2NTRcdUJBNzRcdUM3NTggXHVCMkU0XHVCOTc4IFx1QUNGM1x1Qzc0NCBcdUQwNzRcdUI5QURcdUQ1NThcdUJBNzQgXHVEMzFEXHVDNUM1XHVDNzQ0IFx1QjJFQlx1QjI5NCBcdUM3NzRcdUJDQTRcdUQyQjggXHVDRDk0XHVBQzAwXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIG9uQ2xpY2tPdXRzaWRlKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzUG9wdXAgJiYgIXNldHRpbmdzUG9wdXAuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpICYmICF0b29sYmFyRWwuY29udGFpbnMoZXZlbnQudGFyZ2V0IGFzIE5vZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHNldHRpbmdzUG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGlja091dHNpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc2V0dGluZ3NQb3B1cC5jbGFzc0xpc3QudG9nZ2xlKCdoaWRkZW4nKTtcbiAgICB9XG59XG4iLCAiLy8gc3JjL3VpL2NhcmRDb250YWluZXIvY2FyZENvbnRhaW5lci50c1xuXG5pbXBvcnQgeyBXb3Jrc3BhY2VMZWFmLCBURmlsZSwgVEZvbGRlciB9IGZyb20gXCJvYnNpZGlhblwiO1xuaW1wb3J0IENhcmROYXZpZ2F0b3JQbHVnaW4gZnJvbSAnbWFpbic7XG5pbXBvcnQgeyBDYXJkTWFrZXIgfSBmcm9tICcuL2NhcmRNYWtlcidcbmltcG9ydCB7IGRlYm91bmNlLCBzb3J0RmlsZXMsIHNldENvbnRhaW5lclNpemUgfSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuaW1wb3J0IHsgQ2FyZCwgU29ydENyaXRlcmlvbiB9IGZyb20gJy4uLy4uL2NvbW1vbi90eXBlcyc7XG5cbmV4cG9ydCBjbGFzcyBDYXJkQ29udGFpbmVyIHtcbiAgICBwcml2YXRlIGxlYWY6IFdvcmtzcGFjZUxlYWY7XG4gICAgcHJpdmF0ZSBjb250YWluZXJFbDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcbiAgICBwcml2YXRlIGNhcmRNYWtlcjogQ2FyZE1ha2VyO1xuICAgIHByaXZhdGUgcGx1Z2luOiBDYXJkTmF2aWdhdG9yUGx1Z2luO1xuXHRwcml2YXRlIGlzVmVydGljYWw6IGJvb2xlYW47XG5cdHByaXZhdGUgY2FyZFdpZHRoID0gMDtcbiAgICBwcml2YXRlIGNhcmRIZWlnaHQgPSAwO1xuXG4gICAgY29uc3RydWN0b3IocGx1Z2luOiBDYXJkTmF2aWdhdG9yUGx1Z2luLCBsZWFmOiBXb3Jrc3BhY2VMZWFmKSB7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLmxlYWYgPSBsZWFmO1xuICAgICAgICB0aGlzLmNhcmRNYWtlciA9IG5ldyBDYXJkTWFrZXIodGhpcy5wbHVnaW4pO1xuICAgICAgICB0aGlzLmlzVmVydGljYWwgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBhc3luYyBpbml0aWFsaXplKGNvbnRhaW5lckVsOiBIVE1MRWxlbWVudCkge1xuICAgICAgICB0aGlzLmNvbnRhaW5lckVsID0gY29udGFpbmVyRWw7XG4gICAgICAgIGF3YWl0IHRoaXMud2FpdEZvckxlYWZDcmVhdGlvbigpO1xuICAgICAgICB0aGlzLnJlZ2lzdGVyRXZlbnRzKCk7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cblxuXHRzZXRPcmllbnRhdGlvbihpc1ZlcnRpY2FsOiBib29sZWFuKSB7XG4gICAgICAgIHRoaXMuaXNWZXJ0aWNhbCA9IGlzVmVydGljYWw7XG4gICAgICAgIHRoaXMudXBkYXRlQ29udGFpbmVyU3R5bGUoKTtcbiAgICB9XG5cbiAgICBzZXRDYXJkU2l6ZShjYXJkV2lkdGg6IG51bWJlciwgY2FyZEhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIHRoaXMuY2FyZFdpZHRoID0gY2FyZFdpZHRoO1xuICAgICAgICB0aGlzLmNhcmRIZWlnaHQgPSBjYXJkSGVpZ2h0O1xuICAgIH1cblxuICAgIGdldENvbnRhaW5lckVsKCk6IEhUTUxFbGVtZW50IHwgbnVsbCB7XG4gICAgICAgIHJldHVybiB0aGlzLmNvbnRhaW5lckVsO1xuICAgIH1cblxuICAgIGdldENhcmRTaXplQW5kT3JpZW50YXRpb24oKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjYXJkV2lkdGg6IHRoaXMuY2FyZFdpZHRoLFxuICAgICAgICAgICAgY2FyZEhlaWdodDogdGhpcy5jYXJkSGVpZ2h0LFxuICAgICAgICAgICAgaXNWZXJ0aWNhbDogdGhpcy5pc1ZlcnRpY2FsLFxuICAgICAgICB9O1xuICAgIH1cblxuXHRwcml2YXRlIHVwZGF0ZUNvbnRhaW5lclN0eWxlKCkge1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXJFbCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY2xhc3NMaXN0LmFkZCgndmVydGljYWwnKTtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNsYXNzTGlzdC5yZW1vdmUoJ2hvcml6b250YWwnKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jbGFzc0xpc3QuYWRkKCdob3Jpem9udGFsJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCd2ZXJ0aWNhbCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhc3luYyB3YWl0Rm9yTGVhZkNyZWF0aW9uKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNoZWNrTGVhZiA9ICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5jb250YWluZXJFbCAmJiB0aGlzLmNvbnRhaW5lckVsLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoID4gMCkge1xuICAgICAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdEFuaW1hdGlvbkZyYW1lKGNoZWNrTGVhZik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNoZWNrTGVhZigpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHJlZ2lzdGVyRXZlbnRzKCkge1xuICAgICAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KFxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5vbignYWN0aXZlLWxlYWYtY2hhbmdlJywgZGVib3VuY2UodGhpcy5yZWZyZXNoLmJpbmQodGhpcyksIDEwMCkpXG4gICAgICAgICk7XG4gICAgICAgIHRoaXMucGx1Z2luLnJlZ2lzdGVyRXZlbnQoXG4gICAgICAgICAgICB0aGlzLnBsdWdpbi5hcHAudmF1bHQub24oJ21vZGlmeScsIGRlYm91bmNlKHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpLCAxMDApKVxuICAgICAgICApO1xuICAgIH1cblxuICAgIGFzeW5jIHJlZnJlc2goKSB7XG4gICAgICAgIGxldCBmb2xkZXI6IFRGb2xkZXIgfCBudWxsID0gbnVsbDtcblxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlU2VsZWN0ZWRGb2xkZXIgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VsZWN0ZWRGb2xkZXIpIHtcbiAgICAgICAgICAgIGZvbGRlciA9IHRoaXMucGx1Z2luLmFwcC52YXVsdC5nZXRBYnN0cmFjdEZpbGVCeVBhdGgodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VsZWN0ZWRGb2xkZXIpIGFzIFRGb2xkZXI7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG4gICAgICAgICAgICBmb2xkZXIgPSBhY3RpdmVGaWxlPy5wYXJlbnQgfHwgbnVsbDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICghZm9sZGVyIHx8ICF0aGlzLmNvbnRhaW5lckVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBzZXRDb250YWluZXJTaXplKHRoaXMuY29udGFpbmVyRWwsIHRoaXMuY2FyZFdpZHRoLCB0aGlzLmNhcmRIZWlnaHQsIHRoaXMucGx1Z2luLnNldHRpbmdzLmNhcmRzUGVyVmlldywgdGhpcy5pc1ZlcnRpY2FsKTtcblxuICAgICAgICBjb25zdCBmaWxlcyA9IGZvbGRlci5jaGlsZHJlbi5maWx0ZXIoKGZpbGUpOiBmaWxlIGlzIFRGaWxlID0+IGZpbGUgaW5zdGFuY2VvZiBURmlsZSk7XG4gICAgICAgIGNvbnN0IGNhcmRzRGF0YSA9IGF3YWl0IFByb21pc2UuYWxsKGZpbGVzLm1hcChmaWxlID0+IHRoaXMuY2FyZE1ha2VyLmNyZWF0ZUNhcmQoZmlsZSkpKTtcbiAgICAgICAgdGhpcy5yZW5kZXJDYXJkcyhjYXJkc0RhdGEsIHRoaXMuY2FyZFdpZHRoLCB0aGlzLmNhcmRIZWlnaHQpO1xuICAgIH1cblxuXHRwcml2YXRlIHJlbmRlckNhcmRzKGNhcmRzRGF0YTogQ2FyZFtdLCBjYXJkV2lkdGg6IG51bWJlciwgY2FyZEhlaWdodDogbnVtYmVyKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyRWwgPSB0aGlzLmNvbnRhaW5lckVsO1xuXHRcdGlmICghY29udGFpbmVyRWwpIHJldHVybjtcblx0XG5cdFx0Y29udGFpbmVyRWwuaW5uZXJIVE1MID0gJyc7XG5cdFx0Y29udGFpbmVyRWwuY2xhc3NMaXN0LnRvZ2dsZSgnY2FyZC1jb250YWluZXItaG9yaXpvbnRhbCcsICF0aGlzLmlzVmVydGljYWwpO1xuXHRcblx0XHRjYXJkc0RhdGEuZm9yRWFjaCgoY2FyZERhdGEpID0+IHtcblx0XHRcdGNvbnN0IGNhcmQgPSB0aGlzLmNhcmRNYWtlci5jcmVhdGVDYXJkRWxlbWVudChjYXJkRGF0YSk7XG5cdFx0XHRjYXJkLmNsYXNzTGlzdC50b2dnbGUoJ2NhcmQtbmF2aWdhdG9yLWNhcmQtaG9yaXpvbnRhbCcsICF0aGlzLmlzVmVydGljYWwpO1xuXHRcdFx0Y2FyZC5zdHlsZS53aWR0aCA9IGAke2NhcmRXaWR0aH1weGA7XG5cdFx0XHRjYXJkLnN0eWxlLmhlaWdodCA9IGAke2NhcmRIZWlnaHR9cHhgO1xuXHRcdFx0Y29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoY2FyZCk7XG5cdFx0fSk7XG5cdFxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jZW50ZXJDYXJkTWV0aG9kID09PSAnc2Nyb2xsJykge1xuXHRcdFx0dGhpcy5zY3JvbGxUb0FjdGl2ZUNhcmQoY2FyZHNEYXRhLCBjYXJkV2lkdGgsIGNhcmRIZWlnaHQpO1xuXHRcdH1cblx0fVxuXG4gICAgcHJpdmF0ZSByZW5kZXJBY3RpdmVDYXJkQ2VudGVyZWQoY2FyZHNEYXRhOiBDYXJkW10sIGFjdGl2ZUluZGV4OiBudW1iZXIsIGNhcmRXaWR0aDogbnVtYmVyLCBjYXJkSGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyRWwgPSB0aGlzLmNvbnRhaW5lckVsO1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCBpc1ZlcnRpY2FsID0gdGhpcy5pc1ZlcnRpY2FsO1xuXG4gICAgICAgIGNvbnN0IGxlZnRDYXJkcyA9IGNhcmRzRGF0YS5zbGljZSgwLCBhY3RpdmVJbmRleCk7XG4gICAgICAgIGNvbnN0IHJpZ2h0Q2FyZHMgPSBjYXJkc0RhdGEuc2xpY2UoYWN0aXZlSW5kZXggKyAxKTtcblxuICAgICAgICBjb25zdCBjYXJkU3BhY2luZyA9IDE1O1xuICAgICAgICBjb25zdCBjb250YWluZXJTaXplID0gaXNWZXJ0aWNhbCA/IGNhcmRIZWlnaHQgOiBjYXJkV2lkdGg7XG4gICAgICAgIGNvbnN0IHRvdGFsU2l6ZSA9IChjb250YWluZXJTaXplICsgY2FyZFNwYWNpbmcpICogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FyZHNQZXJWaWV3IC0gY2FyZFNwYWNpbmc7XG4gICAgICAgIGNvbnN0IGFjdGl2ZUNhcmRPZmZzZXQgPSAoKHRvdGFsU2l6ZSAtIGNvbnRhaW5lclNpemUpIC8gMik7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRPZmZzZXQgPSBhY3RpdmVDYXJkT2Zmc2V0IC0gKChsZWZ0Q2FyZHMubGVuZ3RoICogY29udGFpbmVyU2l6ZSkgKyAobGVmdENhcmRzLmxlbmd0aCAqIGNhcmRTcGFjaW5nKSk7XG5cbiAgICAgICAgbGVmdENhcmRzLmZvckVhY2goKGNhcmREYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYXJkID0gdGhpcy5jYXJkTWFrZXIuY3JlYXRlQ2FyZEVsZW1lbnQoY2FyZERhdGEpO1xuICAgICAgICAgICAgY2FyZC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBjYXJkLnN0eWxlLndpZHRoID0gYCR7Y2FyZFdpZHRofXB4YDtcbiAgICAgICAgICAgIGNhcmQuc3R5bGUuaGVpZ2h0ID0gYCR7Y2FyZEhlaWdodH1weGA7XG4gICAgICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUudG9wID0gYCR7Y3VycmVudE9mZnNldH1weGA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUubGVmdCA9IGAke2N1cnJlbnRPZmZzZXR9cHhgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICAgICAgICBjdXJyZW50T2Zmc2V0ICs9IGNvbnRhaW5lclNpemUgKyBjYXJkU3BhY2luZztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgY29uc3QgYWN0aXZlQ2FyZCA9IHRoaXMuY2FyZE1ha2VyLmNyZWF0ZUNhcmRFbGVtZW50KGNhcmRzRGF0YVthY3RpdmVJbmRleF0pO1xuICAgICAgICBhY3RpdmVDYXJkLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgYWN0aXZlQ2FyZC5zdHlsZS53aWR0aCA9IGAke2NhcmRXaWR0aH1weGA7XG4gICAgICAgIGFjdGl2ZUNhcmQuc3R5bGUuaGVpZ2h0ID0gYCR7Y2FyZEhlaWdodH1weGA7XG4gICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICBhY3RpdmVDYXJkLnN0eWxlLnRvcCA9IGAke2FjdGl2ZUNhcmRPZmZzZXR9cHhgO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlQ2FyZC5zdHlsZS5sZWZ0ID0gYCR7YWN0aXZlQ2FyZE9mZnNldH1weGA7XG4gICAgICAgIH1cbiAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoYWN0aXZlQ2FyZCk7XG5cbiAgICAgICAgY3VycmVudE9mZnNldCA9IGFjdGl2ZUNhcmRPZmZzZXQgKyBjb250YWluZXJTaXplICsgY2FyZFNwYWNpbmc7XG4gICAgICAgIHJpZ2h0Q2FyZHMuZm9yRWFjaCgoY2FyZERhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLmNhcmRNYWtlci5jcmVhdGVDYXJkRWxlbWVudChjYXJkRGF0YSk7XG4gICAgICAgICAgICBjYXJkLnN0eWxlLnBvc2l0aW9uID0gJ2Fic29sdXRlJztcbiAgICAgICAgICAgIGNhcmQuc3R5bGUud2lkdGggPSBgJHtjYXJkV2lkdGh9cHhgO1xuICAgICAgICAgICAgY2FyZC5zdHlsZS5oZWlnaHQgPSBgJHtjYXJkSGVpZ2h0fXB4YDtcbiAgICAgICAgICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICAgICAgY2FyZC5zdHlsZS50b3AgPSBgJHtjdXJyZW50T2Zmc2V0fXB4YDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2FyZC5zdHlsZS5sZWZ0ID0gYCR7Y3VycmVudE9mZnNldH1weGA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChjYXJkKTtcbiAgICAgICAgICAgIGN1cnJlbnRPZmZzZXQgKz0gY29udGFpbmVyU2l6ZSArIGNhcmRTcGFjaW5nO1xuICAgICAgICB9KTtcbiAgICB9XG5cblx0cHJpdmF0ZSBzY3JvbGxUb0FjdGl2ZUNhcmQoY2FyZHNEYXRhOiBDYXJkW10sIGNhcmRXaWR0aDogbnVtYmVyLCBjYXJkSGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyRWwgPSB0aGlzLmNvbnRhaW5lckVsO1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb250YWluZXJFbC5pbm5lckhUTUwgPSAnJztcblxuICAgICAgICBsZXQgYWN0aXZlQ2FyZDogSFRNTEVsZW1lbnQgfCBudWxsID0gbnVsbDtcblxuICAgICAgICBjYXJkc0RhdGEuZm9yRWFjaCgoY2FyZERhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLmNhcmRNYWtlci5jcmVhdGVDYXJkRWxlbWVudChjYXJkRGF0YSk7XG4gICAgICAgICAgICBjYXJkLnN0eWxlLndpZHRoID0gYCR7Y2FyZFdpZHRofXB4YDtcbiAgICAgICAgICAgIGNhcmQuc3R5bGUuaGVpZ2h0ID0gYCR7Y2FyZEhlaWdodH1weGA7XG4gICAgICAgICAgICBjb250YWluZXJFbC5hcHBlbmRDaGlsZChjYXJkKTtcblxuICAgICAgICAgICAgaWYgKGNhcmQuY2xhc3NMaXN0LmNvbnRhaW5zKCdjYXJkLW5hdmlnYXRvci1hY3RpdmUnKSkge1xuICAgICAgICAgICAgICAgIGFjdGl2ZUNhcmQgPSBjYXJkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAoYWN0aXZlQ2FyZCAmJiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jZW50ZXJDYXJkTWV0aG9kID09PSAnc2Nyb2xsJykge1xuICAgICAgICAgICAgKGFjdGl2ZUNhcmQgYXMgSFRNTEVsZW1lbnQpLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicsIGlubGluZTogJ2NlbnRlcicgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cblx0cHVibGljIGRpc3BsYXlDYXJkcyhmaWx0ZXJlZEZpbGVzOiBURmlsZVtdKSB7XG5cdH1cblxuXHRwdWJsaWMgYXN5bmMgc2VhcmNoQ2FyZHMoc2VhcmNoVGVybTogc3RyaW5nKSB7XG5cdFx0Y29uc3QgYWN0aXZlRmlsZSA9IHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuXHRcdGlmICghYWN0aXZlRmlsZSkgcmV0dXJuO1xuXHRcblx0XHRjb25zdCBmb2xkZXIgPSBhY3RpdmVGaWxlLnBhcmVudDtcblx0XHRpZiAoIWZvbGRlcikgcmV0dXJuO1xuXHRcblx0XHRjb25zdCBmaWxlcyA9IGZvbGRlci5jaGlsZHJlbi5maWx0ZXIoKGZpbGUpOiBmaWxlIGlzIFRGaWxlID0+IGZpbGUgaW5zdGFuY2VvZiBURmlsZSk7XG5cdFx0Y29uc3QgZmlsdGVyZWRGaWxlcyA9IGF3YWl0IHRoaXMuZmlsdGVyRmlsZXNCeUNvbnRlbnQoZmlsZXMsIHNlYXJjaFRlcm0pO1xuXHRcblx0XHRjb25zdCBjYXJkcyA9IGF3YWl0IFByb21pc2UuYWxsKGZpbHRlcmVkRmlsZXMubWFwKGFzeW5jIGZpbGUgPT4gKHtcblx0XHRcdGZpbGUsXG5cdFx0XHRmaWxlTmFtZTogdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0ZpbGVOYW1lID8gZmlsZS5iYXNlbmFtZSA6IHVuZGVmaW5lZCxcblx0XHRcdGZpcnN0SGVhZGVyOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Rmlyc3RIZWFkZXIgPyBhd2FpdCB0aGlzLmZpbmRGaXJzdEhlYWRlcihmaWxlKSA6IHVuZGVmaW5lZCxcblx0XHRcdGNvbnRlbnQ6IHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dDb250ZW50ID8gYXdhaXQgdGhpcy5nZXRGaWxlQ29udGVudChmaWxlKSA6IHVuZGVmaW5lZCxcblx0XHR9KSkpO1xuXHRcblx0XHR0aGlzLnJlbmRlckNhcmRzKGNhcmRzLCB0aGlzLmNhcmRXaWR0aCwgdGhpcy5jYXJkSGVpZ2h0KTtcblx0fVxuXHRcblx0YXN5bmMgZGlzcGxheUNhcmRzRm9yRm9sZGVyKGZvbGRlcjogVEZvbGRlcikge1xuXHRcdGNvbnN0IGZpbGVzID0gZm9sZGVyLmNoaWxkcmVuLmZpbHRlcigoZmlsZSk6IGZpbGUgaXMgVEZpbGUgPT4gZmlsZSBpbnN0YW5jZW9mIFRGaWxlKTtcblx0XHRjb25zdCBjYXJkcyA9IGF3YWl0IFByb21pc2UuYWxsKGZpbGVzLm1hcChmaWxlID0+IHRoaXMuY2FyZE1ha2VyLmNyZWF0ZUNhcmQoZmlsZSkpKTtcblx0XHR0aGlzLnJlbmRlckNhcmRzKGNhcmRzLCB0aGlzLmNhcmRXaWR0aCwgdGhpcy5jYXJkSGVpZ2h0KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZmlsdGVyRmlsZXNCeUNvbnRlbnQoZmlsZXM6IFRGaWxlW10sIHNlYXJjaFRlcm06IHN0cmluZyk6IFByb21pc2U8VEZpbGVbXT4ge1xuXHRcdGNvbnN0IGxvd2VyY2FzZVNlYXJjaFRlcm0gPSBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCk7XG5cdFx0Y29uc3QgZmlsdGVyZWRGaWxlcyA9IFtdO1xuXHRcdGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuXHRcdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuXHRcdFx0aWYgKGZpbGUuYmFzZW5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlcmNhc2VTZWFyY2hUZXJtKSB8fFxuXHRcdFx0XHRjb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJjYXNlU2VhcmNoVGVybSkpIHtcblx0XHRcdFx0ZmlsdGVyZWRGaWxlcy5wdXNoKGZpbGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmlsdGVyZWRGaWxlcztcblx0fVxuXG5cdHB1YmxpYyBhc3luYyBzb3J0Q2FyZHMoY3JpdGVyaW9uOiBTb3J0Q3JpdGVyaW9uLCBvcmRlcjogJ2FzYycgfCAnZGVzYycpIHtcblx0XHRjb25zdCBhY3RpdmVGaWxlID0gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCk7XG5cdFx0aWYgKCFhY3RpdmVGaWxlKSByZXR1cm47XG5cdFxuXHRcdGNvbnN0IGZvbGRlciA9IGFjdGl2ZUZpbGUucGFyZW50O1xuXHRcdGlmICghZm9sZGVyKSByZXR1cm47XG5cdFxuXHRcdGNvbnN0IGZpbGVzID0gZm9sZGVyLmNoaWxkcmVuLmZpbHRlcigoZmlsZSk6IGZpbGUgaXMgVEZpbGUgPT4gZmlsZSBpbnN0YW5jZW9mIFRGaWxlKTtcblx0XHRjb25zdCBzb3J0ZWRGaWxlcyA9IHNvcnRGaWxlcyhmaWxlcywgY3JpdGVyaW9uLCBvcmRlcik7XG5cdFxuXHRcdGNvbnN0IGNhcmRzID0gYXdhaXQgUHJvbWlzZS5hbGwoc29ydGVkRmlsZXMubWFwKGFzeW5jIGZpbGUgPT4gKHtcblx0XHRcdGZpbGUsXG5cdFx0XHRmaWxlTmFtZTogdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0ZpbGVOYW1lID8gZmlsZS5iYXNlbmFtZSA6IHVuZGVmaW5lZCxcblx0XHRcdGZpcnN0SGVhZGVyOiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Rmlyc3RIZWFkZXIgPyBhd2FpdCB0aGlzLmZpbmRGaXJzdEhlYWRlcihmaWxlKSA6IHVuZGVmaW5lZCxcblx0XHRcdGNvbnRlbnQ6IHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dDb250ZW50ID8gYXdhaXQgdGhpcy5nZXRGaWxlQ29udGVudChmaWxlKSA6IHVuZGVmaW5lZCxcblx0XHR9KSkpO1xuXHRcblx0XHR0aGlzLnJlbmRlckNhcmRzKGNhcmRzLCB0aGlzLmNhcmRXaWR0aCwgdGhpcy5jYXJkSGVpZ2h0KTtcblx0fVxuXHRcblx0cHJpdmF0ZSBhc3luYyBmaW5kRmlyc3RIZWFkZXIoZmlsZTogVEZpbGUpOiBQcm9taXNlPHN0cmluZyB8IHVuZGVmaW5lZD4ge1xuXHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY2FjaGVkUmVhZChmaWxlKTtcblx0XHRjb25zdCBoZWFkZXJSZWdleCA9IC9eIytcXHMrKC4rKSQvbTtcblx0XHRjb25zdCBtYXRjaCA9IGNvbnRlbnQubWF0Y2goaGVhZGVyUmVnZXgpO1xuXHRcdHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnRyaW0oKSA6IHVuZGVmaW5lZDtcblx0fVxuXHRcblx0cHJpdmF0ZSBhc3luYyBnZXRGaWxlQ29udGVudChmaWxlOiBURmlsZSk6IFByb21pc2U8c3RyaW5nPiB7XG5cdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuXHRcdGNvbnN0IG1heExlbmd0aCA9IHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbnRlbnRMZW5ndGggKiAxMDA7XG5cdFx0cmV0dXJuIGNvbnRlbnQubGVuZ3RoIDw9IG1heExlbmd0aCA/IGNvbnRlbnQgOiBjb250ZW50LnNsaWNlKDAsIG1heExlbmd0aCkgKyAnLi4uJztcblx0fVxuXG4gICAgb25DbG9zZSgpIHt9XG59XG4iLCAiLy8gc3JjL3VpL2NhcmRDb250YWluZXIvY2FyZE1ha2VyLnRzXG5cbmltcG9ydCB7IE1lbnUsIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IENhcmROYXZpZ2F0b3JQbHVnaW4gZnJvbSAnLi4vLi4vbWFpbic7XG5pbXBvcnQgeyBDYXJkIH0gZnJvbSAnLi4vLi4vY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IHNvcnRGaWxlcywgc2VwYXJhdGVGcm9udG1hdHRlckFuZENvbnRlbnQgfSBmcm9tICcuLi8uLi9jb21tb24vdXRpbHMnO1xuXG5leHBvcnQgY2xhc3MgQ2FyZE1ha2VyIHtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIHBsdWdpbjogQ2FyZE5hdmlnYXRvclBsdWdpbikge31cblxuICAgIGFzeW5jIGdldENhcmRzRm9yQWN0aXZlRmlsZShhY3RpdmVGaWxlOiBURmlsZSk6IFByb21pc2U8Q2FyZFtdPiB7XG4gICAgICAgIGNvbnN0IGZvbGRlciA9IGFjdGl2ZUZpbGUucGFyZW50O1xuICAgICAgICBpZiAoIWZvbGRlcikge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgZmlsZXMgPSBmb2xkZXIuY2hpbGRyZW4uZmlsdGVyKChmaWxlKTogZmlsZSBpcyBURmlsZSA9PiBmaWxlIGluc3RhbmNlb2YgVEZpbGUpO1xuICAgICAgICBjb25zdCB1c2VyTG9jYWxlID0gbmF2aWdhdG9yLmxhbmd1YWdlIHx8ICdlbic7IFxuICAgICAgICBjb25zdCBzb3J0ZWRGaWxlcyA9IHNvcnRGaWxlcyhmaWxlcywgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc29ydENyaXRlcmlvbiwgdXNlckxvY2FsZSk7XG4gICAgICAgIHJldHVybiBhd2FpdCBQcm9taXNlLmFsbChzb3J0ZWRGaWxlcy5tYXAoZmlsZSA9PiB0aGlzLmNyZWF0ZUNhcmQoZmlsZSkpKTtcbiAgICB9XG5cbiAgICBwdWJsaWMgYXN5bmMgY3JlYXRlQ2FyZChmaWxlOiBURmlsZSk6IFByb21pc2U8Q2FyZD4ge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNhY2hlZFJlYWQoZmlsZSk7XG4gICAgICAgIGNvbnN0IHsgY2xlYW5Db250ZW50IH0gPSBzZXBhcmF0ZUZyb250bWF0dGVyQW5kQ29udGVudChjb250ZW50KTtcbiAgICAgICAgY29uc3QgY29udGVudFdpdGhvdXRIZWFkZXIgPSB0aGlzLnJlbW92ZUZpcnN0SGVhZGVyKGNsZWFuQ29udGVudCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgZmlsZU5hbWU6IHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dGaWxlTmFtZSA/IGZpbGUuYmFzZW5hbWUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBmaXJzdEhlYWRlcjogdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0ZpcnN0SGVhZGVyID8gdGhpcy5maW5kRmlyc3RIZWFkZXIoY2xlYW5Db250ZW50KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dDb250ZW50ID8gdGhpcy50cnVuY2F0ZUNvbnRlbnQoY29udGVudFdpdGhvdXRIZWFkZXIpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlRmlyc3RIZWFkZXIoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgaGVhZGVyUmVnZXggPSAvXiMrXFxzKyguKykkL207XG4gICAgICAgIHJldHVybiBjb250ZW50LnJlcGxhY2UoaGVhZGVyUmVnZXgsICcnKS50cmltKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kRmlyc3RIZWFkZXIoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgaGVhZGVyUmVnZXggPSAvXiMrXFxzKyguKykkL207XG4gICAgICAgIGNvbnN0IG1hdGNoID0gY29udGVudC5tYXRjaChoZWFkZXJSZWdleCk7XG4gICAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnRyaW0oKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRydW5jYXRlQ29udGVudChjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBtYXhMZW5ndGggPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb250ZW50TGVuZ3RoICogMTAwO1xuICAgICAgICByZXR1cm4gY29udGVudC5sZW5ndGggPD0gbWF4TGVuZ3RoID8gY29udGVudCA6IGNvbnRlbnQuc2xpY2UoMCwgbWF4TGVuZ3RoKSArICcuLi4nO1xuICAgIH1cblxuICAgIGNyZWF0ZUNhcmRFbGVtZW50KGNhcmQ6IENhcmQpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNhcmRFbGVtZW50LmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1jYXJkJztcblxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0ZpbGVOYW1lICYmIGNhcmQuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lRWwgPSBjYXJkRWxlbWVudC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IGNhcmQuZmlsZU5hbWUgfSk7XG4gICAgICAgICAgICBmaWxlTmFtZUVsLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1maWxlbmFtZSc7XG4gICAgICAgICAgICBmaWxlTmFtZUVsLnN0eWxlLmZvbnRTaXplID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsZU5hbWVTaXplfXB4YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Rmlyc3RIZWFkZXIgJiYgY2FyZC5maXJzdEhlYWRlcikge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyRWwgPSBjYXJkRWxlbWVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6IGNhcmQuZmlyc3RIZWFkZXIgfSk7XG4gICAgICAgICAgICBoZWFkZXJFbC5jbGFzc05hbWUgPSAnY2FyZC1uYXZpZ2F0b3ItZmlyc3QtaGVhZGVyJztcbiAgICAgICAgICAgIGhlYWRlckVsLnN0eWxlLmZvbnRTaXplID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlyc3RIZWFkZXJTaXplfXB4YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Q29udGVudCAmJiBjYXJkLmNvbnRlbnQpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbnRlbnRFbCA9IGNhcmRFbGVtZW50LmNyZWF0ZUVsKCdwJywgeyB0ZXh0OiBjYXJkLmNvbnRlbnQgfSk7XG4gICAgICAgICAgICBjb250ZW50RWwuY2xhc3NOYW1lID0gJ2NhcmQtbmF2aWdhdG9yLWNvbnRlbnQnO1xuICAgICAgICAgICAgY29udGVudEVsLnN0eWxlLmZvbnRTaXplID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuY29udGVudFNpemV9cHhgO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpID09PSBjYXJkLmZpbGUpIHtcbiAgICAgICAgICAgIGNhcmRFbGVtZW50LmFkZENsYXNzKCdjYXJkLW5hdmlnYXRvci1hY3RpdmUnKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFx1Q0U3NFx1QjREQyBcdUMwRERcdUMxMzEgXHVENkM0IFx1QjREQ1x1Qjc5OFx1QURGOCBcdUM1NjQgXHVCNERDXHVCODZEIFx1QkMwRiBcdUIyRTRcdUI5NzggXHVDNzc4XHVEMTMwXHVCNzk5XHVDMTU4IFx1QzEyNFx1QzgxNVxuICAgICAgICB0aGlzLmFkZENhcmRJbnRlcmFjdGlvbnMoY2FyZEVsZW1lbnQsIGNhcmQpO1xuXG4gICAgICAgIHJldHVybiBjYXJkRWxlbWVudDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZENhcmRJbnRlcmFjdGlvbnMoY2FyZEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBjYXJkOiBDYXJkKSB7XG4gICAgICAgIGNhcmRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4gdGhpcy5vcGVuRmlsZShjYXJkLmZpbGUpKTtcbiAgICAgICAgdGhpcy5zZXR1cERyYWdBbmREcm9wKGNhcmRFbGVtZW50LCBjYXJkKTtcbiAgICAgICAgdGhpcy5zZXR1cENvbnRleHRNZW51KGNhcmRFbGVtZW50LCBjYXJkLmZpbGUpO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBEcmFnQW5kRHJvcChjYXJkRWxlbWVudDogSFRNTEVsZW1lbnQsIGNhcmQ6IENhcmQpIHtcbiAgICAgICAgY2FyZEVsZW1lbnQuc2V0QXR0cmlidXRlKCdkcmFnZ2FibGUnLCAndHJ1ZScpO1xuICAgICAgICBjYXJkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdkcmFnc3RhcnQnLCAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChldmVudC5kYXRhVHJhbnNmZXIpIHtcbiAgICAgICAgICAgICAgICBsZXQgZHJhZ0NvbnRlbnQgPSAnJztcblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kcmFnRHJvcENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gXHVDRTc0XHVCNERDXHVDNUQwIFx1RDQ1Q1x1QzJEQ1x1QjQxOFx1QjI5NCBcdUQ1NkRcdUJBQTlcdUM1RDAgXHVCNTMwXHVCNzdDIFx1QjREQ1x1Qjc5OFx1QURGOCBcdUM1NjQgXHVCNERDXHVCODZEIFx1QzJEQyBcdUMwQkRcdUM3ODVcdUQ1NjAgXHVCMEI0XHVDNkE5IFx1QUNCMFx1QzgxNVxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0ZpbGVOYW1lICYmIGNhcmQuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdDb250ZW50ICs9IGAjIyAke2NhcmQuZmlsZU5hbWV9XFxuXFxuYDsgLy8gXHVEMzBDXHVDNzdDXHVCQTg1IFx1QzU1RVx1QzVEMCBcdUQ1RTRcdUIzNTQgXHVDRDk0XHVBQzAwXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0ZpcnN0SGVhZGVyICYmIGNhcmQuZmlyc3RIZWFkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRyYWdDb250ZW50ICs9IGAjICR7Y2FyZC5maXJzdEhlYWRlcn1cXG5cXG5gOyAvLyBcdUNDQUIgXHVCQzg4XHVDOUY4IFx1RDVFNFx1QjM1NCBcdUM1NUVcdUM1RDAgXHVENUU0XHVCMzU0IFx1Q0Q5NFx1QUMwMFxuICAgICAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dDb250ZW50ICYmIGNhcmQuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0NvbnRlbnQgKz0gYCR7Y2FyZC5jb250ZW50fVxcblxcbmA7IC8vIFx1QkNGOFx1QkIzOCBcdUIwQjRcdUM2QTkgXHVDRDk0XHVBQzAwXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoZHJhZ0NvbnRlbnQgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBcdUI5Q0NcdUM1N0QgXHVENDVDXHVDMkRDIFx1QzEyNFx1QzgxNVx1Qzc3NCBcdUI0MThcdUM1QjRcdUM3ODhcdUM5QzAgXHVDNTRBXHVDNzNDXHVCQTc0IFx1QUUzMFx1QkNGOCBcdUQzMENcdUM3N0MgXHVCOUMxXHVEMDZDIFx1QzBCRFx1Qzc4NVxuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0NvbnRlbnQgPSBgW1ske2NhcmQuZmlsZS5uYW1lfV1dYDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFwiRHJhZyBhbmQgRHJvcCBDb250ZW50XCIgXHVDNjM1XHVDMTU4XHVDNzc0IFx1QkU0NFx1RDY1Q1x1QzEzMVx1RDY1NFx1QjQxQyBcdUFDQkRcdUM2QjAgXHVEMzBDXHVDNzdDXHVCQTg1IFx1QjlDMVx1RDA2Q1x1Qjk3QyBcdUMwQkRcdUM3ODVcbiAgICAgICAgICAgICAgICAgICAgZHJhZ0NvbnRlbnQgPSBgW1ske2NhcmQuZmlsZS5uYW1lfV1dYDtcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBldmVudC5kYXRhVHJhbnNmZXIuc2V0RGF0YSgndGV4dC9wbGFpbicsIGRyYWdDb250ZW50LnRyaW0oKSk7XG5cdFx0XHRcdGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREcmFnSW1hZ2UoY2FyZEVsZW1lbnQsIDAsIDApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNldHVwQ29udGV4dE1lbnUoY2FyZEVsZW1lbnQ6IEhUTUxFbGVtZW50LCBmaWxlOiBURmlsZSkge1xuICAgICAgICBjYXJkRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdjb250ZXh0bWVudScsIChlKSA9PiB7XG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UudHJpZ2dlcignZmlsZS1tZW51JywgbWVudSwgZmlsZSwgJ21vcmUtb3B0aW9ucycpO1xuICAgICAgICAgICAgbWVudS5zaG93QXRQb3NpdGlvbih7IHg6IGUuY2xpZW50WCwgeTogZS5jbGllbnRZIH0pO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBwcml2YXRlIG9wZW5GaWxlKGZpbGU6IFRGaWxlKSB7XG4gICAgICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhZigpLm9wZW5GaWxlKGZpbGUpO1xuICAgIH1cbn1cbiIsICIvLyBzcmMvY29tbW9uL3V0aWxzLnRzXG5cbmltcG9ydCB7IFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgU29ydENyaXRlcmlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gZGVib3VuY2U8RiBleHRlbmRzICguLi5hcmdzOiB1bmtub3duW10pID0+IHVua25vd24+KGZ1bmM6IEYsIHdhaXRGb3I6IG51bWJlcikge1xuICAgIGxldCB0aW1lb3V0OiBOb2RlSlMuVGltZW91dCB8IG51bGwgPSBudWxsO1xuXG4gICAgcmV0dXJuICguLi5hcmdzOiBQYXJhbWV0ZXJzPEY+KTogUHJvbWlzZTxSZXR1cm5UeXBlPEY+PiA9PiB7XG4gICAgICAgIGlmICh0aW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPFJldHVyblR5cGU8Rj4+KChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZnVuYyguLi5hcmdzKTtcbiAgICAgICAgICAgICAgICByZXNvbHZlKHJlc3VsdCBhcyBSZXR1cm5UeXBlPEY+KTtcbiAgICAgICAgICAgIH0sIHdhaXRGb3IpO1xuICAgICAgICB9KTtcbiAgICB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2VwYXJhdGVGcm9udG1hdHRlckFuZENvbnRlbnQoY29udGVudDogc3RyaW5nKTogeyBmcm9udG1hdHRlcjogc3RyaW5nIHwgbnVsbCwgY2xlYW5Db250ZW50OiBzdHJpbmcgfSB7XG4gICAgY29uc3QgZnJvbnRtYXR0ZXJSZWdleCA9IC9eLS0tXFxzKlxcbihbXFxzXFxTXSo/KVxcbi0tLVxccypcXG4vO1xuICAgIGNvbnN0IG1hdGNoID0gY29udGVudC5tYXRjaChmcm9udG1hdHRlclJlZ2V4KTtcbiAgICByZXR1cm4gbWF0Y2hcbiAgICAgICAgPyB7IGZyb250bWF0dGVyOiBtYXRjaFsxXSwgY2xlYW5Db250ZW50OiBjb250ZW50LnNsaWNlKG1hdGNoWzBdLmxlbmd0aCkudHJpbSgpIH1cbiAgICAgICAgOiB7IGZyb250bWF0dGVyOiBudWxsLCBjbGVhbkNvbnRlbnQ6IGNvbnRlbnQudHJpbSgpIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzb3J0RmlsZXMoZmlsZXM6IFRGaWxlW10sIGNyaXRlcmlvbjogU29ydENyaXRlcmlvbiwgbG9jYWxlID0gJ2VuJyk6IFRGaWxlW10ge1xuICAgIGNvbnN0IGNvbGxhdG9yID0gbmV3IEludGwuQ29sbGF0b3IobG9jYWxlLCB7IG51bWVyaWM6IHRydWUsIHNlbnNpdGl2aXR5OiAnYmFzZScgfSk7XG5cbiAgICByZXR1cm4gZmlsZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBzd2l0Y2ggKGNyaXRlcmlvbikge1xuICAgICAgICAgICAgY2FzZSAnZmlsZU5hbWUnOlxuICAgICAgICAgICAgICAgIHJldHVybiBjb2xsYXRvci5jb21wYXJlKGEuYmFzZW5hbWUsIGIuYmFzZW5hbWUpO1xuICAgICAgICAgICAgY2FzZSAnbGFzdE1vZGlmaWVkJzpcbiAgICAgICAgICAgICAgICByZXR1cm4gYi5zdGF0Lm10aW1lIC0gYS5zdGF0Lm10aW1lO1xuICAgICAgICAgICAgY2FzZSAnY3JlYXRlZCc6XG4gICAgICAgICAgICAgICAgcmV0dXJuIGIuc3RhdC5jdGltZSAtIGEuc3RhdC5jdGltZTtcbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgcmV0dXJuIDA7XG4gICAgICAgIH1cbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUNhcmRTaXplKFxuICAgIGlzVmVydGljYWw6IGJvb2xlYW4sIFxuICAgIGNvbnRhaW5lclJlY3Q6IERPTVJlY3QsIFxuICAgIGNhcmRzUGVyVmlldzogbnVtYmVyLCBcbiAgICBwYWRkaW5nID0gMTVcbikge1xuICAgIGNvbnN0IHsgd2lkdGg6IGxlYWZXaWR0aCwgaGVpZ2h0OiBsZWFmSGVpZ2h0IH0gPSBjb250YWluZXJSZWN0O1xuXG4gICAgbGV0IGNhcmRXaWR0aDogbnVtYmVyLCBjYXJkSGVpZ2h0OiBudW1iZXI7XG5cbiAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICBjYXJkV2lkdGggPSBsZWFmV2lkdGggLSAyICogcGFkZGluZztcbiAgICAgICAgY2FyZEhlaWdodCA9IGxlYWZIZWlnaHQgLyBjYXJkc1BlclZpZXc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZFdpZHRoID0gbGVhZldpZHRoIC8gY2FyZHNQZXJWaWV3O1xuICAgICAgICBjYXJkSGVpZ2h0ID0gbGVhZkhlaWdodCAtIDIgKiBwYWRkaW5nO1xuICAgIH1cblxuICAgIHJldHVybiB7IGNhcmRXaWR0aCwgY2FyZEhlaWdodCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGFpbmVyU2l6ZShcbiAgICBjb250YWluZXJFbDogSFRNTEVsZW1lbnQsXG4gICAgY2FyZFdpZHRoOiBudW1iZXIsXG4gICAgY2FyZEhlaWdodDogbnVtYmVyLFxuICAgIGNhcmRzUGVyVmlldzogbnVtYmVyLFxuICAgIGlzVmVydGljYWw6IGJvb2xlYW5cbikge1xuICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgIGNvbnRhaW5lckVsLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICAgICAgY29udGFpbmVyRWwuc3R5bGUud2lkdGggPSBgJHtjYXJkV2lkdGh9cHhgO1xuICAgICAgICBjb250YWluZXJFbC5zdHlsZS5oZWlnaHQgPSBgJHtjYXJkSGVpZ2h0ICogY2FyZHNQZXJWaWV3fXB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXJFbC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgIGNvbnRhaW5lckVsLnN0eWxlLndpZHRoID0gYCR7Y2FyZFdpZHRoICogY2FyZHNQZXJWaWV3fXB4YDtcbiAgICAgICAgY29udGFpbmVyRWwuc3R5bGUuaGVpZ2h0ID0gYCR7Y2FyZEhlaWdodH1weGA7XG4gICAgfVxufVxuIiwgIi8vIHNyYy91aS9zZXR0aW5nc1RhYi50c1xuXG5pbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgQ2FyZE5hdmlnYXRvclBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IEZvbGRlclN1Z2dlc3RNb2RhbCB9IGZyb20gJy4vdG9vbGJhci90b29sYmFyQWN0aW9ucyc7XG5cbmV4cG9ydCBjbGFzcyBTZXR0aW5nVGFiIGV4dGVuZHMgUGx1Z2luU2V0dGluZ1RhYiB7XG4gICAgY29uc3RydWN0b3IoYXBwOiBBcHAsIHByaXZhdGUgcGx1Z2luOiBDYXJkTmF2aWdhdG9yUGx1Z2luKSB7XG4gICAgICAgIHN1cGVyKGFwcCwgcGx1Z2luKTtcbiAgICB9XG5cbiAgICBkaXNwbGF5KCk6IHZvaWQge1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lckVsIH0gPSB0aGlzO1xuICAgICAgICBjb250YWluZXJFbC5lbXB0eSgpO1xuXG4gICAgICAgIGNvbnRhaW5lckVsLmNyZWF0ZUVsKCdoMicsIHsgdGV4dDogJ0NhcmQgTmF2aWdhdG9yIFNldHRpbmdzJyB9KTtcblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdDYXJkcyBwZXIgdmlldycpXG4gICAgICAgICAgICAuc2V0RGVzYygnTnVtYmVyIG9mIGNhcmRzIHRvIGRpc3BsYXkgYXQgb25jZScpXG4gICAgICAgICAgICAuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcbiAgICAgICAgICAgICAgICAuc2V0TGltaXRzKDMsIDksIDEpXG4gICAgICAgICAgICAgICAgLnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNhcmRzUGVyVmlldylcbiAgICAgICAgICAgICAgICAuc2V0RHluYW1pY1Rvb2x0aXAoKVxuICAgICAgICAgICAgICAgIC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FyZHNQZXJWaWV3ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5yZWZyZXNoVmlld3MoKTtcbiAgICAgICAgICAgICAgICB9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZSgnRm9sZGVyIFNlbGVjdGlvbicpXG5cdFx0LnNldERlc2MoJ0Nob29zZSB3aGV0aGVyIHRvIHVzZSB0aGUgYWN0aXZlIGZpbGVcXCdzIGZvbGRlciBvciBhIHNlbGVjdGVkIGZvbGRlcicpXG5cdFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG5cdFx0XHQuYWRkT3B0aW9uKCdhY3RpdmUnLCAnQWN0aXZlIEZpbGVcXCdzIEZvbGRlcicpXG5cdFx0XHQuYWRkT3B0aW9uKCdzZWxlY3RlZCcsICdTZWxlY3RlZCBGb2xkZXInKVxuXHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVNlbGVjdGVkRm9sZGVyID8gJ3NlbGVjdGVkJyA6ICdhY3RpdmUnKVxuXHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VTZWxlY3RlZEZvbGRlciA9IHZhbHVlID09PSAnc2VsZWN0ZWQnO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFx1QzEyNFx1QzgxNSBcdUJDQzBcdUFDQkQgXHVDMkRDIFx1RDY1NFx1QkE3NCBcdUMwQzhcdUI4NUNcdUFDRTBcdUNFNjhcblx0XHRcdH0pKTtcblxuXHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VTZWxlY3RlZEZvbGRlcikge1xuXHRcdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHRcdC5zZXROYW1lKCdTZWxlY3QgRm9sZGVyJylcblx0XHRcdFx0LnNldERlc2MoJ0Nob29zZSBhIGZvbGRlciBmb3IgQ2FyZCBOYXZpZ2F0b3InKVxuXHRcdFx0XHQuYWRkQnV0dG9uKGJ1dHRvbiA9PiBidXR0b25cblx0XHRcdFx0XHQuc2V0QnV0dG9uVGV4dCh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWxlY3RlZEZvbGRlciB8fCAnQ2hvb3NlIGZvbGRlcicpXG5cdFx0XHRcdFx0Lm9uQ2xpY2soKCkgPT4ge1xuXHRcdFx0XHRcdFx0bmV3IEZvbGRlclN1Z2dlc3RNb2RhbCh0aGlzLnBsdWdpbiwgKGZvbGRlcikgPT4ge1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zZWxlY3RlZEZvbGRlciA9IGZvbGRlci5wYXRoO1xuXHRcdFx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHRcdFx0dGhpcy5kaXNwbGF5KCk7IC8vIFx1RDNGNFx1QjM1NCBcdUMxMjBcdUQwREQgXHVENkM0IFx1RDY1NFx1QkE3NCBcdUMwQzhcdUI4NUNcdUFDRTBcdUNFNjhcblx0XHRcdFx0XHRcdH0pLm9wZW4oKTtcblx0XHRcdFx0XHR9KSk7XG5cdFx0fVxuXG5cdFx0Ly8gbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0Ly8gXHQuc2V0TmFtZSgnQ2VudGVyIENhcmQgTWV0aG9kJylcblx0XHQvLyBcdC5zZXREZXNjKCdDaG9vc2UgaG93IHRvIGNlbnRlciB0aGUgYWN0aXZlIGNhcmQgaW4gdGhlIHZpZXcnKVxuXHRcdC8vIFx0LmFkZERyb3Bkb3duKGRyb3Bkb3duID0+IGRyb3Bkb3duXG5cdFx0Ly8gXHRcdC5hZGRPcHRpb24oJ3Njcm9sbCcsICdTY3JvbGwgdG8gYWN0aXZlIGNhcmQnKVxuXHRcdC8vIFx0XHQuYWRkT3B0aW9uKCdjZW50ZXJlZCcsICdSZW5kZXIgdGhlIGFjdGl2ZSBjYXJkIGNlbnRyZWQnKVxuXHRcdC8vIFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY2VudGVyQ2FyZE1ldGhvZClcblx0XHQvLyBcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdC8vIFx0XHRcdGNvbnN0IG1ldGhvZCA9IHZhbHVlIGFzICdzY3JvbGwnIHwgJ2NlbnRlcmVkJztcblx0XHQvLyBcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5jZW50ZXJDYXJkTWV0aG9kID0gbWV0aG9kO1xuXHRcdC8vIFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdC8vIFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2hWaWV3cygpO1xuXHRcdC8vIFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHQuc2V0TmFtZSgnRHJhZyBhbmQgRHJvcCBDb250ZW50Jylcblx0XHQuc2V0RGVzYygnV2hlbiBlbmFibGVkLCBkcmFnZ2luZyBhIGNhcmQgd2lsbCBpbnNlcnQgdGhlIG5vdGUgY29udGVudCBpbnN0ZWFkIG9mIGEgbGluay4nKVxuXHRcdC5hZGRUb2dnbGUodG9nZ2xlID0+IHRvZ2dsZVxuXHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmRyYWdEcm9wQ29udGVudClcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZHJhZ0Ryb3BDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoVmlld3MoKTtcblx0XHRcdH0pKTtcblxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0LnNldE5hbWUoJ1Nob3cgRmlsZSBOYW1lJylcblx0XHQuc2V0RGVzYygnVG9nZ2xlIHRvIGRpc3BsYXkgb3IgaGlkZSB0aGUgZmlsZSBuYW1lIG9uIGNhcmRzJylcblx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RmlsZU5hbWUpXG5cdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dGaWxlTmFtZSA9IHZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG5cdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdGaWxlIE5hbWUgU2l6ZScpXG5cdFx0XHQuc2V0RGVzYygnU2V0IHRoZSBmb250IHNpemUgZm9yIHRoZSBmaWxlIG5hbWUnKVxuXHRcdFx0LmFkZFNsaWRlcihzbGlkZXIgPT4gc2xpZGVyXG5cdFx0XHRcdC5zZXRMaW1pdHMoMTUsIDI1LCAxKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsZU5hbWVTaXplKVxuXHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsZU5hbWVTaXplID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1Nob3cgRmlyc3QgSGVhZGVyJylcblx0XHRcdC5zZXREZXNjKCdUb2dnbGUgdG8gZGlzcGxheSBvciBoaWRlIHRoZSBmaXJzdCBoZWFkZXIgb24gY2FyZHMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Rmlyc3RIZWFkZXIpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Rmlyc3RIZWFkZXIgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoVmlld3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRmlyc3QgSGVhZGVyIFNpemUnKVxuXHRcdFx0LnNldERlc2MoJ1NldCB0aGUgZm9udCBzaXplIGZvciB0aGUgZmlyc3QgaGVhZGVyJylcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxuXHRcdFx0XHQuc2V0TGltaXRzKDE1LCAyNSwgMSlcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpcnN0SGVhZGVyU2l6ZSlcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZpcnN0SGVhZGVyU2l6ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2hWaWV3cygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdTaG93IENvbnRlbnQnKVxuXHRcdFx0LnNldERlc2MoJ1RvZ2dsZSB0byBkaXNwbGF5IG9yIGhpZGUgdGhlIGNvbnRlbnQgb24gY2FyZHMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Q29udGVudClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0NvbnRlbnQgU2l6ZScpXG5cdFx0XHQuc2V0RGVzYygnU2V0IHRoZSBmb250IHNpemUgZm9yIHRoZSBjb250ZW50Jylcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxuXHRcdFx0XHQuc2V0TGltaXRzKDEwLCAyMCwgMSlcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbnRlbnRTaXplKVxuXHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY29udGVudFNpemUgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoVmlld3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0LnNldE5hbWUoJ0NvbnRlbnQgTGVuZ3RoJylcblx0XHQuc2V0RGVzYygnTWF4aW11bSBjb250ZW50IGxlbmd0aCBkaXNwbGF5ZWQgb24gZWFjaCBjYXJkJylcblx0XHQuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcblx0XHRcdC5zZXRMaW1pdHMoMSwgMTAsIDEpXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY29udGVudExlbmd0aClcblx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXG5cdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbnRlbnRMZW5ndGggPSB2YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2hWaWV3cygpO1xuXHRcdFx0fSkpO1xuICAgIH1cbn1cbiIsICIvLyBzcmMvY29tbW9uL3NldHRpbmdzLnRzXG5cbmltcG9ydCB7IENhcmROYXZpZ2F0b3JTZXR0aW5ncyB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQ2FyZE5hdmlnYXRvclNldHRpbmdzID0ge1xuICAgIGNhcmRzUGVyVmlldzogNixcblx0dXNlU2VsZWN0ZWRGb2xkZXI6IGZhbHNlLFxuICAgIHNlbGVjdGVkRm9sZGVyOiBudWxsLFxuICAgIGNlbnRlckNhcmRNZXRob2Q6ICdzY3JvbGwnLFxuICAgIGFjdGl2ZUNhcmRCb3JkZXJDb2xvcjogJ3ZhcigtLWFjdGl2ZS1ib3JkZXItY29sb3IpJyxcbiAgICBhY3RpdmVDYXJkQmFja2dyb3VuZENvbG9yOiAndmFyKC0tYWN0aXZlLWJhY2tncm91bmQtY29sb3IpJyxcbiAgICBzb3J0Q3JpdGVyaW9uOiAnZmlsZU5hbWUnLFxuXHRkcmFnRHJvcENvbnRlbnQ6IGZhbHNlLFxuICAgIHNob3dGaWxlTmFtZTogdHJ1ZSxcbiAgICBmaWxlTmFtZVNpemU6IDIwLFxuICAgIHNob3dGaXJzdEhlYWRlcjogdHJ1ZSxcbiAgICBmaXJzdEhlYWRlclNpemU6IDE4LFxuICAgIHNob3dDb250ZW50OiB0cnVlLFxuICAgIGNvbnRlbnRTaXplOiAxNSxcbiAgICBjb250ZW50TGVuZ3RoOiA1LFxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxJQUFBQSxtQkFBOEI7OztBQ0E5QixJQUFBQyxtQkFBd0M7OztBQ0F4QyxJQUFBQyxtQkFBaUM7OztBQ0FqQyxzQkFBMkM7QUFLcEMsSUFBTSxxQkFBTixjQUFpQyxrQ0FBMkI7QUFBQSxFQUMvRCxZQUFvQixRQUFxQyxVQUFxQztBQUMxRixVQUFNLE9BQU8sR0FBRztBQURBO0FBQXFDO0FBQUEsRUFFekQ7QUFBQSxFQUVBLFdBQXNCO0FBQ2xCLFdBQU8sS0FBSyxPQUFPLElB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QkFBbUIsd0JBQXdCO0FBQUEsRUFDbEU7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNqQixTQUFLLFdBQVcsT0FBTyxPQUFPLENBQUMsR0FBRyxrQkFBa0IsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUFBLEVBQzdFO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDakIsVUFBTSxLQUFLLFNBQVMsS0FBSyxRQUFRO0FBQ2pDLFNBQUssYUFBYTtBQUFBLEVBQ3RCO0FBQUEsRUFFSCxrQkFBa0IsWUFBb0I7QUFDL0IsU0FBSyxpQkFBaUI7QUFDdEIsU0FBSyxTQUFTLGlCQUFpQjtBQUMvQixTQUFLLGFBQWE7QUFBQSxFQUN0QjtBQUFBLEVBRUEsZUFBZTtBQUNYLFVBQU0sU0FBUyxLQUFLLElBQUksVUFBVSxnQkFBZ0Isd0JBQXdCO0FBQzFFLFdBQU8sUUFBUSxDQUFDLFNBQVM7QUFDckIsVUFBSSxLQUFLLGdCQUFnQixlQUFlO0FBQ3BDLGFBQUssS0FBSyx1QkFBdUI7QUFBQSxNQUNyQztBQUFBLElBQ0osQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUVILHFCQUFxQixlQUF3QjtBQUN0QyxVQUFNLE9BQU8sS0FBSyxJQUFJLFVBQVUsZ0JBQWdCLHdCQUF3QixFQUFFLENBQUMsRUFBRTtBQUM3RSxTQUFLLGNBQWMsYUFBYSxhQUFhO0FBQUEsRUFDakQ7QUFBQSxFQUVILFVBQVUsV0FBb0QsT0FBdUI7QUFDcEYsVUFBTSxPQUFPLEtBQUssSUFBSSxVQUFVLGdCQUFnQix3QkFBd0IsRUFBRSxDQUFDLEVBQUU7QUFDN0UsU0FBSyxjQUFjLFVBQVUsV0FBVyxLQUFLO0FBQUEsRUFDOUM7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNwQixVQUFNLEVBQUUsVUFBVSxJQUFJLEtBQUs7QUFDM0IsUUFBSSxTQUFTLFVBQVUsZ0JBQWdCLHdCQUF3QjtBQUMvRCxRQUFJLE9BQU8sT0FBTyxDQUFDO0FBRW5CLFFBQUksQ0FBQyxNQUFNO0FBQ1YsWUFBTSxZQUFZLFVBQVUsYUFBYSxLQUFLO0FBQzlDLFVBQUksV0FBVztBQUNkLGNBQU0sVUFBVSxhQUFhLEVBQUUsTUFBTSwwQkFBMEIsUUFBUSxLQUFLLENBQUM7QUFDN0UsaUJBQVMsVUFBVSxnQkFBZ0Isd0JBQXdCO0FBQzNELGVBQU8sT0FBTyxDQUFDO0FBQUEsTUFDaEI7QUFBQSxJQUNEO0FBRUEsUUFBSSxNQUFNO0FBQ1QsZ0JBQVUsV0FBVyxJQUFJO0FBQUEsSUFDMUI7QUFBQSxFQUNEO0FBRUQ7IiwKICAibmFtZXMiOiBbImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIl0KfQo=
