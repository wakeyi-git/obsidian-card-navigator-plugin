/*
THIS IS A GENERATED/BUNDLED FILE BY ESBUILD
if you want to view the source, please visit the github repository of this plugin
*/

"use strict";
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __getOwnPropNames = Object.getOwnPropertyNames;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __export = (target, all) => {
  for (var name in all)
    __defProp(target, name, { get: all[name], enumerable: true });
};
var __copyProps = (to, from, except, desc) => {
  if (from && typeof from === "object" || typeof from === "function") {
    for (let key of __getOwnPropNames(from))
      if (!__hasOwnProp.call(to, key) && key !== except)
        __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });
  }
  return to;
};
var __toCommonJS = (mod) => __copyProps(__defProp({}, "__esModule", { value: true }), mod);

// src/main.ts
var main_exports = {};
__export(main_exports, {
  default: () => CardNavigatorPlugin
});
module.exports = __toCommonJS(main_exports);
var import_obsidian7 = require("obsidian");

// src/ui/cardNavigator.ts
var import_obsidian5 = require("obsidian");

// src/ui/toolbar/toolbar.ts
var import_obsidian2 = require("obsidian");

// src/ui/toolbar/toolbarActions.ts
var import_obsidian = require("obsidian");
var FolderSuggestModal = class extends import_obsidian.FuzzySuggestModal {
  constructor(plugin, onSelect) {
    super(plugin.app);
    this.plugin = plugin;
    this.onSelect = onSelect;
  }
  getItems() {
    return this.plugin.app.vault.getAllLoadedFiles().filter((file) => file instanceof import_obsidian.TFolder);
  }
  getItemText(folder) {
    return folder.path;
  }
  onChooseItem(folder) {
    this.onSelect(folder);
  }
};
function toggleSort(plugin) {
  let sortPopup = document.querySelector(".card-navigator-sort-popup");
  if (!sortPopup) {
    sortPopup = document.createElement("div");
    sortPopup.className = "card-navigator-sort-popup";
    const currentSort = `${plugin.settings.sortCriterion}_${plugin.settings.sortOrder}`;
    const addSortOption = (value, label) => {
      const option = document.createElement("button");
      option.textContent = label;
      option.classList.toggle("active", currentSort === value);
      option.addEventListener("click", async () => {
        const [criterion, order] = value.split("_");
        plugin.settings.sortCriterion = criterion;
        plugin.settings.sortOrder = order;
        await plugin.saveSettings();
        plugin.refreshViews();
        sortPopup.remove();
      });
      sortPopup.appendChild(option);
    };
    addSortOption("fileName_asc", "File name (A to Z)");
    addSortOption("fileName_desc", "File name (Z to A)");
    addSortOption("lastModified_desc", "Last modified (newest first)");
    addSortOption("lastModified_asc", "Last modified (oldest first)");
    addSortOption("created_desc", "Created (newest first)");
    addSortOption("created_asc", "Created (oldest first)");
    const toolbarEl = document.querySelector(".card-navigator-toolbar-container");
    if (toolbarEl) {
      toolbarEl.insertAdjacentElement("afterend", sortPopup);
      document.addEventListener("click", function onClickOutside(event) {
        if (sortPopup && !sortPopup.contains(event.target) && !toolbarEl.contains(event.target)) {
          sortPopup.remove();
          document.removeEventListener("click", onClickOutside);
        }
      });
    }
  } else {
    sortPopup.remove();
  }
}
function toggleSettings(plugin) {
  let settingsPopup = document.querySelector(".card-navigator-settings-popup");
  if (!settingsPopup) {
    settingsPopup = document.createElement("div");
    settingsPopup.className = "card-navigator-settings-popup";
    const cardsPerViewSetting = document.createElement("input");
    cardsPerViewSetting.type = "range";
    cardsPerViewSetting.min = "1";
    cardsPerViewSetting.max = "10";
    cardsPerViewSetting.value = plugin.settings.cardsPerView.toString();
    cardsPerViewSetting.addEventListener("input", (e) => {
      const value = e.target.value;
      plugin.settings.cardsPerView = parseInt(value, 10);
      plugin.saveSettings();
      plugin.refreshViews();
    });
    const cardsPerViewLabel = document.createElement("label");
    cardsPerViewLabel.textContent = "Cards Per View:";
    settingsPopup.appendChild(cardsPerViewLabel);
    settingsPopup.appendChild(cardsPerViewSetting);
    const fontSizeSetting = document.createElement("input");
    fontSizeSetting.type = "range";
    fontSizeSetting.min = "10";
    fontSizeSetting.max = "30";
    fontSizeSetting.value = plugin.settings.contentSize.toString();
    fontSizeSetting.addEventListener("input", (e) => {
      const value = e.target.value;
      plugin.settings.contentSize = parseInt(value, 10);
      plugin.saveSettings();
      plugin.refreshViews();
    });
    const fontSizeLabel = document.createElement("label");
    fontSizeLabel.textContent = "Content Font Size:";
    settingsPopup.appendChild(fontSizeLabel);
    settingsPopup.appendChild(fontSizeSetting);
    const createToggle = (labelText, initialValue, onChange) => {
      const container = document.createElement("div");
      const label = document.createElement("label");
      label.textContent = labelText;
      const toggle = document.createElement("input");
      toggle.type = "checkbox";
      toggle.checked = initialValue;
      toggle.addEventListener("change", (e) => {
        onChange(e.target.checked);
        plugin.saveSettings();
        plugin.refreshViews();
      });
      container.appendChild(label);
      container.appendChild(toggle);
      return container;
    };
    const fileNameToggle = createToggle("Show File Name", plugin.settings.showFileName, (value) => {
      plugin.settings.showFileName = value;
    });
    settingsPopup.appendChild(fileNameToggle);
    const firstHeaderToggle = createToggle("Show First Header", plugin.settings.showFirstHeader, (value) => {
      plugin.settings.showFirstHeader = value;
    });
    settingsPopup.appendChild(firstHeaderToggle);
    const contentToggle = createToggle("Show Content", plugin.settings.showContent, (value) => {
      plugin.settings.showContent = value;
    });
    settingsPopup.appendChild(contentToggle);
    const dragDropContentToggle = createToggle("Drag and Drop Content", plugin.settings.dragDropContent, (value) => {
      plugin.settings.dragDropContent = value;
    });
    settingsPopup.appendChild(dragDropContentToggle);
    const toolbarEl = document.querySelector(".card-navigator-toolbar-container");
    if (toolbarEl) {
      toolbarEl.insertAdjacentElement("afterend", settingsPopup);
      document.addEventListener("click", function onClickOutside(event) {
        if (settingsPopup && !settingsPopup.contains(event.target) && !toolbarEl.contains(event.target)) {
          settingsPopup.remove();
          document.removeEventListener("click", onClickOutside);
        }
      });
    }
  } else {
    settingsPopup.classList.toggle("hidden");
  }
}

// src/ui/toolbar/toolbar.ts
var Toolbar = class {
  constructor(plugin) {
    this.plugin = plugin;
    this.containerEl = void 0;
    this.isVertical = false;
  }
  initialize(containerEl) {
    this.containerEl = containerEl;
    this.createToolbar();
  }
  setOrientation(isVertical) {
    if (this.isVertical !== isVertical) {
      this.isVertical = isVertical;
      this.updateToolbarStyle();
      this.createToolbar();
    }
  }
  updateToolbarStyle() {
    if (this.containerEl) {
      this.containerEl.classList.toggle("vertical", this.isVertical);
      this.containerEl.classList.toggle("horizontal", !this.isVertical);
    }
  }
  createToolbar() {
    if (!this.containerEl) {
      return;
    }
    this.containerEl.empty();
    const toolbarContainer = document.createElement("div");
    toolbarContainer.className = "card-navigator-toolbar-container";
    const searchContainer = this.createSearchContainer();
    const separator = this.createSeparator();
    const actionIconsContainer = this.createActionIconsContainer();
    toolbarContainer.appendChild(searchContainer);
    toolbarContainer.appendChild(separator);
    toolbarContainer.appendChild(actionIconsContainer);
    this.containerEl.appendChild(toolbarContainer);
  }
  createSearchContainer() {
    const container = document.createElement("div");
    container.className = "card-navigator-search-container";
    const input = document.createElement("input");
    input.type = "text";
    input.placeholder = "Search...";
    input.className = "card-navigator-search-input";
    input.addEventListener("input", (0, import_obsidian2.debounce)(async (e) => {
      const searchTerm = e.target.value;
      const view = this.plugin.app.workspace.getLeavesOfType("card-navigator-view")[0].view;
      await view.cardContainer.searchCards(searchTerm);
    }, 300));
    container.appendChild(input);
    return container;
  }
  createActionIconsContainer() {
    const container = document.createElement("div");
    container.className = "card-navigator-action-icons-container";
    const icons = [
      { name: "folder", label: "Select folder", action: () => this.openFolderSelector() },
      { name: "arrow-up-narrow-wide", label: "Sort cards", action: () => toggleSort(this.plugin) },
      { name: "settings", label: "Settings", action: () => toggleSettings(this.plugin) }
    ];
    icons.forEach((icon) => {
      const iconElement = this.createToolbarIcon(icon.name, icon.label, icon.action);
      if (icon.name === "arrow-up-narrow-wide") {
        iconElement.classList.toggle(
          "active",
          this.plugin.settings.sortCriterion !== "fileName" || this.plugin.settings.sortOrder !== "asc"
        );
      }
      container.appendChild(iconElement);
    });
    return container;
  }
  createToolbarIcon(iconName, ariaLabel, action) {
    const icon = document.createElement("div");
    icon.className = "clickable-icon";
    icon.setAttribute("aria-label", ariaLabel);
    (0, import_obsidian2.setIcon)(icon, iconName);
    icon.addEventListener("click", action);
    return icon;
  }
  createSeparator() {
    const separator = document.createElement("div");
    separator.className = "toolbar-separator";
    return separator;
  }
  openFolderSelector() {
    new FolderSuggestModal(this.plugin, (folder) => {
      const view = this.plugin.app.workspace.getActiveViewOfType(CardNavigator);
      if (view) {
        view.cardContainer.displayCardsForFolder(folder);
      }
    }).open();
  }
  refresh() {
  }
  onClose() {
  }
};

// src/ui/cardContainer/cardContainer.ts
var import_obsidian4 = require("obsidian");

// src/ui/cardContainer/cardMaker.ts
var import_obsidian3 = require("obsidian");

// src/common/utils.ts
function debounce2(func, waitFor) {
  let timeout = null;
  return (...args) => {
    if (timeout) {
      clearTimeout(timeout);
    }
    return new Promise((resolve) => {
      timeout = setTimeout(() => {
        const result = func(...args);
        resolve(result);
      }, waitFor);
    });
  };
}
function separateFrontmatterAndContent(content) {
  const frontmatterRegex = /^---\s*\n([\s\S]*?)\n---\s*\n/;
  const match = content.match(frontmatterRegex);
  return match ? { frontmatter: match[1], cleanContent: content.slice(match[0].length).trim() } : { frontmatter: null, cleanContent: content.trim() };
}
function sortFiles(files, criterion, order) {
  return files.sort((a, b) => {
    let comparison = 0;
    switch (criterion) {
      case "fileName":
        comparison = a.basename.localeCompare(b.basename, void 0, { numeric: true, sensitivity: "base" });
        break;
      case "lastModified":
        comparison = a.stat.mtime - b.stat.mtime;
        break;
      case "created":
        comparison = a.stat.ctime - b.stat.ctime;
        break;
    }
    return order === "asc" ? comparison : -comparison;
  });
}
function calculateCardSize(isVertical, containerRect, cardsPerView, padding = 15) {
  const { width: leafWidth, height: leafHeight } = containerRect;
  let cardWidth, cardHeight;
  if (isVertical) {
    cardWidth = leafWidth - 2 * padding;
    cardHeight = leafHeight / cardsPerView;
  } else {
    cardWidth = leafWidth / cardsPerView;
    cardHeight = leafHeight - 2 * padding;
  }
  return { cardWidth, cardHeight };
}
function setContainerSize(containerEl, cardWidth, cardHeight, cardsPerView, isVertical) {
  if (isVertical) {
    containerEl.style.flexDirection = "column";
    containerEl.style.width = `${cardWidth}px`;
    containerEl.style.height = `${cardHeight * cardsPerView}px`;
  } else {
    containerEl.style.flexDirection = "row";
    containerEl.style.width = `${cardWidth * cardsPerView}px`;
    containerEl.style.height = `${cardHeight}px`;
  }
}

// src/ui/cardContainer/cardMaker.ts
var CardMaker = class {
  constructor(plugin) {
    this.plugin = plugin;
  }
  async getCardsForActiveFile(activeFile) {
    const folder = activeFile.parent;
    if (!folder) {
      return [];
    }
    const files = folder.children.filter((file) => file instanceof import_obsidian3.TFile);
    const sortedFiles = sortFiles(
      files,
      this.plugin.settings.sortCriterion,
      this.plugin.settings.sortOrder
    );
    return await Promise.all(sortedFiles.map((file) => this.createCard(file)));
  }
  async createCard(file) {
    const content = await this.plugin.app.vault.cachedRead(file);
    const { cleanContent } = separateFrontmatterAndContent(content);
    const contentWithoutHeader = this.removeFirstHeader(cleanContent);
    return {
      file,
      fileName: this.plugin.settings.showFileName ? file.basename : void 0,
      firstHeader: this.plugin.settings.showFirstHeader ? this.findFirstHeader(cleanContent) : void 0,
      content: this.plugin.settings.showContent ? this.truncateContent(contentWithoutHeader) : void 0
    };
  }
  removeFirstHeader(content) {
    const headerRegex = /^#+\s+(.+)$/m;
    return content.replace(headerRegex, "").trim();
  }
  findFirstHeader(content) {
    const headerRegex = /^#+\s+(.+)$/m;
    const match = content.match(headerRegex);
    return match ? match[1].trim() : void 0;
  }
  truncateContent(content) {
    const maxLength = this.plugin.settings.contentLength * 100;
    return content.length <= maxLength ? content : content.slice(0, maxLength) + "...";
  }
  createCardElement(card) {
    const cardElement = document.createElement("div");
    cardElement.className = "card-navigator-card";
    if (this.plugin.settings.showFileName && card.fileName) {
      const fileNameEl = cardElement.createEl("h3", { text: card.fileName });
      fileNameEl.className = "card-navigator-filename";
      fileNameEl.style.fontSize = `${this.plugin.settings.fileNameSize}px`;
    }
    if (this.plugin.settings.showFirstHeader && card.firstHeader) {
      const headerEl = cardElement.createEl("h4", { text: card.firstHeader });
      headerEl.className = "card-navigator-first-header";
      headerEl.style.fontSize = `${this.plugin.settings.firstHeaderSize}px`;
    }
    if (this.plugin.settings.showContent && card.content) {
      const contentEl = cardElement.createEl("div");
      contentEl.className = "card-navigator-content";
      contentEl.style.fontSize = `${this.plugin.settings.contentSize}px`;
      if (this.plugin.settings.renderContentAsHtml) {
        import_obsidian3.MarkdownRenderer.render(
          this.plugin.app,
          card.content,
          contentEl,
          card.file.path,
          this.plugin
        );
      } else {
        contentEl.textContent = card.content;
        contentEl.style.overflow = "hidden";
        contentEl.style.textOverflow = "ellipsis";
        contentEl.style.display = "-webkit-box";
      }
    }
    if (this.plugin.app.workspace.getActiveFile() === card.file) {
      cardElement.addClass("card-navigator-active");
    }
    this.addCardInteractions(cardElement, card);
    return cardElement;
  }
  addCardInteractions(cardElement, card) {
    cardElement.addEventListener("click", () => this.openFile(card.file));
    this.setupDragAndDrop(cardElement, card);
    this.setupContextMenu(cardElement, card.file);
  }
  setupDragAndDrop(cardElement, card) {
    cardElement.setAttribute("draggable", "true");
    cardElement.addEventListener("dragstart", (event) => {
      if (event.dataTransfer) {
        let dragContent = "";
        if (this.plugin.settings.dragDropContent) {
          if (this.plugin.settings.showFileName && card.fileName) {
            dragContent += `## ${card.fileName}

`;
          }
          if (this.plugin.settings.showFirstHeader && card.firstHeader) {
            dragContent += `# ${card.firstHeader}

`;
          }
          if (this.plugin.settings.showContent && card.content) {
            dragContent += `${card.content}

`;
          }
          if (dragContent === "") {
            dragContent = `[[${card.file.name}]]`;
          }
        } else {
          dragContent = `[[${card.file.name}]]`;
        }
        event.dataTransfer.setData("text/plain", dragContent.trim());
        event.dataTransfer.setDragImage(cardElement, 0, 0);
      }
    });
  }
  setupContextMenu(cardElement, file) {
    cardElement.addEventListener("contextmenu", (e) => {
      e.preventDefault();
      const menu = new import_obsidian3.Menu();
      this.plugin.app.workspace.trigger("file-menu", menu, file, "more-options");
      menu.showAtPosition({ x: e.clientX, y: e.clientY });
    });
  }
  openFile(file) {
    this.plugin.app.workspace.getLeaf().openFile(file);
  }
};

// src/ui/cardContainer/cardContainer.ts
var CardContainer = class {
  constructor(plugin, leaf) {
    this.containerEl = null;
    this.cardWidth = 0;
    this.cardHeight = 0;
    this.plugin = plugin;
    this.leaf = leaf;
    this.cardMaker = new CardMaker(this.plugin);
    this.isVertical = false;
  }
  async initialize(containerEl) {
    this.containerEl = containerEl;
    await this.waitForLeafCreation();
    this.registerEvents();
    this.refresh();
  }
  setOrientation(isVertical) {
    this.isVertical = isVertical;
    this.updateContainerStyle();
  }
  setCardSize(cardWidth, cardHeight) {
    this.cardWidth = cardWidth;
    this.cardHeight = cardHeight;
  }
  getContainerEl() {
    return this.containerEl;
  }
  getCardSizeAndOrientation() {
    return {
      cardWidth: this.cardWidth,
      cardHeight: this.cardHeight,
      isVertical: this.isVertical
    };
  }
  scrollUp(amount) {
    if (!this.containerEl) return;
    const scrollAmount = amount === "single" ? this.cardHeight : this.cardHeight * this.plugin.settings.cardsPerView;
    this.containerEl.scrollBy({ top: -scrollAmount, behavior: "smooth" });
  }
  scrollDown(amount) {
    if (!this.containerEl) return;
    const scrollAmount = amount === "single" ? this.cardHeight : this.cardHeight * this.plugin.settings.cardsPerView;
    this.containerEl.scrollBy({ top: scrollAmount, behavior: "smooth" });
  }
  scrollLeft(amount) {
    if (!this.containerEl) return;
    const scrollAmount = amount === "single" ? this.cardWidth : this.cardWidth * this.plugin.settings.cardsPerView;
    this.containerEl.scrollBy({ left: -scrollAmount, behavior: "smooth" });
  }
  scrollRight(amount) {
    if (!this.containerEl) return;
    const scrollAmount = amount === "single" ? this.cardWidth : this.cardWidth * this.plugin.settings.cardsPerView;
    this.containerEl.scrollBy({ left: scrollAmount, behavior: "smooth" });
  }
  scrollToCenter() {
    if (!this.containerEl) return;
    const activeCard = this.containerEl.querySelector(".card-navigator-active");
    if (activeCard) {
      activeCard.scrollIntoView({ behavior: "smooth", block: "center", inline: "center" });
    }
  }
  updateContainerStyle() {
    if (this.containerEl) {
      if (this.isVertical) {
        this.containerEl.classList.add("vertical");
        this.containerEl.classList.remove("horizontal");
      } else {
        this.containerEl.classList.add("horizontal");
        this.containerEl.classList.remove("vertical");
      }
    }
  }
  async waitForLeafCreation() {
    return new Promise((resolve) => {
      const checkLeaf = () => {
        if (this.containerEl && this.containerEl.getBoundingClientRect().width > 0) {
          resolve();
        } else {
          requestAnimationFrame(checkLeaf);
        }
      };
      checkLeaf();
    });
  }
  registerEvents() {
    this.plugin.registerEvent(
      this.plugin.app.workspace.on("active-leaf-change", debounce2(this.refresh.bind(this), 100))
    );
    this.plugin.registerEvent(
      this.plugin.app.vault.on("modify", debounce2(this.refresh.bind(this), 100))
    );
  }
  async refresh() {
    let folder = null;
    if (this.plugin.settings.useSelectedFolder && this.plugin.settings.selectedFolder) {
      folder = this.plugin.app.vault.getAbstractFileByPath(this.plugin.settings.selectedFolder);
    } else {
      const activeFile = this.plugin.app.workspace.getActiveFile();
      folder = (activeFile == null ? void 0 : activeFile.parent) || null;
    }
    if (!folder || !this.containerEl) {
      return;
    }
    setContainerSize(this.containerEl, this.cardWidth, this.cardHeight, this.plugin.settings.cardsPerView, this.isVertical);
    const files = folder.children.filter((file) => file instanceof import_obsidian4.TFile);
    const sortedFiles = sortFiles(files, this.plugin.settings.sortCriterion, this.plugin.settings.sortOrder);
    const cardsData = await Promise.all(sortedFiles.map((file) => this.cardMaker.createCard(file)));
    this.renderCards(cardsData, this.cardWidth, this.cardHeight);
  }
  renderCards(cardsData, cardWidth, cardHeight) {
    const containerEl = this.containerEl;
    if (!containerEl) return;
    containerEl.innerHTML = "";
    containerEl.classList.toggle("card-container-horizontal", !this.isVertical);
    cardsData.forEach((cardData) => {
      const card = this.cardMaker.createCardElement(cardData);
      card.classList.toggle("card-navigator-card-horizontal", !this.isVertical);
      card.style.width = `${cardWidth}px`;
      card.style.height = `${cardHeight}px`;
      containerEl.appendChild(card);
      if (this.plugin.settings.renderContentAsHtml) {
        card.querySelectorAll("img").forEach((img) => {
          img.addEventListener("load", () => {
            this.adjustCardSize(card);
          });
        });
      }
    });
    if (this.plugin.settings.centerCardMethod === "scroll") {
      this.scrollToActiveCard(cardsData, cardWidth, cardHeight);
    }
  }
  adjustCardSize(card) {
    const content = card.querySelector(".card-navigator-content");
    if (content instanceof HTMLElement) {
      content.style.maxHeight = `${card.clientHeight - 40}px`;
    }
  }
  renderActiveCardCentered(cardsData, activeIndex, cardWidth, cardHeight) {
    const containerEl = this.containerEl;
    if (!containerEl) {
      return;
    }
    const isVertical = this.isVertical;
    const leftCards = cardsData.slice(0, activeIndex);
    const rightCards = cardsData.slice(activeIndex + 1);
    const cardSpacing = 15;
    const containerSize = isVertical ? cardHeight : cardWidth;
    const totalSize = (containerSize + cardSpacing) * this.plugin.settings.cardsPerView - cardSpacing;
    const activeCardOffset = (totalSize - containerSize) / 2;
    let currentOffset = activeCardOffset - (leftCards.length * containerSize + leftCards.length * cardSpacing);
    leftCards.forEach((cardData) => {
      const card = this.cardMaker.createCardElement(cardData);
      card.style.position = "absolute";
      card.style.width = `${cardWidth}px`;
      card.style.height = `${cardHeight}px`;
      if (isVertical) {
        card.style.top = `${currentOffset}px`;
      } else {
        card.style.left = `${currentOffset}px`;
      }
      containerEl.appendChild(card);
      currentOffset += containerSize + cardSpacing;
    });
    const activeCard = this.cardMaker.createCardElement(cardsData[activeIndex]);
    activeCard.style.position = "absolute";
    activeCard.style.width = `${cardWidth}px`;
    activeCard.style.height = `${cardHeight}px`;
    if (isVertical) {
      activeCard.style.top = `${activeCardOffset}px`;
    } else {
      activeCard.style.left = `${activeCardOffset}px`;
    }
    containerEl.appendChild(activeCard);
    currentOffset = activeCardOffset + containerSize + cardSpacing;
    rightCards.forEach((cardData) => {
      const card = this.cardMaker.createCardElement(cardData);
      card.style.position = "absolute";
      card.style.width = `${cardWidth}px`;
      card.style.height = `${cardHeight}px`;
      if (isVertical) {
        card.style.top = `${currentOffset}px`;
      } else {
        card.style.left = `${currentOffset}px`;
      }
      containerEl.appendChild(card);
      currentOffset += containerSize + cardSpacing;
    });
  }
  scrollToActiveCard(cardsData, cardWidth, cardHeight) {
    const containerEl = this.containerEl;
    if (!containerEl) {
      return;
    }
    containerEl.innerHTML = "";
    let activeCard = null;
    cardsData.forEach((cardData) => {
      const card = this.cardMaker.createCardElement(cardData);
      card.style.width = `${cardWidth}px`;
      card.style.height = `${cardHeight}px`;
      containerEl.appendChild(card);
      if (card.classList.contains("card-navigator-active")) {
        activeCard = card;
      }
    });
    if (activeCard && this.plugin.settings.centerCardMethod === "scroll") {
      activeCard.scrollIntoView({ behavior: "smooth", block: "center", inline: "center" });
    }
  }
  displayCards(filteredFiles) {
  }
  async searchCards(searchTerm) {
    const activeFile = this.plugin.app.workspace.getActiveFile();
    if (!activeFile) return;
    const folder = activeFile.parent;
    if (!folder) return;
    const files = folder.children.filter((file) => file instanceof import_obsidian4.TFile);
    const filteredFiles = await this.filterFilesByContent(files, searchTerm);
    const cards = await Promise.all(filteredFiles.map((file) => this.cardMaker.createCard(file)));
    this.renderCards(cards, this.cardWidth, this.cardHeight);
  }
  async displayCardsForFolder(folder) {
    const files = folder.children.filter((file) => file instanceof import_obsidian4.TFile);
    const cards = await Promise.all(files.map((file) => this.cardMaker.createCard(file)));
    this.renderCards(cards, this.cardWidth, this.cardHeight);
  }
  async filterFilesByContent(files, searchTerm) {
    const lowercaseSearchTerm = searchTerm.toLowerCase();
    const filteredFiles = [];
    for (const file of files) {
      const content = await this.plugin.app.vault.cachedRead(file);
      if (file.basename.toLowerCase().includes(lowercaseSearchTerm) || content.toLowerCase().includes(lowercaseSearchTerm)) {
        filteredFiles.push(file);
      }
    }
    return filteredFiles;
  }
  async sortCards(criterion, order) {
    this.plugin.settings.sortCriterion = criterion;
    this.plugin.settings.sortOrder = order;
    await this.plugin.saveSettings();
    this.refresh();
  }
  async findFirstHeader(file) {
    const content = await this.plugin.app.vault.cachedRead(file);
    const headerRegex = /^#+\s+(.+)$/m;
    const match = content.match(headerRegex);
    return match ? match[1].trim() : void 0;
  }
  async getFileContent(file) {
    const content = await this.plugin.app.vault.cachedRead(file);
    const maxLength = this.plugin.settings.contentLength * 100;
    return content.length <= maxLength ? content : content.slice(0, maxLength) + "...";
  }
  onClose() {
  }
};

// src/ui/cardNavigator.ts
var VIEW_TYPE_CARD_NAVIGATOR = "card-navigator-view";
var CardNavigator = class extends import_obsidian5.ItemView {
  constructor(leaf, plugin) {
    super(leaf);
    this.plugin = plugin;
    this.toolbar = new Toolbar(this.plugin);
    this.cardContainer = new CardContainer(this.plugin, this.leaf);
    this.isVertical = this.calculateIsVertical();
    this.resizeObserver = new ResizeObserver(this.handleResize.bind(this));
  }
  getViewType() {
    return VIEW_TYPE_CARD_NAVIGATOR;
  }
  getDisplayText() {
    return "Card Navigator";
  }
  getIcon() {
    return "layers-3";
  }
  calculateIsVertical() {
    const { width, height } = this.leaf.view.containerEl.getBoundingClientRect();
    return height > width;
  }
  handleResize() {
    this.updateLayoutAndRefresh();
  }
  handleKeyDown(event) {
    if (this.containerEl && this.containerEl.contains(document.activeElement)) {
      switch (event.key) {
        case "ArrowUp":
          this.cardContainer.scrollUp("single");
          event.preventDefault();
          break;
        case "ArrowDown":
          this.cardContainer.scrollDown("single");
          event.preventDefault();
          break;
        case "ArrowLeft":
          this.cardContainer.scrollLeft("single");
          event.preventDefault();
          break;
        case "ArrowRight":
          this.cardContainer.scrollRight("single");
          event.preventDefault();
          break;
        case "Home":
          this.cardContainer.scrollToCenter();
          event.preventDefault();
          break;
      }
    }
  }
  updateLayoutAndRefresh() {
    this.isVertical = this.calculateIsVertical();
    const containerRect = this.leaf.view.containerEl.getBoundingClientRect();
    const { cardWidth, cardHeight } = calculateCardSize(this.isVertical, containerRect, this.plugin.settings.cardsPerView);
    this.cardContainer.setOrientation(this.isVertical);
    this.cardContainer.setCardSize(cardWidth, cardHeight);
    this.toolbar.setOrientation(this.isVertical);
    this.refresh();
  }
  async onOpen() {
    const container = this.containerEl.children[1];
    container.empty();
    const cardNavigatorContainerEl = container.createDiv("card-navigator");
    const toolbarEl = cardNavigatorContainerEl.createDiv("card-navigator-toolbar");
    const cardContainerEl = cardNavigatorContainerEl.createDiv("card-container");
    this.toolbar.initialize(toolbarEl);
    this.cardContainer.initialize(cardContainerEl);
    this.isVertical = this.calculateIsVertical();
    this.updateLayoutAndRefresh();
    this.resizeObserver.observe(this.leaf.view.containerEl);
    this.registerDomEvent(document, "keydown", this.handleKeyDown.bind(this));
    this.refresh();
  }
  async onClose() {
    this.resizeObserver.disconnect();
    this.toolbar.onClose();
    this.cardContainer.onClose();
  }
  refresh() {
    this.toolbar.refresh();
    this.cardContainer.refresh();
  }
};

// src/ui/settingsTab.ts
var import_obsidian6 = require("obsidian");
var SettingTab = class extends import_obsidian6.PluginSettingTab {
  constructor(app, plugin) {
    super(app, plugin);
    this.plugin = plugin;
  }
  display() {
    const { containerEl } = this;
    containerEl.empty();
    new import_obsidian6.Setting(containerEl).setName("Cards per view").setDesc("Number of cards to display at once").addSlider((slider) => slider.setLimits(3, 9, 1).setValue(this.plugin.settings.cardsPerView).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.cardsPerView = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Folder Selection").setDesc("Choose whether to use the active file's folder or a selected folder").addDropdown((dropdown) => dropdown.addOption("active", "Active File's Folder").addOption("selected", "Selected Folder").setValue(this.plugin.settings.useSelectedFolder ? "selected" : "active").onChange(async (value) => {
      this.plugin.settings.useSelectedFolder = value === "selected";
      await this.plugin.saveSettings();
      this.display();
    }));
    if (this.plugin.settings.useSelectedFolder) {
      new import_obsidian6.Setting(containerEl).setName("Select Folder").setDesc("Choose a folder for Card Navigator").addButton((button) => button.setButtonText(this.plugin.settings.selectedFolder || "Choose folder").onClick(() => {
        new FolderSuggestModal(this.plugin, (folder) => {
          this.plugin.settings.selectedFolder = folder.path;
          this.plugin.saveSettings();
          this.display();
        }).open();
      }));
    }
    new import_obsidian6.Setting(containerEl).setName("Default sort method").setDesc("Choose the default sorting method for cards").addDropdown((dropdown) => {
      dropdown.addOption("fileName_asc", "File name (A to Z)").addOption("fileName_desc", "File name (Z to A)").addOption("lastModified_desc", "Last modified (newest first)").addOption("lastModified_asc", "Last modified (oldest first)").addOption("created_desc", "Created (newest first)").addOption("created_asc", "Created (oldest first)").setValue(`${this.plugin.settings.sortCriterion}_${this.plugin.settings.sortOrder}`).onChange(async (value) => {
        const [criterion, order] = value.split("_");
        this.plugin.settings.sortCriterion = criterion;
        this.plugin.settings.sortOrder = order;
        await this.plugin.saveSettings();
        this.plugin.refreshViews();
      });
    });
    new import_obsidian6.Setting(containerEl).setName("Render Content as HTML").setDesc("If enabled, card content will be rendered as HTML").addToggle((toggle) => toggle.setValue(this.plugin.settings.renderContentAsHtml).onChange(async (value) => {
      this.plugin.settings.renderContentAsHtml = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Drag and Drop Content").setDesc("When enabled, dragging a card will insert the note content instead of a link.").addToggle((toggle) => toggle.setValue(this.plugin.settings.dragDropContent).onChange(async (value) => {
      this.plugin.settings.dragDropContent = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    containerEl.createEl("h3", { text: "Display items Settings" });
    new import_obsidian6.Setting(containerEl).setName("Show File Name").setDesc("Toggle to display or hide the file name on cards").addToggle((toggle) => toggle.setValue(this.plugin.settings.showFileName).onChange(async (value) => {
      this.plugin.settings.showFileName = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("File Name Size").setDesc("Set the font size for the file name").addSlider((slider) => slider.setLimits(15, 25, 1).setValue(this.plugin.settings.fileNameSize).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.fileNameSize = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Show First Header").setDesc("Toggle to display or hide the first header on cards").addToggle((toggle) => toggle.setValue(this.plugin.settings.showFirstHeader).onChange(async (value) => {
      this.plugin.settings.showFirstHeader = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("First Header Size").setDesc("Set the font size for the first header").addSlider((slider) => slider.setLimits(15, 25, 1).setValue(this.plugin.settings.firstHeaderSize).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.firstHeaderSize = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Show Content").setDesc("Toggle to display or hide the content on cards").addToggle((toggle) => toggle.setValue(this.plugin.settings.showContent).onChange(async (value) => {
      this.plugin.settings.showContent = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Content Size").setDesc("Set the font size for the content").addSlider((slider) => slider.setLimits(10, 20, 1).setValue(this.plugin.settings.contentSize).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.contentSize = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
    new import_obsidian6.Setting(containerEl).setName("Content Length").setDesc("Maximum content length displayed on each card").addSlider((slider) => slider.setLimits(1, 10, 1).setValue(this.plugin.settings.contentLength).setDynamicTooltip().onChange(async (value) => {
      this.plugin.settings.contentLength = value;
      await this.plugin.saveSettings();
      this.plugin.refreshViews();
    }));
  }
};

// src/common/settings.ts
var DEFAULT_SETTINGS = {
  cardsPerView: 6,
  useSelectedFolder: false,
  selectedFolder: null,
  sortCriterion: "fileName",
  sortOrder: "asc",
  renderContentAsHtml: false,
  centerCardMethod: "scroll",
  activeCardBorderColor: "var(--active-border-color)",
  activeCardBackgroundColor: "var(--active-background-color)",
  dragDropContent: false,
  showFileName: true,
  fileNameSize: 20,
  showFirstHeader: true,
  firstHeaderSize: 18,
  showContent: true,
  contentSize: 15,
  contentLength: 5
};

// src/main.ts
var CardNavigatorPlugin = class extends import_obsidian7.Plugin {
  constructor() {
    super(...arguments);
    this.settings = DEFAULT_SETTINGS;
    this.selectedFolder = null;
  }
  async onload() {
    await this.loadSettings();
    this.registerView(
      VIEW_TYPE_CARD_NAVIGATOR,
      (leaf) => new CardNavigator(leaf, this)
    );
    this.addSettingTab(new SettingTab(this.app, this));
    this.addRibbonIcon("layers-3", "Activate Card Navigator", () => {
      this.activateView();
    });
    this.addCommand({
      id: "activate-card-navigator",
      name: "Activate Card Navigator",
      callback: () => {
        this.activateView();
      }
    });
    this.addCommand({
      id: "select-folder",
      name: "Select folder for Card Navigator",
      callback: () => {
        const view = this.app.workspace.getActiveViewOfType(CardNavigator);
        if (view) {
          view.toolbar.openFolderSelector();
        }
      }
    });
    this.app.workspace.onLayoutReady(() => {
      this.activateView();
    });
  }
  async onunload() {
    this.app.workspace.detachLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR);
  }
  async loadSettings() {
    this.settings = Object.assign({}, DEFAULT_SETTINGS, await this.loadData());
  }
  async saveSettings() {
    await this.saveData(this.settings);
    this.refreshViews();
  }
  refreshViews() {
    const leaves = this.app.workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR);
    leaves.forEach((leaf) => {
      if (leaf.view instanceof CardNavigator) {
        leaf.view.updateLayoutAndRefresh();
      }
    });
  }
  displayFilteredCards(filteredFiles) {
    const view = this.app.workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR)[0].view;
    view.cardContainer.displayCards(filteredFiles);
  }
  sortCards(criterion, order) {
    const view = this.app.workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR)[0].view;
    view.cardContainer.sortCards(criterion, order);
  }
  async activateView() {
    const { workspace } = this.app;
    let leaves = workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR);
    let leaf = leaves[0];
    if (!leaf) {
      const rightLeaf = workspace.getRightLeaf(false);
      if (rightLeaf) {
        await rightLeaf.setViewState({ type: VIEW_TYPE_CARD_NAVIGATOR, active: true });
        leaves = workspace.getLeavesOfType(VIEW_TYPE_CARD_NAVIGATOR);
        leaf = leaves[0];
      }
    }
    if (leaf) {
      workspace.revealLeaf(leaf);
    }
  }
};
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsic3JjL21haW4udHMiLCAic3JjL3VpL2NhcmROYXZpZ2F0b3IudHMiLCAic3JjL3VpL3Rvb2xiYXIvdG9vbGJhci50cyIsICJzcmMvdWkvdG9vbGJhci90b29sYmFyQWN0aW9ucy50cyIsICJzcmMvdWkvY2FyZENvbnRhaW5lci9jYXJkQ29udGFpbmVyLnRzIiwgInNyYy91aS9jYXJkQ29udGFpbmVyL2NhcmRNYWtlci50cyIsICJzcmMvY29tbW9uL3V0aWxzLnRzIiwgInNyYy91aS9zZXR0aW5nc1RhYi50cyIsICJzcmMvY29tbW9uL3NldHRpbmdzLnRzIl0sCiAgInNvdXJjZXNDb250ZW50IjogWyIvLyBzcmMvbWFpbi50c1xuXG5pbXBvcnQgeyBQbHVnaW4sIFRGaWxlIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgQ2FyZE5hdmlnYXRvciwgVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SIH0gZnJvbSAnLi91aS9jYXJkTmF2aWdhdG9yJztcbmltcG9ydCB7IFNldHRpbmdUYWIgfSBmcm9tICcuL3VpL3NldHRpbmdzVGFiJztcbmltcG9ydCB7IENhcmROYXZpZ2F0b3JTZXR0aW5ncyB9IGZyb20gJy4vY29tbW9uL3R5cGVzJztcbmltcG9ydCB7IERFRkFVTFRfU0VUVElOR1MgfSBmcm9tICcuL2NvbW1vbi9zZXR0aW5ncyc7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmROYXZpZ2F0b3JQbHVnaW4gZXh0ZW5kcyBQbHVnaW4ge1xuICAgIHNldHRpbmdzOiBDYXJkTmF2aWdhdG9yU2V0dGluZ3MgPSBERUZBVUxUX1NFVFRJTkdTO1xuXHRzZWxlY3RlZEZvbGRlcjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XG5cdHB1YmxpYyBjb250YWluZXJFbDogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQ7XG5cbiAgICBhc3luYyBvbmxvYWQoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMubG9hZFNldHRpbmdzKCk7XG5cbiAgICAgICAgdGhpcy5yZWdpc3RlclZpZXcoXG4gICAgICAgICAgICBWSUVXX1RZUEVfQ0FSRF9OQVZJR0FUT1IsXG4gICAgICAgICAgICAobGVhZikgPT4gbmV3IENhcmROYXZpZ2F0b3IobGVhZiwgdGhpcylcbiAgICAgICAgKTtcblxuICAgICAgICB0aGlzLmFkZFNldHRpbmdUYWIobmV3IFNldHRpbmdUYWIodGhpcy5hcHAsIHRoaXMpKTtcblxuICAgICAgICB0aGlzLmFkZFJpYmJvbkljb24oJ2xheWVycy0zJywgJ0FjdGl2YXRlIENhcmQgTmF2aWdhdG9yJywgKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnYWN0aXZhdGUtY2FyZC1uYXZpZ2F0b3InLFxuICAgICAgICAgICAgbmFtZTogJ0FjdGl2YXRlIENhcmQgTmF2aWdhdG9yJyxcbiAgICAgICAgICAgIGNhbGxiYWNrOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG5cdFx0dGhpcy5hZGRDb21tYW5kKHtcbiAgICAgICAgICAgIGlkOiAnc2VsZWN0LWZvbGRlcicsXG4gICAgICAgICAgICBuYW1lOiAnU2VsZWN0IGZvbGRlciBmb3IgQ2FyZCBOYXZpZ2F0b3InLFxuICAgICAgICAgICAgY2FsbGJhY2s6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldEFjdGl2ZVZpZXdPZlR5cGUoQ2FyZE5hdmlnYXRvcik7XG4gICAgICAgICAgICAgICAgaWYgKHZpZXcpIHtcbiAgICAgICAgICAgICAgICAgICAgdmlldy50b29sYmFyLm9wZW5Gb2xkZXJTZWxlY3RvcigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgdGhpcy5hcHAud29ya3NwYWNlLm9uTGF5b3V0UmVhZHkoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5hY3RpdmF0ZVZpZXcoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgYXN5bmMgb251bmxvYWQoKSB7XG4gICAgICAgIHRoaXMuYXBwLndvcmtzcGFjZS5kZXRhY2hMZWF2ZXNPZlR5cGUoVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SKTtcbiAgICB9XG5cbiAgICBhc3luYyBsb2FkU2V0dGluZ3MoKSB7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBPYmplY3QuYXNzaWduKHt9LCBERUZBVUxUX1NFVFRJTkdTLCBhd2FpdCB0aGlzLmxvYWREYXRhKCkpO1xuICAgIH1cblxuICAgIGFzeW5jIHNhdmVTZXR0aW5ncygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5zYXZlRGF0YSh0aGlzLnNldHRpbmdzKTtcbiAgICAgICAgdGhpcy5yZWZyZXNoVmlld3MoKTtcbiAgICB9XG5cdFxuICAgIHJlZnJlc2hWaWV3cygpIHtcbiAgICAgICAgY29uc3QgbGVhdmVzID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfQ0FSRF9OQVZJR0FUT1IpO1xuICAgICAgICBsZWF2ZXMuZm9yRWFjaCgobGVhZikgPT4ge1xuICAgICAgICAgICAgaWYgKGxlYWYudmlldyBpbnN0YW5jZW9mIENhcmROYXZpZ2F0b3IpIHtcbiAgICAgICAgICAgICAgICBsZWFmLnZpZXcudXBkYXRlTGF5b3V0QW5kUmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG5cblx0ZGlzcGxheUZpbHRlcmVkQ2FyZHMoZmlsdGVyZWRGaWxlczogVEZpbGVbXSkge1xuICAgICAgICBjb25zdCB2aWV3ID0gdGhpcy5hcHAud29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfQ0FSRF9OQVZJR0FUT1IpWzBdLnZpZXcgYXMgQ2FyZE5hdmlnYXRvcjtcbiAgICAgICAgdmlldy5jYXJkQ29udGFpbmVyLmRpc3BsYXlDYXJkcyhmaWx0ZXJlZEZpbGVzKTtcbiAgICB9XG5cdFxuXHRzb3J0Q2FyZHMoY3JpdGVyaW9uOiAnZmlsZU5hbWUnIHwgJ2xhc3RNb2RpZmllZCcgfCAnY3JlYXRlZCcsIG9yZGVyOiAnYXNjJyB8ICdkZXNjJykge1xuXHRcdGNvbnN0IHZpZXcgPSB0aGlzLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9DQVJEX05BVklHQVRPUilbMF0udmlldyBhcyBDYXJkTmF2aWdhdG9yO1xuXHRcdHZpZXcuY2FyZENvbnRhaW5lci5zb3J0Q2FyZHMoY3JpdGVyaW9uLCBvcmRlcik7XG5cdH1cblxuXHRhc3luYyBhY3RpdmF0ZVZpZXcoKSB7XG5cdFx0Y29uc3QgeyB3b3Jrc3BhY2UgfSA9IHRoaXMuYXBwO1xuXHRcdGxldCBsZWF2ZXMgPSB3b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9DQVJEX05BVklHQVRPUik7XG5cdFx0bGV0IGxlYWYgPSBsZWF2ZXNbMF07XG5cdFxuXHRcdGlmICghbGVhZikge1xuXHRcdFx0Y29uc3QgcmlnaHRMZWFmID0gd29ya3NwYWNlLmdldFJpZ2h0TGVhZihmYWxzZSk7XG5cdFx0XHRpZiAocmlnaHRMZWFmKSB7XG5cdFx0XHRcdGF3YWl0IHJpZ2h0TGVhZi5zZXRWaWV3U3RhdGUoeyB0eXBlOiBWSUVXX1RZUEVfQ0FSRF9OQVZJR0FUT1IsIGFjdGl2ZTogdHJ1ZSB9KTtcblx0XHRcdFx0bGVhdmVzID0gd29ya3NwYWNlLmdldExlYXZlc09mVHlwZShWSUVXX1RZUEVfQ0FSRF9OQVZJR0FUT1IpOyAvLyBcdUIyRTRcdUMyREMgXHVBQzAwXHVDODM4XHVDNjI0XHVBRTMwXG5cdFx0XHRcdGxlYWYgPSBsZWF2ZXNbMF07XG5cdFx0XHR9XG5cdFx0fVxuXHRcblx0XHRpZiAobGVhZikge1xuXHRcdFx0d29ya3NwYWNlLnJldmVhbExlYWYobGVhZik7XG5cdFx0fVxuXHR9XG5cdFxufVxuIiwgIi8vIHNyYy91aS9jYXJkTmF2aWdhdG9yLnRzXG5cbmltcG9ydCB7IEl0ZW1WaWV3LCBXb3Jrc3BhY2VMZWFmIH0gZnJvbSBcIm9ic2lkaWFuXCI7XG5pbXBvcnQgQ2FyZE5hdmlnYXRvclBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IFRvb2xiYXIgfSBmcm9tICcuL3Rvb2xiYXIvdG9vbGJhcic7XG5pbXBvcnQgeyBDYXJkQ29udGFpbmVyIH0gZnJvbSAnLi9jYXJkQ29udGFpbmVyL2NhcmRDb250YWluZXInO1xuaW1wb3J0IHsgY2FsY3VsYXRlQ2FyZFNpemUgfSBmcm9tICcuLi9jb21tb24vdXRpbHMnO1xuXG5leHBvcnQgY29uc3QgVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SID0gXCJjYXJkLW5hdmlnYXRvci12aWV3XCI7XG5cbmV4cG9ydCBjbGFzcyBDYXJkTmF2aWdhdG9yIGV4dGVuZHMgSXRlbVZpZXcge1xuICAgIHByaXZhdGUgcGx1Z2luOiBDYXJkTmF2aWdhdG9yUGx1Z2luO1xuICAgIHB1YmxpYyB0b29sYmFyOiBUb29sYmFyO1xuICAgIHB1YmxpYyBjYXJkQ29udGFpbmVyOiBDYXJkQ29udGFpbmVyO1xuICAgIHByaXZhdGUgcmVzaXplT2JzZXJ2ZXI6IFJlc2l6ZU9ic2VydmVyO1xuXHRwcml2YXRlIGlzVmVydGljYWw6IGJvb2xlYW47XG5cbiAgICBjb25zdHJ1Y3RvcihsZWFmOiBXb3Jrc3BhY2VMZWFmLCBwbHVnaW46IENhcmROYXZpZ2F0b3JQbHVnaW4pIHtcbiAgICAgICAgc3VwZXIobGVhZik7XG4gICAgICAgIHRoaXMucGx1Z2luID0gcGx1Z2luO1xuICAgICAgICB0aGlzLnRvb2xiYXIgPSBuZXcgVG9vbGJhcih0aGlzLnBsdWdpbik7XG4gICAgICAgIHRoaXMuY2FyZENvbnRhaW5lciA9IG5ldyBDYXJkQ29udGFpbmVyKHRoaXMucGx1Z2luLCB0aGlzLmxlYWYpO1xuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IHRoaXMuY2FsY3VsYXRlSXNWZXJ0aWNhbCgpO1xuICAgICAgICB0aGlzLnJlc2l6ZU9ic2VydmVyID0gbmV3IFJlc2l6ZU9ic2VydmVyKHRoaXMuaGFuZGxlUmVzaXplLmJpbmQodGhpcykpO1xuICAgIH1cblxuICAgIGdldFZpZXdUeXBlKCkge1xuICAgICAgICByZXR1cm4gVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SO1xuICAgIH1cblxuICAgIGdldERpc3BsYXlUZXh0KCkge1xuICAgICAgICByZXR1cm4gXCJDYXJkIE5hdmlnYXRvclwiO1xuICAgIH1cblxuICAgIGdldEljb24oKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIFwibGF5ZXJzLTNcIjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNhbGN1bGF0ZUlzVmVydGljYWwoKTogYm9vbGVhbiB7XG4gICAgICAgIGNvbnN0IHsgd2lkdGgsIGhlaWdodCB9ID0gdGhpcy5sZWFmLnZpZXcuY29udGFpbmVyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG4gICAgICAgIHJldHVybiBoZWlnaHQgPiB3aWR0aDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGhhbmRsZVJlc2l6ZSgpIHtcbiAgICAgICAgdGhpcy51cGRhdGVMYXlvdXRBbmRSZWZyZXNoKCk7XG4gICAgfVxuICAgIFxuXHRwcml2YXRlIGhhbmRsZUtleURvd24oZXZlbnQ6IEtleWJvYXJkRXZlbnQpIHtcblx0XHRpZiAodGhpcy5jb250YWluZXJFbCAmJiB0aGlzLmNvbnRhaW5lckVsLmNvbnRhaW5zKGRvY3VtZW50LmFjdGl2ZUVsZW1lbnQpKSB7XG5cdFx0XHRzd2l0Y2ggKGV2ZW50LmtleSkge1xuXHRcdFx0XHRjYXNlICdBcnJvd1VwJzpcblx0XHRcdFx0XHR0aGlzLmNhcmRDb250YWluZXIuc2Nyb2xsVXAoJ3NpbmdsZScpO1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0Fycm93RG93bic6XG5cdFx0XHRcdFx0dGhpcy5jYXJkQ29udGFpbmVyLnNjcm9sbERvd24oJ3NpbmdsZScpO1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0Fycm93TGVmdCc6XG5cdFx0XHRcdFx0dGhpcy5jYXJkQ29udGFpbmVyLnNjcm9sbExlZnQoJ3NpbmdsZScpO1xuXHRcdFx0XHRcdGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdGNhc2UgJ0Fycm93UmlnaHQnOlxuXHRcdFx0XHRcdHRoaXMuY2FyZENvbnRhaW5lci5zY3JvbGxSaWdodCgnc2luZ2xlJyk7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0Y2FzZSAnSG9tZSc6XG5cdFx0XHRcdFx0dGhpcy5jYXJkQ29udGFpbmVyLnNjcm9sbFRvQ2VudGVyKCk7XG5cdFx0XHRcdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0XHRicmVhaztcblx0XHRcdH1cblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgdXBkYXRlTGF5b3V0QW5kUmVmcmVzaCgpIHtcblx0XHR0aGlzLmlzVmVydGljYWwgPSB0aGlzLmNhbGN1bGF0ZUlzVmVydGljYWwoKTtcblx0XHRjb25zdCBjb250YWluZXJSZWN0ID0gdGhpcy5sZWFmLnZpZXcuY29udGFpbmVyRWwuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7XG5cdFx0Y29uc3QgeyBjYXJkV2lkdGgsIGNhcmRIZWlnaHQgfSA9IGNhbGN1bGF0ZUNhcmRTaXplKHRoaXMuaXNWZXJ0aWNhbCwgY29udGFpbmVyUmVjdCwgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FyZHNQZXJWaWV3KTtcblx0XHRcblx0XHR0aGlzLmNhcmRDb250YWluZXIuc2V0T3JpZW50YXRpb24odGhpcy5pc1ZlcnRpY2FsKTtcblx0XHR0aGlzLmNhcmRDb250YWluZXIuc2V0Q2FyZFNpemUoY2FyZFdpZHRoLCBjYXJkSGVpZ2h0KTtcblx0XHR0aGlzLnRvb2xiYXIuc2V0T3JpZW50YXRpb24odGhpcy5pc1ZlcnRpY2FsKTtcblx0XHRcblx0XHR0aGlzLnJlZnJlc2goKTtcblx0fVxuXG4gICAgYXN5bmMgb25PcGVuKCkge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSB0aGlzLmNvbnRhaW5lckVsLmNoaWxkcmVuWzFdIGFzIEhUTUxFbGVtZW50O1xuICAgICAgICBjb250YWluZXIuZW1wdHkoKTtcblxuICAgICAgICBjb25zdCBjYXJkTmF2aWdhdG9yQ29udGFpbmVyRWwgPSBjb250YWluZXIuY3JlYXRlRGl2KCdjYXJkLW5hdmlnYXRvcicpO1xuICAgICAgICBjb25zdCB0b29sYmFyRWwgPSBjYXJkTmF2aWdhdG9yQ29udGFpbmVyRWwuY3JlYXRlRGl2KCdjYXJkLW5hdmlnYXRvci10b29sYmFyJyk7XG4gICAgICAgIGNvbnN0IGNhcmRDb250YWluZXJFbCA9IGNhcmROYXZpZ2F0b3JDb250YWluZXJFbC5jcmVhdGVEaXYoJ2NhcmQtY29udGFpbmVyJyk7XG5cbiAgICAgICAgdGhpcy50b29sYmFyLmluaXRpYWxpemUodG9vbGJhckVsKTtcbiAgICAgICAgdGhpcy5jYXJkQ29udGFpbmVyLmluaXRpYWxpemUoY2FyZENvbnRhaW5lckVsKTtcblxuXHRcdHRoaXMuaXNWZXJ0aWNhbCA9IHRoaXMuY2FsY3VsYXRlSXNWZXJ0aWNhbCgpO1xuICAgICAgICB0aGlzLnVwZGF0ZUxheW91dEFuZFJlZnJlc2goKTtcbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5vYnNlcnZlKHRoaXMubGVhZi52aWV3LmNvbnRhaW5lckVsKTtcblxuXHRcdHRoaXMucmVnaXN0ZXJEb21FdmVudChkb2N1bWVudCwgJ2tleWRvd24nLCB0aGlzLmhhbmRsZUtleURvd24uYmluZCh0aGlzKSk7XG5cbiAgICAgICAgdGhpcy5yZWZyZXNoKCk7XG4gICAgfVxuXG4gICAgYXN5bmMgb25DbG9zZSgpIHtcbiAgICAgICAgdGhpcy5yZXNpemVPYnNlcnZlci5kaXNjb25uZWN0KCk7XG4gICAgICAgIHRoaXMudG9vbGJhci5vbkNsb3NlKCk7XG4gICAgICAgIHRoaXMuY2FyZENvbnRhaW5lci5vbkNsb3NlKCk7XG4gICAgfVxuXG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgdGhpcy50b29sYmFyLnJlZnJlc2goKTtcbiAgICAgICAgdGhpcy5jYXJkQ29udGFpbmVyLnJlZnJlc2goKTtcbiAgICB9XG59XG4iLCAiLy8gc3JjL3VpL3Rvb2xiYXIvdG9vbGJhci50c1xuXG5pbXBvcnQgeyBzZXRJY29uLCBURm9sZGVyLCBkZWJvdW5jZSB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBDYXJkTmF2aWdhdG9yUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgQ2FyZE5hdmlnYXRvciB9IGZyb20gJy4uL2NhcmROYXZpZ2F0b3InO1xuaW1wb3J0IHsgRm9sZGVyU3VnZ2VzdE1vZGFsIH0gZnJvbSAnLi90b29sYmFyQWN0aW9ucyc7XG5pbXBvcnQgeyB0b2dnbGVTb3J0LCB0b2dnbGVTZXR0aW5ncyB9IGZyb20gJy4vdG9vbGJhckFjdGlvbnMnO1xuXG5leHBvcnQgY2xhc3MgVG9vbGJhciB7XG4gICAgcHJpdmF0ZSBjb250YWluZXJFbDogSFRNTEVsZW1lbnQgfCB1bmRlZmluZWQgPSB1bmRlZmluZWQ7XG4gICAgcHJpdmF0ZSBpc1ZlcnRpY2FsOiBib29sZWFuO1xuXG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IENhcmROYXZpZ2F0b3JQbHVnaW4pIHtcbiAgICAgICAgdGhpcy5pc1ZlcnRpY2FsID0gZmFsc2U7XG4gICAgfVxuXG4gICAgaW5pdGlhbGl6ZShjb250YWluZXJFbDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJFbCA9IGNvbnRhaW5lckVsO1xuICAgICAgICB0aGlzLmNyZWF0ZVRvb2xiYXIoKTtcbiAgICB9XG5cblx0c2V0T3JpZW50YXRpb24oaXNWZXJ0aWNhbDogYm9vbGVhbikge1xuICAgICAgICBpZiAodGhpcy5pc1ZlcnRpY2FsICE9PSBpc1ZlcnRpY2FsKSB7XG4gICAgICAgICAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xuICAgICAgICAgICAgdGhpcy51cGRhdGVUb29sYmFyU3R5bGUoKTtcbiAgICAgICAgICAgIHRoaXMuY3JlYXRlVG9vbGJhcigpO1xuICAgICAgICB9XG4gICAgfVxuXG5cdHByaXZhdGUgdXBkYXRlVG9vbGJhclN0eWxlKCkge1xuICAgICAgICBpZiAodGhpcy5jb250YWluZXJFbCkge1xuICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jbGFzc0xpc3QudG9nZ2xlKCd2ZXJ0aWNhbCcsIHRoaXMuaXNWZXJ0aWNhbCk7XG4gICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNsYXNzTGlzdC50b2dnbGUoJ2hvcml6b250YWwnLCAhdGhpcy5pc1ZlcnRpY2FsKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlVG9vbGJhcigpIHtcbiAgICAgICAgaWYgKCF0aGlzLmNvbnRhaW5lckVsKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgY29uc3QgdG9vbGJhckNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICB0b29sYmFyQ29udGFpbmVyLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci10b29sYmFyLWNvbnRhaW5lcic7XG5cbiAgICAgICAgY29uc3Qgc2VhcmNoQ29udGFpbmVyID0gdGhpcy5jcmVhdGVTZWFyY2hDb250YWluZXIoKTtcbiAgICAgICAgY29uc3Qgc2VwYXJhdG9yID0gdGhpcy5jcmVhdGVTZXBhcmF0b3IoKTtcbiAgICAgICAgY29uc3QgYWN0aW9uSWNvbnNDb250YWluZXIgPSB0aGlzLmNyZWF0ZUFjdGlvbkljb25zQ29udGFpbmVyKCk7XG5cbiAgICAgICAgdG9vbGJhckNvbnRhaW5lci5hcHBlbmRDaGlsZChzZWFyY2hDb250YWluZXIpO1xuICAgICAgICB0b29sYmFyQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcGFyYXRvcik7XG4gICAgICAgIHRvb2xiYXJDb250YWluZXIuYXBwZW5kQ2hpbGQoYWN0aW9uSWNvbnNDb250YWluZXIpO1xuXG4gICAgICAgIHRoaXMuY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQodG9vbGJhckNvbnRhaW5lcik7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBjcmVhdGVTZWFyY2hDb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1zZWFyY2gtY29udGFpbmVyJztcblxuICAgICAgICBjb25zdCBpbnB1dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGlucHV0LnR5cGUgPSAndGV4dCc7XG4gICAgICAgIGlucHV0LnBsYWNlaG9sZGVyID0gJ1NlYXJjaC4uLic7XG4gICAgICAgIGlucHV0LmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1zZWFyY2gtaW5wdXQnO1xuXG4gICAgICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgZGVib3VuY2UoYXN5bmMgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzZWFyY2hUZXJtID0gKGUudGFyZ2V0IGFzIEhUTUxJbnB1dEVsZW1lbnQpLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgdmlldyA9IHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKCdjYXJkLW5hdmlnYXRvci12aWV3JylbMF0udmlldyBhcyBDYXJkTmF2aWdhdG9yO1xuICAgICAgICAgICAgYXdhaXQgdmlldy5jYXJkQ29udGFpbmVyLnNlYXJjaENhcmRzKHNlYXJjaFRlcm0pO1xuICAgICAgICB9LCAzMDApKTtcblxuICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5wdXQpO1xuICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgIH1cblxuICAgIHByaXZhdGUgY3JlYXRlQWN0aW9uSWNvbnNDb250YWluZXIoKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgY29udGFpbmVyLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1hY3Rpb24taWNvbnMtY29udGFpbmVyJztcblxuICAgICAgICBjb25zdCBpY29ucyA9IFtcbiAgICAgICAgICAgIHsgbmFtZTogJ2ZvbGRlcicsIGxhYmVsOiAnU2VsZWN0IGZvbGRlcicsIGFjdGlvbjogKCkgPT4gdGhpcy5vcGVuRm9sZGVyU2VsZWN0b3IoKSB9LFxuICAgICAgICAgICAgeyBuYW1lOiAnYXJyb3ctdXAtbmFycm93LXdpZGUnLCBsYWJlbDogJ1NvcnQgY2FyZHMnLCBhY3Rpb246ICgpID0+IHRvZ2dsZVNvcnQodGhpcy5wbHVnaW4pIH0sXG4gICAgICAgICAgICB7IG5hbWU6ICdzZXR0aW5ncycsIGxhYmVsOiAnU2V0dGluZ3MnLCBhY3Rpb246ICgpID0+IHRvZ2dsZVNldHRpbmdzKHRoaXMucGx1Z2luKSB9LFxuICAgICAgICBdO1xuXG4gICAgICAgIGljb25zLmZvckVhY2goaWNvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBpY29uRWxlbWVudCA9IHRoaXMuY3JlYXRlVG9vbGJhckljb24oaWNvbi5uYW1lLCBpY29uLmxhYmVsLCBpY29uLmFjdGlvbik7XG4gICAgICAgICAgICBpZiAoaWNvbi5uYW1lID09PSAnYXJyb3ctdXAtbmFycm93LXdpZGUnKSB7XG4gICAgICAgICAgICAgICAgaWNvbkVsZW1lbnQuY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNvcnRDcml0ZXJpb24gIT09ICdmaWxlTmFtZScgfHwgXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLnNvcnRPcmRlciAhPT0gJ2FzYydcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKGljb25FbGVtZW50KTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgcmV0dXJuIGNvbnRhaW5lcjtcbiAgICB9XG5cbiAgICBwcml2YXRlIGNyZWF0ZVRvb2xiYXJJY29uKGljb25OYW1lOiBzdHJpbmcsIGFyaWFMYWJlbDogc3RyaW5nLCBhY3Rpb246IChlOiBNb3VzZUV2ZW50KSA9PiB2b2lkKTogSFRNTEVsZW1lbnQge1xuICAgICAgICBjb25zdCBpY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGljb24uY2xhc3NOYW1lID0gJ2NsaWNrYWJsZS1pY29uJztcbiAgICAgICAgaWNvbi5zZXRBdHRyaWJ1dGUoJ2FyaWEtbGFiZWwnLCBhcmlhTGFiZWwpO1xuXG4gICAgICAgIHNldEljb24oaWNvbiwgaWNvbk5hbWUpO1xuICAgICAgICBpY29uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWN0aW9uKTtcblxuICAgICAgICByZXR1cm4gaWNvbjtcbiAgICB9XG5cdFxuXHRwcml2YXRlIGNyZWF0ZVNlcGFyYXRvcigpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IHNlcGFyYXRvciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzZXBhcmF0b3IuY2xhc3NOYW1lID0gJ3Rvb2xiYXItc2VwYXJhdG9yJztcbiAgICAgICAgcmV0dXJuIHNlcGFyYXRvcjtcbiAgICB9XG5cblx0cHVibGljIG9wZW5Gb2xkZXJTZWxlY3RvcigpIHtcblx0XHRuZXcgRm9sZGVyU3VnZ2VzdE1vZGFsKHRoaXMucGx1Z2luLCAoZm9sZGVyOiBURm9sZGVyKSA9PiB7XG5cdFx0XHRjb25zdCB2aWV3ID0gdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVWaWV3T2ZUeXBlKENhcmROYXZpZ2F0b3IpO1xuXHRcdFx0aWYgKHZpZXcpIHtcblx0XHRcdFx0dmlldy5jYXJkQ29udGFpbmVyLmRpc3BsYXlDYXJkc0ZvckZvbGRlcihmb2xkZXIpO1xuXHRcdFx0fVxuXHRcdH0pLm9wZW4oKTtcblx0fVxuXG4gICAgcmVmcmVzaCgpIHtcbiAgICAgICAgLy8gSW1wbGVtZW50IHJlZnJlc2ggbG9naWMgaWYgbmVjZXNzYXJ5XG4gICAgfVxuXG4gICAgb25DbG9zZSgpIHtcbiAgICAgICAgLy8gQ2xlYW51cCB0b29sYmFyLXJlbGF0ZWQgcmVzb3VyY2VzXG4gICAgfVxufVxuIiwgIi8vIHNyYy91aS90b29sYmFyL3Rvb2xiYXJBY3Rpb25zLnRzXG5cbmltcG9ydCB7IFRGb2xkZXIsIEZ1enp5U3VnZ2VzdE1vZGFsIH0gZnJvbSAnb2JzaWRpYW4nO1xuaW1wb3J0IHsgQ2FyZE5hdmlnYXRvciB9IGZyb20gJy4uL2NhcmROYXZpZ2F0b3InO1xuaW1wb3J0IHsgVklFV19UWVBFX0NBUkRfTkFWSUdBVE9SIH0gZnJvbSAnLi4vY2FyZE5hdmlnYXRvcic7XG5pbXBvcnQgQ2FyZE5hdmlnYXRvclBsdWdpbiBmcm9tICcuLi8uLi9tYWluJztcbmltcG9ydCB7IFNvcnRDcml0ZXJpb24gfSBmcm9tICcuLi8uLi9jb21tb24vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgRm9sZGVyU3VnZ2VzdE1vZGFsIGV4dGVuZHMgRnV6enlTdWdnZXN0TW9kYWw8VEZvbGRlcj4ge1xuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgcGx1Z2luOiBDYXJkTmF2aWdhdG9yUGx1Z2luLCBwcml2YXRlIG9uU2VsZWN0OiAoZm9sZGVyOiBURm9sZGVyKSA9PiB2b2lkKSB7XG4gICAgICAgIHN1cGVyKHBsdWdpbi5hcHApO1xuICAgIH1cblxuICAgIGdldEl0ZW1zKCk6IFRGb2xkZXJbXSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWxsTG9hZGVkRmlsZXMoKVxuICAgICAgICAgICAgLmZpbHRlcigoZmlsZSk6IGZpbGUgaXMgVEZvbGRlciA9PiBmaWxlIGluc3RhbmNlb2YgVEZvbGRlcik7XG4gICAgfVxuXG4gICAgZ2V0SXRlbVRleHQoZm9sZGVyOiBURm9sZGVyKTogc3RyaW5nIHtcbiAgICAgICAgcmV0dXJuIGZvbGRlci5wYXRoO1xuICAgIH1cblxuICAgIG9uQ2hvb3NlSXRlbShmb2xkZXI6IFRGb2xkZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5vblNlbGVjdChmb2xkZXIpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIG1vdmVDYXJkcyhkaXJlY3Rpb246IHN0cmluZywgcGx1Z2luOiBDYXJkTmF2aWdhdG9yUGx1Z2luLCBhbW91bnQ6ICdzaW5nbGUnIHwgJ211bHRpcGxlJyA9ICdzaW5nbGUnKSB7XG4gICAgY29uc3QgbGVhdmVzID0gcGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0TGVhdmVzT2ZUeXBlKFZJRVdfVFlQRV9DQVJEX05BVklHQVRPUik7XG4gICAgaWYgKGxlYXZlcy5sZW5ndGggPT09IDApIHJldHVybjtcblxuICAgIGNvbnN0IHZpZXcgPSBsZWF2ZXNbMF0udmlldyBhcyBDYXJkTmF2aWdhdG9yO1xuICAgIGlmICghdmlldyB8fCAhdmlldy5jYXJkQ29udGFpbmVyKSByZXR1cm47XG5cbiAgICBjb25zdCBjYXJkQ29udGFpbmVyID0gdmlldy5jYXJkQ29udGFpbmVyO1xuXG4gICAgc3dpdGNoIChkaXJlY3Rpb24pIHtcbiAgICAgICAgY2FzZSAndXAnOlxuICAgICAgICAgICAgY2FyZENvbnRhaW5lci5zY3JvbGxVcChhbW91bnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Rvd24nOlxuICAgICAgICAgICAgY2FyZENvbnRhaW5lci5zY3JvbGxEb3duKGFtb3VudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbGVmdCc6XG4gICAgICAgICAgICBjYXJkQ29udGFpbmVyLnNjcm9sbExlZnQoYW1vdW50KTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdyaWdodCc6XG4gICAgICAgICAgICBjYXJkQ29udGFpbmVyLnNjcm9sbFJpZ2h0KGFtb3VudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2VudGVyJzpcbiAgICAgICAgICAgIGNhcmRDb250YWluZXIuc2Nyb2xsVG9DZW50ZXIoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVNvcnQocGx1Z2luOiBDYXJkTmF2aWdhdG9yUGx1Z2luKSB7XG4gICAgbGV0IHNvcnRQb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLW5hdmlnYXRvci1zb3J0LXBvcHVwJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICBpZiAoIXNvcnRQb3B1cCkge1xuICAgICAgICBzb3J0UG9wdXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgc29ydFBvcHVwLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1zb3J0LXBvcHVwJztcblxuICAgICAgICBjb25zdCBjdXJyZW50U29ydCA9IGAke3BsdWdpbi5zZXR0aW5ncy5zb3J0Q3JpdGVyaW9ufV8ke3BsdWdpbi5zZXR0aW5ncy5zb3J0T3JkZXJ9YDtcblxuICAgICAgICBjb25zdCBhZGRTb3J0T3B0aW9uID0gKHZhbHVlOiBzdHJpbmcsIGxhYmVsOiBzdHJpbmcpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IG9wdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpO1xuICAgICAgICAgICAgb3B0aW9uLnRleHRDb250ZW50ID0gbGFiZWw7XG4gICAgICAgICAgICBvcHRpb24uY2xhc3NMaXN0LnRvZ2dsZSgnYWN0aXZlJywgY3VycmVudFNvcnQgPT09IHZhbHVlKTtcbiAgICAgICAgICAgIG9wdGlvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBbY3JpdGVyaW9uLCBvcmRlcl0gPSB2YWx1ZS5zcGxpdCgnXycpIGFzIFtTb3J0Q3JpdGVyaW9uLCAnYXNjJyB8ICdkZXNjJ107XG4gICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnNvcnRDcml0ZXJpb24gPSBjcml0ZXJpb247XG4gICAgICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnNvcnRPcmRlciA9IG9yZGVyO1xuICAgICAgICAgICAgICAgIGF3YWl0IHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICBwbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG4gICAgICAgICAgICAgICAgc29ydFBvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzb3J0UG9wdXAuYXBwZW5kQ2hpbGQob3B0aW9uKTtcbiAgICAgICAgfTtcblxuICAgICAgICBhZGRTb3J0T3B0aW9uKCdmaWxlTmFtZV9hc2MnLCAnRmlsZSBuYW1lIChBIHRvIFopJyk7XG4gICAgICAgIGFkZFNvcnRPcHRpb24oJ2ZpbGVOYW1lX2Rlc2MnLCAnRmlsZSBuYW1lIChaIHRvIEEpJyk7XG4gICAgICAgIGFkZFNvcnRPcHRpb24oJ2xhc3RNb2RpZmllZF9kZXNjJywgJ0xhc3QgbW9kaWZpZWQgKG5ld2VzdCBmaXJzdCknKTtcbiAgICAgICAgYWRkU29ydE9wdGlvbignbGFzdE1vZGlmaWVkX2FzYycsICdMYXN0IG1vZGlmaWVkIChvbGRlc3QgZmlyc3QpJyk7XG4gICAgICAgIGFkZFNvcnRPcHRpb24oJ2NyZWF0ZWRfZGVzYycsICdDcmVhdGVkIChuZXdlc3QgZmlyc3QpJyk7XG4gICAgICAgIGFkZFNvcnRPcHRpb24oJ2NyZWF0ZWRfYXNjJywgJ0NyZWF0ZWQgKG9sZGVzdCBmaXJzdCknKTtcblxuICAgICAgICAvLyBcdUQyMzRcdUJDMTQgXHVENTU4XHVCMkU4XHVDNUQwIFx1QkMzMFx1Q0U1OFxuICAgICAgICBjb25zdCB0b29sYmFyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1uYXZpZ2F0b3ItdG9vbGJhci1jb250YWluZXInKTtcbiAgICAgICAgaWYgKHRvb2xiYXJFbCkge1xuICAgICAgICAgICAgdG9vbGJhckVsLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBzb3J0UG9wdXApO1xuXG4gICAgICAgICAgICAvLyBcdUQ2NTRcdUJBNzRcdUM3NTggXHVCMkU0XHVCOTc4IFx1QUNGM1x1Qzc0NCBcdUQwNzRcdUI5QURcdUQ1NThcdUJBNzQgXHVEMzFEXHVDNUM1XHVDNzQ0IFx1QjJFQlx1QjI5NCBcdUM3NzRcdUJDQTRcdUQyQjggXHVDRDk0XHVBQzAwXG4gICAgICAgICAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIG9uQ2xpY2tPdXRzaWRlKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKHNvcnRQb3B1cCAmJiAhc29ydFBvcHVwLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSAmJiAhdG9vbGJhckVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBzb3J0UG9wdXAucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgb25DbGlja091dHNpZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgICAgc29ydFBvcHVwLnJlbW92ZSgpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRvZ2dsZVNldHRpbmdzKHBsdWdpbjogQ2FyZE5hdmlnYXRvclBsdWdpbikge1xuICAgIGxldCBzZXR0aW5nc1BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNhcmQtbmF2aWdhdG9yLXNldHRpbmdzLXBvcHVwJykgYXMgSFRNTEVsZW1lbnQ7XG5cbiAgICBpZiAoIXNldHRpbmdzUG9wdXApIHtcbiAgICAgICAgc2V0dGluZ3NQb3B1cCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuICAgICAgICBzZXR0aW5nc1BvcHVwLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1zZXR0aW5ncy1wb3B1cCc7XG5cbiAgICAgICAgLy8gXHVDRTc0XHVCNERDIFx1QzIxOCBcdUMxMjRcdUM4MTVcbiAgICAgICAgY29uc3QgY2FyZHNQZXJWaWV3U2V0dGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2lucHV0Jyk7XG4gICAgICAgIGNhcmRzUGVyVmlld1NldHRpbmcudHlwZSA9ICdyYW5nZSc7XG4gICAgICAgIGNhcmRzUGVyVmlld1NldHRpbmcubWluID0gJzEnO1xuICAgICAgICBjYXJkc1BlclZpZXdTZXR0aW5nLm1heCA9ICcxMCc7XG4gICAgICAgIGNhcmRzUGVyVmlld1NldHRpbmcudmFsdWUgPSBwbHVnaW4uc2V0dGluZ3MuY2FyZHNQZXJWaWV3LnRvU3RyaW5nKCk7XG4gICAgICAgIGNhcmRzUGVyVmlld1NldHRpbmcuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuY2FyZHNQZXJWaWV3ID0gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICAgICAgICAgIHBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgIHBsdWdpbi5yZWZyZXNoVmlld3MoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnN0IGNhcmRzUGVyVmlld0xhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgY2FyZHNQZXJWaWV3TGFiZWwudGV4dENvbnRlbnQgPSAnQ2FyZHMgUGVyIFZpZXc6JztcbiAgICAgICAgc2V0dGluZ3NQb3B1cC5hcHBlbmRDaGlsZChjYXJkc1BlclZpZXdMYWJlbCk7XG4gICAgICAgIHNldHRpbmdzUG9wdXAuYXBwZW5kQ2hpbGQoY2FyZHNQZXJWaWV3U2V0dGluZyk7XG5cbiAgICAgICAgLy8gXHVBRTAwXHVDNzkwIFx1RDA2Q1x1QUUzMCBcdUMxMjRcdUM4MTVcbiAgICAgICAgY29uc3QgZm9udFNpemVTZXR0aW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTtcbiAgICAgICAgZm9udFNpemVTZXR0aW5nLnR5cGUgPSAncmFuZ2UnO1xuICAgICAgICBmb250U2l6ZVNldHRpbmcubWluID0gJzEwJztcbiAgICAgICAgZm9udFNpemVTZXR0aW5nLm1heCA9ICczMCc7XG4gICAgICAgIGZvbnRTaXplU2V0dGluZy52YWx1ZSA9IHBsdWdpbi5zZXR0aW5ncy5jb250ZW50U2l6ZS50b1N0cmluZygpO1xuICAgICAgICBmb250U2l6ZVNldHRpbmcuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdmFsdWUgPSAoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkudmFsdWU7XG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3MuY29udGVudFNpemUgPSBwYXJzZUludCh2YWx1ZSwgMTApO1xuICAgICAgICAgICAgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgcGx1Z2luLnJlZnJlc2hWaWV3cygpO1xuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgZm9udFNpemVMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2xhYmVsJyk7XG4gICAgICAgIGZvbnRTaXplTGFiZWwudGV4dENvbnRlbnQgPSAnQ29udGVudCBGb250IFNpemU6JztcbiAgICAgICAgc2V0dGluZ3NQb3B1cC5hcHBlbmRDaGlsZChmb250U2l6ZUxhYmVsKTtcbiAgICAgICAgc2V0dGluZ3NQb3B1cC5hcHBlbmRDaGlsZChmb250U2l6ZVNldHRpbmcpO1xuXG4gICAgICAgIC8vIFx1RDQ1Q1x1QzJEQyBcdUQ1NkRcdUJBQTkgXHVDMTIwXHVEMEREXHVDNzQ0IFx1QzcwNFx1RDU1QyBcdUQxQTBcdUFFMDAgXHVCQzg0XHVEMkJDXHVCNEU0XG4gICAgICAgIGNvbnN0IGNyZWF0ZVRvZ2dsZSA9IChsYWJlbFRleHQ6IHN0cmluZywgaW5pdGlhbFZhbHVlOiBib29sZWFuLCBvbkNoYW5nZTogKHZhbHVlOiBib29sZWFuKSA9PiB2b2lkKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcbiAgICAgICAgICAgIGNvbnN0IGxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGFiZWwnKTtcbiAgICAgICAgICAgIGxhYmVsLnRleHRDb250ZW50ID0gbGFiZWxUZXh0O1xuXG4gICAgICAgICAgICBjb25zdCB0b2dnbGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpO1xuICAgICAgICAgICAgdG9nZ2xlLnR5cGUgPSAnY2hlY2tib3gnO1xuICAgICAgICAgICAgdG9nZ2xlLmNoZWNrZWQgPSBpbml0aWFsVmFsdWU7XG4gICAgICAgICAgICB0b2dnbGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKGUpID0+IHtcbiAgICAgICAgICAgICAgICBvbkNoYW5nZSgoZS50YXJnZXQgYXMgSFRNTElucHV0RWxlbWVudCkuY2hlY2tlZCk7XG4gICAgICAgICAgICAgICAgcGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuICAgICAgICAgICAgICAgIHBsdWdpbi5yZWZyZXNoVmlld3MoKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBjb250YWluZXIuYXBwZW5kQ2hpbGQobGFiZWwpO1xuICAgICAgICAgICAgY29udGFpbmVyLmFwcGVuZENoaWxkKHRvZ2dsZSk7XG4gICAgICAgICAgICByZXR1cm4gY29udGFpbmVyO1xuICAgICAgICB9O1xuXG4gICAgICAgIC8vIEZpbGUgTmFtZSBcdUQ0NUNcdUMyRENcbiAgICAgICAgY29uc3QgZmlsZU5hbWVUb2dnbGUgPSBjcmVhdGVUb2dnbGUoJ1Nob3cgRmlsZSBOYW1lJywgcGx1Z2luLnNldHRpbmdzLnNob3dGaWxlTmFtZSwgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICBwbHVnaW4uc2V0dGluZ3Muc2hvd0ZpbGVOYW1lID0gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXR0aW5nc1BvcHVwLmFwcGVuZENoaWxkKGZpbGVOYW1lVG9nZ2xlKTtcblxuICAgICAgICAvLyBGaXJzdCBIZWFkZXIgXHVENDVDXHVDMkRDXG4gICAgICAgIGNvbnN0IGZpcnN0SGVhZGVyVG9nZ2xlID0gY3JlYXRlVG9nZ2xlKCdTaG93IEZpcnN0IEhlYWRlcicsIHBsdWdpbi5zZXR0aW5ncy5zaG93Rmlyc3RIZWFkZXIsICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgcGx1Z2luLnNldHRpbmdzLnNob3dGaXJzdEhlYWRlciA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0dGluZ3NQb3B1cC5hcHBlbmRDaGlsZChmaXJzdEhlYWRlclRvZ2dsZSk7XG5cbiAgICAgICAgLy8gQ29udGVudCBcdUQ0NUNcdUMyRENcbiAgICAgICAgY29uc3QgY29udGVudFRvZ2dsZSA9IGNyZWF0ZVRvZ2dsZSgnU2hvdyBDb250ZW50JywgcGx1Z2luLnNldHRpbmdzLnNob3dDb250ZW50LCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5zaG93Q29udGVudCA9IHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0dGluZ3NQb3B1cC5hcHBlbmRDaGlsZChjb250ZW50VG9nZ2xlKTtcblxuICAgICAgICAvLyBEcmFnIGFuZCBEcm9wIENvbnRlbnQgXHVENDVDXHVDMkRDIChcdUMwQzhcdUI4NUMgXHVDRDk0XHVBQzAwXHVCNDFDIFx1QkQ4MFx1QkQ4NClcbiAgICAgICAgY29uc3QgZHJhZ0Ryb3BDb250ZW50VG9nZ2xlID0gY3JlYXRlVG9nZ2xlKCdEcmFnIGFuZCBEcm9wIENvbnRlbnQnLCBwbHVnaW4uc2V0dGluZ3MuZHJhZ0Ryb3BDb250ZW50LCAodmFsdWUpID0+IHtcbiAgICAgICAgICAgIHBsdWdpbi5zZXR0aW5ncy5kcmFnRHJvcENvbnRlbnQgPSB2YWx1ZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldHRpbmdzUG9wdXAuYXBwZW5kQ2hpbGQoZHJhZ0Ryb3BDb250ZW50VG9nZ2xlKTtcblxuICAgICAgICAvLyBcdUQyMzRcdUJDMTQgXHVENTU4XHVCMkU4XHVDNUQwIFx1QkMzMFx1Q0U1OFxuICAgICAgICBjb25zdCB0b29sYmFyRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC1uYXZpZ2F0b3ItdG9vbGJhci1jb250YWluZXInKTtcbiAgICAgICAgaWYgKHRvb2xiYXJFbCkge1xuICAgICAgICAgICAgdG9vbGJhckVsLmluc2VydEFkamFjZW50RWxlbWVudCgnYWZ0ZXJlbmQnLCBzZXR0aW5nc1BvcHVwKTtcblxuICAgICAgICAgICAgLy8gXHVENjU0XHVCQTc0XHVDNzU4IFx1QjJFNFx1Qjk3OCBcdUFDRjNcdUM3NDQgXHVEMDc0XHVCOUFEXHVENTU4XHVCQTc0IFx1RDMxRFx1QzVDNVx1Qzc0NCBcdUIyRUJcdUIyOTQgXHVDNzc0XHVCQ0E0XHVEMkI4IFx1Q0Q5NFx1QUMwMFxuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiBvbkNsaWNrT3V0c2lkZShldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChzZXR0aW5nc1BvcHVwICYmICFzZXR0aW5nc1BvcHVwLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSAmJiAhdG9vbGJhckVsLmNvbnRhaW5zKGV2ZW50LnRhcmdldCBhcyBOb2RlKSkge1xuICAgICAgICAgICAgICAgICAgICBzZXR0aW5nc1BvcHVwLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIG9uQ2xpY2tPdXRzaWRlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAgIHNldHRpbmdzUG9wdXAuY2xhc3NMaXN0LnRvZ2dsZSgnaGlkZGVuJyk7XG4gICAgfVxufVxuIiwgIi8vIHNyYy91aS9jYXJkQ29udGFpbmVyL2NhcmRDb250YWluZXIudHNcblxuaW1wb3J0IHsgV29ya3NwYWNlTGVhZiwgVEZpbGUsIFRGb2xkZXIgfSBmcm9tIFwib2JzaWRpYW5cIjtcbmltcG9ydCBDYXJkTmF2aWdhdG9yUGx1Z2luIGZyb20gJ21haW4nO1xuaW1wb3J0IHsgQ2FyZE1ha2VyIH0gZnJvbSAnLi9jYXJkTWFrZXInXG5pbXBvcnQgeyBkZWJvdW5jZSwgc29ydEZpbGVzLCBzZXRDb250YWluZXJTaXplIH0gZnJvbSAnLi4vLi4vY29tbW9uL3V0aWxzJztcbmltcG9ydCB7IENhcmQsIFNvcnRDcml0ZXJpb24gfSBmcm9tICcuLi8uLi9jb21tb24vdHlwZXMnO1xuXG5leHBvcnQgY2xhc3MgQ2FyZENvbnRhaW5lciB7XG4gICAgcHJpdmF0ZSBsZWFmOiBXb3Jrc3BhY2VMZWFmO1xuICAgIHByaXZhdGUgY29udGFpbmVyRWw6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG4gICAgcHJpdmF0ZSBjYXJkTWFrZXI6IENhcmRNYWtlcjtcbiAgICBwcml2YXRlIHBsdWdpbjogQ2FyZE5hdmlnYXRvclBsdWdpbjtcblx0cHJpdmF0ZSBpc1ZlcnRpY2FsOiBib29sZWFuO1xuXHRwcml2YXRlIGNhcmRXaWR0aCA9IDA7XG4gICAgcHJpdmF0ZSBjYXJkSGVpZ2h0ID0gMDtcblxuICAgIGNvbnN0cnVjdG9yKHBsdWdpbjogQ2FyZE5hdmlnYXRvclBsdWdpbiwgbGVhZjogV29ya3NwYWNlTGVhZikge1xuICAgICAgICB0aGlzLnBsdWdpbiA9IHBsdWdpbjtcbiAgICAgICAgdGhpcy5sZWFmID0gbGVhZjtcbiAgICAgICAgdGhpcy5jYXJkTWFrZXIgPSBuZXcgQ2FyZE1ha2VyKHRoaXMucGx1Z2luKTtcbiAgICAgICAgdGhpcy5pc1ZlcnRpY2FsID0gZmFsc2U7XG4gICAgfVxuXG4gICAgYXN5bmMgaW5pdGlhbGl6ZShjb250YWluZXJFbDogSFRNTEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jb250YWluZXJFbCA9IGNvbnRhaW5lckVsO1xuICAgICAgICBhd2FpdCB0aGlzLndhaXRGb3JMZWFmQ3JlYXRpb24oKTtcbiAgICAgICAgdGhpcy5yZWdpc3RlckV2ZW50cygpO1xuICAgICAgICB0aGlzLnJlZnJlc2goKTtcbiAgICB9XG5cblx0c2V0T3JpZW50YXRpb24oaXNWZXJ0aWNhbDogYm9vbGVhbikge1xuICAgICAgICB0aGlzLmlzVmVydGljYWwgPSBpc1ZlcnRpY2FsO1xuICAgICAgICB0aGlzLnVwZGF0ZUNvbnRhaW5lclN0eWxlKCk7XG4gICAgfVxuXG4gICAgc2V0Q2FyZFNpemUoY2FyZFdpZHRoOiBudW1iZXIsIGNhcmRIZWlnaHQ6IG51bWJlcikge1xuICAgICAgICB0aGlzLmNhcmRXaWR0aCA9IGNhcmRXaWR0aDtcbiAgICAgICAgdGhpcy5jYXJkSGVpZ2h0ID0gY2FyZEhlaWdodDtcbiAgICB9XG5cbiAgICBnZXRDb250YWluZXJFbCgpOiBIVE1MRWxlbWVudCB8IG51bGwge1xuICAgICAgICByZXR1cm4gdGhpcy5jb250YWluZXJFbDtcbiAgICB9XG5cbiAgICBnZXRDYXJkU2l6ZUFuZE9yaWVudGF0aW9uKCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FyZFdpZHRoOiB0aGlzLmNhcmRXaWR0aCxcbiAgICAgICAgICAgIGNhcmRIZWlnaHQ6IHRoaXMuY2FyZEhlaWdodCxcbiAgICAgICAgICAgIGlzVmVydGljYWw6IHRoaXMuaXNWZXJ0aWNhbCxcbiAgICAgICAgfTtcbiAgICB9XG5cblx0c2Nyb2xsVXAoYW1vdW50OiAnc2luZ2xlJyB8ICdtdWx0aXBsZScpIHtcblx0XHRpZiAoIXRoaXMuY29udGFpbmVyRWwpIHJldHVybjtcblx0XHRjb25zdCBzY3JvbGxBbW91bnQgPSBhbW91bnQgPT09ICdzaW5nbGUnID8gdGhpcy5jYXJkSGVpZ2h0IDogdGhpcy5jYXJkSGVpZ2h0ICogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FyZHNQZXJWaWV3O1xuXHRcdHRoaXMuY29udGFpbmVyRWwuc2Nyb2xsQnkoeyB0b3A6IC1zY3JvbGxBbW91bnQsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcblx0fVxuXHRcblx0c2Nyb2xsRG93bihhbW91bnQ6ICdzaW5nbGUnIHwgJ211bHRpcGxlJykge1xuXHRcdGlmICghdGhpcy5jb250YWluZXJFbCkgcmV0dXJuO1xuXHRcdGNvbnN0IHNjcm9sbEFtb3VudCA9IGFtb3VudCA9PT0gJ3NpbmdsZScgPyB0aGlzLmNhcmRIZWlnaHQgOiB0aGlzLmNhcmRIZWlnaHQgKiB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jYXJkc1BlclZpZXc7XG5cdFx0dGhpcy5jb250YWluZXJFbC5zY3JvbGxCeSh7IHRvcDogc2Nyb2xsQW1vdW50LCBiZWhhdmlvcjogJ3Ntb290aCcgfSk7XG5cdH1cblx0XG5cdHNjcm9sbExlZnQoYW1vdW50OiAnc2luZ2xlJyB8ICdtdWx0aXBsZScpIHtcblx0XHRpZiAoIXRoaXMuY29udGFpbmVyRWwpIHJldHVybjtcblx0XHRjb25zdCBzY3JvbGxBbW91bnQgPSBhbW91bnQgPT09ICdzaW5nbGUnID8gdGhpcy5jYXJkV2lkdGggOiB0aGlzLmNhcmRXaWR0aCAqIHRoaXMucGx1Z2luLnNldHRpbmdzLmNhcmRzUGVyVmlldztcblx0XHR0aGlzLmNvbnRhaW5lckVsLnNjcm9sbEJ5KHsgbGVmdDogLXNjcm9sbEFtb3VudCwgYmVoYXZpb3I6ICdzbW9vdGgnIH0pO1xuXHR9XG5cdFxuXHRzY3JvbGxSaWdodChhbW91bnQ6ICdzaW5nbGUnIHwgJ211bHRpcGxlJykge1xuXHRcdGlmICghdGhpcy5jb250YWluZXJFbCkgcmV0dXJuO1xuXHRcdGNvbnN0IHNjcm9sbEFtb3VudCA9IGFtb3VudCA9PT0gJ3NpbmdsZScgPyB0aGlzLmNhcmRXaWR0aCA6IHRoaXMuY2FyZFdpZHRoICogdGhpcy5wbHVnaW4uc2V0dGluZ3MuY2FyZHNQZXJWaWV3O1xuXHRcdHRoaXMuY29udGFpbmVyRWwuc2Nyb2xsQnkoeyBsZWZ0OiBzY3JvbGxBbW91bnQsIGJlaGF2aW9yOiAnc21vb3RoJyB9KTtcblx0fVxuXHRcblx0c2Nyb2xsVG9DZW50ZXIoKSB7XG5cdFx0aWYgKCF0aGlzLmNvbnRhaW5lckVsKSByZXR1cm47XG5cdFx0Y29uc3QgYWN0aXZlQ2FyZCA9IHRoaXMuY29udGFpbmVyRWwucXVlcnlTZWxlY3RvcignLmNhcmQtbmF2aWdhdG9yLWFjdGl2ZScpIGFzIEhUTUxFbGVtZW50O1xuXHRcdGlmIChhY3RpdmVDYXJkKSB7XG5cdFx0XHRhY3RpdmVDYXJkLnNjcm9sbEludG9WaWV3KHsgYmVoYXZpb3I6ICdzbW9vdGgnLCBibG9jazogJ2NlbnRlcicsIGlubGluZTogJ2NlbnRlcicgfSk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSB1cGRhdGVDb250YWluZXJTdHlsZSgpIHtcbiAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyRWwpIHtcbiAgICAgICAgICAgIGlmICh0aGlzLmlzVmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRhaW5lckVsLmNsYXNzTGlzdC5hZGQoJ3ZlcnRpY2FsJyk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb250YWluZXJFbC5jbGFzc0xpc3QucmVtb3ZlKCdob3Jpem9udGFsJyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY2xhc3NMaXN0LmFkZCgnaG9yaXpvbnRhbCcpO1xuICAgICAgICAgICAgICAgIHRoaXMuY29udGFpbmVyRWwuY2xhc3NMaXN0LnJlbW92ZSgndmVydGljYWwnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByaXZhdGUgYXN5bmMgd2FpdEZvckxlYWZDcmVhdGlvbigpOiBQcm9taXNlPHZvaWQ+IHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjaGVja0xlYWYgPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuY29udGFpbmVyRWwgJiYgdGhpcy5jb250YWluZXJFbC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RBbmltYXRpb25GcmFtZShjaGVja0xlYWYpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjaGVja0xlYWYoKTtcbiAgICAgICAgfSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWdpc3RlckV2ZW50cygpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4ucmVnaXN0ZXJFdmVudChcbiAgICAgICAgICAgIHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2Uub24oJ2FjdGl2ZS1sZWFmLWNoYW5nZScsIGRlYm91bmNlKHRoaXMucmVmcmVzaC5iaW5kKHRoaXMpLCAxMDApKVxuICAgICAgICApO1xuICAgICAgICB0aGlzLnBsdWdpbi5yZWdpc3RlckV2ZW50KFxuICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLnZhdWx0Lm9uKCdtb2RpZnknLCBkZWJvdW5jZSh0aGlzLnJlZnJlc2guYmluZCh0aGlzKSwgMTAwKSlcbiAgICAgICAgKTtcbiAgICB9XG5cbiAgICBhc3luYyByZWZyZXNoKCkge1xuICAgICAgICBsZXQgZm9sZGVyOiBURm9sZGVyIHwgbnVsbCA9IG51bGw7XG5cbiAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnVzZVNlbGVjdGVkRm9sZGVyICYmIHRoaXMucGx1Z2luLnNldHRpbmdzLnNlbGVjdGVkRm9sZGVyKSB7XG4gICAgICAgICAgICBmb2xkZXIgPSB0aGlzLnBsdWdpbi5hcHAudmF1bHQuZ2V0QWJzdHJhY3RGaWxlQnlQYXRoKHRoaXMucGx1Z2luLnNldHRpbmdzLnNlbGVjdGVkRm9sZGVyKSBhcyBURm9sZGVyO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgYWN0aXZlRmlsZSA9IHRoaXMucGx1Z2luLmFwcC53b3Jrc3BhY2UuZ2V0QWN0aXZlRmlsZSgpO1xuICAgICAgICAgICAgZm9sZGVyID0gYWN0aXZlRmlsZT8ucGFyZW50IHx8IG51bGw7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIWZvbGRlciB8fCAhdGhpcy5jb250YWluZXJFbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgc2V0Q29udGFpbmVyU2l6ZSh0aGlzLmNvbnRhaW5lckVsLCB0aGlzLmNhcmRXaWR0aCwgdGhpcy5jYXJkSGVpZ2h0LCB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jYXJkc1BlclZpZXcsIHRoaXMuaXNWZXJ0aWNhbCk7XG5cbiAgICAgICAgY29uc3QgZmlsZXMgPSBmb2xkZXIuY2hpbGRyZW4uZmlsdGVyKChmaWxlKTogZmlsZSBpcyBURmlsZSA9PiBmaWxlIGluc3RhbmNlb2YgVEZpbGUpO1xuICAgICAgICBjb25zdCBzb3J0ZWRGaWxlcyA9IHNvcnRGaWxlcyhmaWxlcywgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc29ydENyaXRlcmlvbiwgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc29ydE9yZGVyKTtcbiAgICAgICAgY29uc3QgY2FyZHNEYXRhID0gYXdhaXQgUHJvbWlzZS5hbGwoc29ydGVkRmlsZXMubWFwKGZpbGUgPT4gdGhpcy5jYXJkTWFrZXIuY3JlYXRlQ2FyZChmaWxlKSkpO1xuICAgICAgICB0aGlzLnJlbmRlckNhcmRzKGNhcmRzRGF0YSwgdGhpcy5jYXJkV2lkdGgsIHRoaXMuY2FyZEhlaWdodCk7XG4gICAgfVxuXG5cdHByaXZhdGUgcmVuZGVyQ2FyZHMoY2FyZHNEYXRhOiBDYXJkW10sIGNhcmRXaWR0aDogbnVtYmVyLCBjYXJkSGVpZ2h0OiBudW1iZXIpIHtcbiAgICAgICAgY29uc3QgY29udGFpbmVyRWwgPSB0aGlzLmNvbnRhaW5lckVsO1xuICAgICAgICBpZiAoIWNvbnRhaW5lckVsKSByZXR1cm47XG5cbiAgICAgICAgY29udGFpbmVyRWwuaW5uZXJIVE1MID0gJyc7XG4gICAgICAgIGNvbnRhaW5lckVsLmNsYXNzTGlzdC50b2dnbGUoJ2NhcmQtY29udGFpbmVyLWhvcml6b250YWwnLCAhdGhpcy5pc1ZlcnRpY2FsKTtcblxuICAgICAgICBjYXJkc0RhdGEuZm9yRWFjaCgoY2FyZERhdGEpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNhcmQgPSB0aGlzLmNhcmRNYWtlci5jcmVhdGVDYXJkRWxlbWVudChjYXJkRGF0YSk7XG4gICAgICAgICAgICBjYXJkLmNsYXNzTGlzdC50b2dnbGUoJ2NhcmQtbmF2aWdhdG9yLWNhcmQtaG9yaXpvbnRhbCcsICF0aGlzLmlzVmVydGljYWwpO1xuICAgICAgICAgICAgY2FyZC5zdHlsZS53aWR0aCA9IGAke2NhcmRXaWR0aH1weGA7XG4gICAgICAgICAgICBjYXJkLnN0eWxlLmhlaWdodCA9IGAke2NhcmRIZWlnaHR9cHhgO1xuICAgICAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoY2FyZCk7XG5cbiAgICAgICAgICAgIC8vIFx1Qzc3NFx1QkJGOFx1QzlDMCBcdUI4NUNcdUI1MjkgXHVDQzk4XHVCOUFDXG5cdFx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MucmVuZGVyQ29udGVudEFzSHRtbCkge1xuXHRcdFx0XHRjYXJkLnF1ZXJ5U2VsZWN0b3JBbGwoJ2ltZycpLmZvckVhY2goKGltZzogSFRNTEltYWdlRWxlbWVudCkgPT4ge1xuXHRcdFx0XHRcdGltZy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgKCkgPT4ge1xuXHRcdFx0XHRcdFx0dGhpcy5hZGp1c3RDYXJkU2l6ZShjYXJkKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fSk7XG5cdFx0XHR9XG4gICAgICAgIH0pO1xuXHRcblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MuY2VudGVyQ2FyZE1ldGhvZCA9PT0gJ3Njcm9sbCcpIHtcblx0XHRcdHRoaXMuc2Nyb2xsVG9BY3RpdmVDYXJkKGNhcmRzRGF0YSwgY2FyZFdpZHRoLCBjYXJkSGVpZ2h0KTtcblx0XHR9XG5cdH1cblxuXHRwcml2YXRlIGFkanVzdENhcmRTaXplKGNhcmQ6IEhUTUxFbGVtZW50KSB7XG5cdFx0Y29uc3QgY29udGVudCA9IGNhcmQucXVlcnlTZWxlY3RvcignLmNhcmQtbmF2aWdhdG9yLWNvbnRlbnQnKTtcblx0XHRpZiAoY29udGVudCBpbnN0YW5jZW9mIEhUTUxFbGVtZW50KSB7XG5cdFx0XHRjb250ZW50LnN0eWxlLm1heEhlaWdodCA9IGAke2NhcmQuY2xpZW50SGVpZ2h0IC0gNDB9cHhgOyAvLyA0MHB4XHVCMjk0IFx1QjMwMFx1QjdCNVx1QzgwMVx1Qzc3OCBcdUM1RUNcdUJDMzFcblx0XHR9XG5cdH1cblxuICAgIHByaXZhdGUgcmVuZGVyQWN0aXZlQ2FyZENlbnRlcmVkKGNhcmRzRGF0YTogQ2FyZFtdLCBhY3RpdmVJbmRleDogbnVtYmVyLCBjYXJkV2lkdGg6IG51bWJlciwgY2FyZEhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lckVsID0gdGhpcy5jb250YWluZXJFbDtcbiAgICAgICAgaWYgKCFjb250YWluZXJFbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29uc3QgaXNWZXJ0aWNhbCA9IHRoaXMuaXNWZXJ0aWNhbDtcblxuICAgICAgICBjb25zdCBsZWZ0Q2FyZHMgPSBjYXJkc0RhdGEuc2xpY2UoMCwgYWN0aXZlSW5kZXgpO1xuICAgICAgICBjb25zdCByaWdodENhcmRzID0gY2FyZHNEYXRhLnNsaWNlKGFjdGl2ZUluZGV4ICsgMSk7XG5cbiAgICAgICAgY29uc3QgY2FyZFNwYWNpbmcgPSAxNTtcbiAgICAgICAgY29uc3QgY29udGFpbmVyU2l6ZSA9IGlzVmVydGljYWwgPyBjYXJkSGVpZ2h0IDogY2FyZFdpZHRoO1xuICAgICAgICBjb25zdCB0b3RhbFNpemUgPSAoY29udGFpbmVyU2l6ZSArIGNhcmRTcGFjaW5nKSAqIHRoaXMucGx1Z2luLnNldHRpbmdzLmNhcmRzUGVyVmlldyAtIGNhcmRTcGFjaW5nO1xuICAgICAgICBjb25zdCBhY3RpdmVDYXJkT2Zmc2V0ID0gKCh0b3RhbFNpemUgLSBjb250YWluZXJTaXplKSAvIDIpO1xuXG4gICAgICAgIGxldCBjdXJyZW50T2Zmc2V0ID0gYWN0aXZlQ2FyZE9mZnNldCAtICgobGVmdENhcmRzLmxlbmd0aCAqIGNvbnRhaW5lclNpemUpICsgKGxlZnRDYXJkcy5sZW5ndGggKiBjYXJkU3BhY2luZykpO1xuXG4gICAgICAgIGxlZnRDYXJkcy5mb3JFYWNoKChjYXJkRGF0YSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgY2FyZCA9IHRoaXMuY2FyZE1ha2VyLmNyZWF0ZUNhcmRFbGVtZW50KGNhcmREYXRhKTtcbiAgICAgICAgICAgIGNhcmQuc3R5bGUucG9zaXRpb24gPSAnYWJzb2x1dGUnO1xuICAgICAgICAgICAgY2FyZC5zdHlsZS53aWR0aCA9IGAke2NhcmRXaWR0aH1weGA7XG4gICAgICAgICAgICBjYXJkLnN0eWxlLmhlaWdodCA9IGAke2NhcmRIZWlnaHR9cHhgO1xuICAgICAgICAgICAgaWYgKGlzVmVydGljYWwpIHtcbiAgICAgICAgICAgICAgICBjYXJkLnN0eWxlLnRvcCA9IGAke2N1cnJlbnRPZmZzZXR9cHhgO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBjYXJkLnN0eWxlLmxlZnQgPSBgJHtjdXJyZW50T2Zmc2V0fXB4YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKGNhcmQpO1xuICAgICAgICAgICAgY3VycmVudE9mZnNldCArPSBjb250YWluZXJTaXplICsgY2FyZFNwYWNpbmc7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IGFjdGl2ZUNhcmQgPSB0aGlzLmNhcmRNYWtlci5jcmVhdGVDYXJkRWxlbWVudChjYXJkc0RhdGFbYWN0aXZlSW5kZXhdKTtcbiAgICAgICAgYWN0aXZlQ2FyZC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgIGFjdGl2ZUNhcmQuc3R5bGUud2lkdGggPSBgJHtjYXJkV2lkdGh9cHhgO1xuICAgICAgICBhY3RpdmVDYXJkLnN0eWxlLmhlaWdodCA9IGAke2NhcmRIZWlnaHR9cHhgO1xuICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgYWN0aXZlQ2FyZC5zdHlsZS50b3AgPSBgJHthY3RpdmVDYXJkT2Zmc2V0fXB4YDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFjdGl2ZUNhcmQuc3R5bGUubGVmdCA9IGAke2FjdGl2ZUNhcmRPZmZzZXR9cHhgO1xuICAgICAgICB9XG4gICAgICAgIGNvbnRhaW5lckVsLmFwcGVuZENoaWxkKGFjdGl2ZUNhcmQpO1xuXG4gICAgICAgIGN1cnJlbnRPZmZzZXQgPSBhY3RpdmVDYXJkT2Zmc2V0ICsgY29udGFpbmVyU2l6ZSArIGNhcmRTcGFjaW5nO1xuICAgICAgICByaWdodENhcmRzLmZvckVhY2goKGNhcmREYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYXJkID0gdGhpcy5jYXJkTWFrZXIuY3JlYXRlQ2FyZEVsZW1lbnQoY2FyZERhdGEpO1xuICAgICAgICAgICAgY2FyZC5zdHlsZS5wb3NpdGlvbiA9ICdhYnNvbHV0ZSc7XG4gICAgICAgICAgICBjYXJkLnN0eWxlLndpZHRoID0gYCR7Y2FyZFdpZHRofXB4YDtcbiAgICAgICAgICAgIGNhcmQuc3R5bGUuaGVpZ2h0ID0gYCR7Y2FyZEhlaWdodH1weGA7XG4gICAgICAgICAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUudG9wID0gYCR7Y3VycmVudE9mZnNldH1weGA7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhcmQuc3R5bGUubGVmdCA9IGAke2N1cnJlbnRPZmZzZXR9cHhgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoY2FyZCk7XG4gICAgICAgICAgICBjdXJyZW50T2Zmc2V0ICs9IGNvbnRhaW5lclNpemUgKyBjYXJkU3BhY2luZztcbiAgICAgICAgfSk7XG4gICAgfVxuXG5cdHByaXZhdGUgc2Nyb2xsVG9BY3RpdmVDYXJkKGNhcmRzRGF0YTogQ2FyZFtdLCBjYXJkV2lkdGg6IG51bWJlciwgY2FyZEhlaWdodDogbnVtYmVyKSB7XG4gICAgICAgIGNvbnN0IGNvbnRhaW5lckVsID0gdGhpcy5jb250YWluZXJFbDtcbiAgICAgICAgaWYgKCFjb250YWluZXJFbCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyRWwuaW5uZXJIVE1MID0gJyc7XG5cbiAgICAgICAgbGV0IGFjdGl2ZUNhcmQ6IEhUTUxFbGVtZW50IHwgbnVsbCA9IG51bGw7XG5cbiAgICAgICAgY2FyZHNEYXRhLmZvckVhY2goKGNhcmREYXRhKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBjYXJkID0gdGhpcy5jYXJkTWFrZXIuY3JlYXRlQ2FyZEVsZW1lbnQoY2FyZERhdGEpO1xuICAgICAgICAgICAgY2FyZC5zdHlsZS53aWR0aCA9IGAke2NhcmRXaWR0aH1weGA7XG4gICAgICAgICAgICBjYXJkLnN0eWxlLmhlaWdodCA9IGAke2NhcmRIZWlnaHR9cHhgO1xuICAgICAgICAgICAgY29udGFpbmVyRWwuYXBwZW5kQ2hpbGQoY2FyZCk7XG5cbiAgICAgICAgICAgIGlmIChjYXJkLmNsYXNzTGlzdC5jb250YWlucygnY2FyZC1uYXZpZ2F0b3ItYWN0aXZlJykpIHtcbiAgICAgICAgICAgICAgICBhY3RpdmVDYXJkID0gY2FyZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKGFjdGl2ZUNhcmQgJiYgdGhpcy5wbHVnaW4uc2V0dGluZ3MuY2VudGVyQ2FyZE1ldGhvZCA9PT0gJ3Njcm9sbCcpIHtcbiAgICAgICAgICAgIChhY3RpdmVDYXJkIGFzIEhUTUxFbGVtZW50KS5zY3JvbGxJbnRvVmlldyh7IGJlaGF2aW9yOiAnc21vb3RoJywgYmxvY2s6ICdjZW50ZXInLCBpbmxpbmU6ICdjZW50ZXInIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG5cdHB1YmxpYyBkaXNwbGF5Q2FyZHMoZmlsdGVyZWRGaWxlczogVEZpbGVbXSkge1xuXHR9XG5cblx0cHVibGljIGFzeW5jIHNlYXJjaENhcmRzKHNlYXJjaFRlcm06IHN0cmluZykge1xuXHRcdGNvbnN0IGFjdGl2ZUZpbGUgPSB0aGlzLnBsdWdpbi5hcHAud29ya3NwYWNlLmdldEFjdGl2ZUZpbGUoKTtcblx0XHRpZiAoIWFjdGl2ZUZpbGUpIHJldHVybjtcblx0XG5cdFx0Y29uc3QgZm9sZGVyID0gYWN0aXZlRmlsZS5wYXJlbnQ7XG5cdFx0aWYgKCFmb2xkZXIpIHJldHVybjtcblx0XG5cdFx0Y29uc3QgZmlsZXMgPSBmb2xkZXIuY2hpbGRyZW4uZmlsdGVyKChmaWxlKTogZmlsZSBpcyBURmlsZSA9PiBmaWxlIGluc3RhbmNlb2YgVEZpbGUpO1xuXHRcdGNvbnN0IGZpbHRlcmVkRmlsZXMgPSBhd2FpdCB0aGlzLmZpbHRlckZpbGVzQnlDb250ZW50KGZpbGVzLCBzZWFyY2hUZXJtKTtcblx0XG5cdFx0Y29uc3QgY2FyZHMgPSBhd2FpdCBQcm9taXNlLmFsbChmaWx0ZXJlZEZpbGVzLm1hcChmaWxlID0+IHRoaXMuY2FyZE1ha2VyLmNyZWF0ZUNhcmQoZmlsZSkpKTtcblx0XHR0aGlzLnJlbmRlckNhcmRzKGNhcmRzLCB0aGlzLmNhcmRXaWR0aCwgdGhpcy5jYXJkSGVpZ2h0KTtcblx0fVxuXHRcblx0YXN5bmMgZGlzcGxheUNhcmRzRm9yRm9sZGVyKGZvbGRlcjogVEZvbGRlcikge1xuXHRcdGNvbnN0IGZpbGVzID0gZm9sZGVyLmNoaWxkcmVuLmZpbHRlcigoZmlsZSk6IGZpbGUgaXMgVEZpbGUgPT4gZmlsZSBpbnN0YW5jZW9mIFRGaWxlKTtcblx0XHRjb25zdCBjYXJkcyA9IGF3YWl0IFByb21pc2UuYWxsKGZpbGVzLm1hcChmaWxlID0+IHRoaXMuY2FyZE1ha2VyLmNyZWF0ZUNhcmQoZmlsZSkpKTtcblx0XHR0aGlzLnJlbmRlckNhcmRzKGNhcmRzLCB0aGlzLmNhcmRXaWR0aCwgdGhpcy5jYXJkSGVpZ2h0KTtcblx0fVxuXG5cdHByaXZhdGUgYXN5bmMgZmlsdGVyRmlsZXNCeUNvbnRlbnQoZmlsZXM6IFRGaWxlW10sIHNlYXJjaFRlcm06IHN0cmluZyk6IFByb21pc2U8VEZpbGVbXT4ge1xuXHRcdGNvbnN0IGxvd2VyY2FzZVNlYXJjaFRlcm0gPSBzZWFyY2hUZXJtLnRvTG93ZXJDYXNlKCk7XG5cdFx0Y29uc3QgZmlsdGVyZWRGaWxlcyA9IFtdO1xuXHRcdGZvciAoY29uc3QgZmlsZSBvZiBmaWxlcykge1xuXHRcdFx0Y29uc3QgY29udGVudCA9IGF3YWl0IHRoaXMucGx1Z2luLmFwcC52YXVsdC5jYWNoZWRSZWFkKGZpbGUpO1xuXHRcdFx0aWYgKGZpbGUuYmFzZW5hbWUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhsb3dlcmNhc2VTZWFyY2hUZXJtKSB8fFxuXHRcdFx0XHRjb250ZW50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMobG93ZXJjYXNlU2VhcmNoVGVybSkpIHtcblx0XHRcdFx0ZmlsdGVyZWRGaWxlcy5wdXNoKGZpbGUpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gZmlsdGVyZWRGaWxlcztcblx0fVxuXG4gICAgcHVibGljIGFzeW5jIHNvcnRDYXJkcyhjcml0ZXJpb246IFNvcnRDcml0ZXJpb24sIG9yZGVyOiAnYXNjJyB8ICdkZXNjJykge1xuICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zb3J0Q3JpdGVyaW9uID0gY3JpdGVyaW9uO1xuICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zb3J0T3JkZXIgPSBvcmRlcjtcbiAgICAgICAgYXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMucmVmcmVzaCgpO1xuICAgIH1cblx0XG5cdHByaXZhdGUgYXN5bmMgZmluZEZpcnN0SGVhZGVyKGZpbGU6IFRGaWxlKTogUHJvbWlzZTxzdHJpbmcgfCB1bmRlZmluZWQ+IHtcblx0XHRjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNhY2hlZFJlYWQoZmlsZSk7XG5cdFx0Y29uc3QgaGVhZGVyUmVnZXggPSAvXiMrXFxzKyguKykkL207XG5cdFx0Y29uc3QgbWF0Y2ggPSBjb250ZW50Lm1hdGNoKGhlYWRlclJlZ2V4KTtcblx0XHRyZXR1cm4gbWF0Y2ggPyBtYXRjaFsxXS50cmltKCkgOiB1bmRlZmluZWQ7XG5cdH1cblx0XG5cdHByaXZhdGUgYXN5bmMgZ2V0RmlsZUNvbnRlbnQoZmlsZTogVEZpbGUpOiBQcm9taXNlPHN0cmluZz4ge1xuXHRcdGNvbnN0IGNvbnRlbnQgPSBhd2FpdCB0aGlzLnBsdWdpbi5hcHAudmF1bHQuY2FjaGVkUmVhZChmaWxlKTtcblx0XHRjb25zdCBtYXhMZW5ndGggPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb250ZW50TGVuZ3RoICogMTAwO1xuXHRcdHJldHVybiBjb250ZW50Lmxlbmd0aCA8PSBtYXhMZW5ndGggPyBjb250ZW50IDogY29udGVudC5zbGljZSgwLCBtYXhMZW5ndGgpICsgJy4uLic7XG5cdH1cblxuICAgIG9uQ2xvc2UoKSB7fVxufVxuIiwgIi8vIHNyYy91aS9jYXJkQ29udGFpbmVyL2NhcmRNYWtlci50c1xuXG5pbXBvcnQgeyBNZW51LCBURmlsZSwgTWFya2Rvd25SZW5kZXJlciB9IGZyb20gJ29ic2lkaWFuJztcbmltcG9ydCBDYXJkTmF2aWdhdG9yUGx1Z2luIGZyb20gJy4uLy4uL21haW4nO1xuaW1wb3J0IHsgQ2FyZCB9IGZyb20gJy4uLy4uL2NvbW1vbi90eXBlcyc7XG5pbXBvcnQgeyBzb3J0RmlsZXMsIHNlcGFyYXRlRnJvbnRtYXR0ZXJBbmRDb250ZW50IH0gZnJvbSAnLi4vLi4vY29tbW9uL3V0aWxzJztcblxuZXhwb3J0IGNsYXNzIENhcmRNYWtlciB7XG4gICAgY29uc3RydWN0b3IocHJpdmF0ZSBwbHVnaW46IENhcmROYXZpZ2F0b3JQbHVnaW4pIHt9XG5cblx0YXN5bmMgZ2V0Q2FyZHNGb3JBY3RpdmVGaWxlKGFjdGl2ZUZpbGU6IFRGaWxlKTogUHJvbWlzZTxDYXJkW10+IHtcblx0XHRjb25zdCBmb2xkZXIgPSBhY3RpdmVGaWxlLnBhcmVudDtcblx0XHRpZiAoIWZvbGRlcikge1xuXHRcdFx0cmV0dXJuIFtdO1xuXHRcdH1cblx0XHRjb25zdCBmaWxlcyA9IGZvbGRlci5jaGlsZHJlbi5maWx0ZXIoKGZpbGUpOiBmaWxlIGlzIFRGaWxlID0+IGZpbGUgaW5zdGFuY2VvZiBURmlsZSk7XG5cdFx0Y29uc3Qgc29ydGVkRmlsZXMgPSBzb3J0RmlsZXMoXG5cdFx0XHRmaWxlcywgXG5cdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zb3J0Q3JpdGVyaW9uLCBcblx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNvcnRPcmRlclxuXHRcdCk7XG5cdFx0cmV0dXJuIGF3YWl0IFByb21pc2UuYWxsKHNvcnRlZEZpbGVzLm1hcChmaWxlID0+IHRoaXMuY3JlYXRlQ2FyZChmaWxlKSkpO1xuXHR9XG5cbiAgICBwdWJsaWMgYXN5bmMgY3JlYXRlQ2FyZChmaWxlOiBURmlsZSk6IFByb21pc2U8Q2FyZD4ge1xuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgdGhpcy5wbHVnaW4uYXBwLnZhdWx0LmNhY2hlZFJlYWQoZmlsZSk7XG4gICAgICAgIGNvbnN0IHsgY2xlYW5Db250ZW50IH0gPSBzZXBhcmF0ZUZyb250bWF0dGVyQW5kQ29udGVudChjb250ZW50KTtcbiAgICAgICAgY29uc3QgY29udGVudFdpdGhvdXRIZWFkZXIgPSB0aGlzLnJlbW92ZUZpcnN0SGVhZGVyKGNsZWFuQ29udGVudCk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBmaWxlLFxuICAgICAgICAgICAgZmlsZU5hbWU6IHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dGaWxlTmFtZSA/IGZpbGUuYmFzZW5hbWUgOiB1bmRlZmluZWQsXG4gICAgICAgICAgICBmaXJzdEhlYWRlcjogdGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0ZpcnN0SGVhZGVyID8gdGhpcy5maW5kRmlyc3RIZWFkZXIoY2xlYW5Db250ZW50KSA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIGNvbnRlbnQ6IHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dDb250ZW50ID8gdGhpcy50cnVuY2F0ZUNvbnRlbnQoY29udGVudFdpdGhvdXRIZWFkZXIpIDogdW5kZWZpbmVkLFxuICAgICAgICB9O1xuICAgIH1cblxuICAgIHByaXZhdGUgcmVtb3ZlRmlyc3RIZWFkZXIoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHtcbiAgICAgICAgY29uc3QgaGVhZGVyUmVnZXggPSAvXiMrXFxzKyguKykkL207XG4gICAgICAgIHJldHVybiBjb250ZW50LnJlcGxhY2UoaGVhZGVyUmVnZXgsICcnKS50cmltKCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBmaW5kRmlyc3RIZWFkZXIoY29udGVudDogc3RyaW5nKTogc3RyaW5nIHwgdW5kZWZpbmVkIHtcbiAgICAgICAgY29uc3QgaGVhZGVyUmVnZXggPSAvXiMrXFxzKyguKykkL207XG4gICAgICAgIGNvbnN0IG1hdGNoID0gY29udGVudC5tYXRjaChoZWFkZXJSZWdleCk7XG4gICAgICAgIHJldHVybiBtYXRjaCA/IG1hdGNoWzFdLnRyaW0oKSA6IHVuZGVmaW5lZDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRydW5jYXRlQ29udGVudChjb250ZW50OiBzdHJpbmcpOiBzdHJpbmcge1xuICAgICAgICBjb25zdCBtYXhMZW5ndGggPSB0aGlzLnBsdWdpbi5zZXR0aW5ncy5jb250ZW50TGVuZ3RoICogMTAwO1xuICAgICAgICByZXR1cm4gY29udGVudC5sZW5ndGggPD0gbWF4TGVuZ3RoID8gY29udGVudCA6IGNvbnRlbnQuc2xpY2UoMCwgbWF4TGVuZ3RoKSArICcuLi4nO1xuICAgIH1cblxuICAgIGNyZWF0ZUNhcmRFbGVtZW50KGNhcmQ6IENhcmQpOiBIVE1MRWxlbWVudCB7XG4gICAgICAgIGNvbnN0IGNhcmRFbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XG4gICAgICAgIGNhcmRFbGVtZW50LmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1jYXJkJztcblxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0ZpbGVOYW1lICYmIGNhcmQuZmlsZU5hbWUpIHtcbiAgICAgICAgICAgIGNvbnN0IGZpbGVOYW1lRWwgPSBjYXJkRWxlbWVudC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6IGNhcmQuZmlsZU5hbWUgfSk7XG4gICAgICAgICAgICBmaWxlTmFtZUVsLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1maWxlbmFtZSc7XG4gICAgICAgICAgICBmaWxlTmFtZUVsLnN0eWxlLmZvbnRTaXplID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsZU5hbWVTaXplfXB4YDtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Rmlyc3RIZWFkZXIgJiYgY2FyZC5maXJzdEhlYWRlcikge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVyRWwgPSBjYXJkRWxlbWVudC5jcmVhdGVFbCgnaDQnLCB7IHRleHQ6IGNhcmQuZmlyc3RIZWFkZXIgfSk7XG4gICAgICAgICAgICBoZWFkZXJFbC5jbGFzc05hbWUgPSAnY2FyZC1uYXZpZ2F0b3ItZmlyc3QtaGVhZGVyJztcbiAgICAgICAgICAgIGhlYWRlckVsLnN0eWxlLmZvbnRTaXplID0gYCR7dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlyc3RIZWFkZXJTaXplfXB4YDtcbiAgICAgICAgfVxuXG5cdFx0aWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dDb250ZW50ICYmIGNhcmQuY29udGVudCkge1xuXHRcdFx0Y29uc3QgY29udGVudEVsID0gY2FyZEVsZW1lbnQuY3JlYXRlRWwoJ2RpdicpO1xuXHRcdFx0Y29udGVudEVsLmNsYXNzTmFtZSA9ICdjYXJkLW5hdmlnYXRvci1jb250ZW50Jztcblx0XHRcdGNvbnRlbnRFbC5zdHlsZS5mb250U2l6ZSA9IGAke3RoaXMucGx1Z2luLnNldHRpbmdzLmNvbnRlbnRTaXplfXB4YDtcblx0XHRcblx0XHRcdGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZW5kZXJDb250ZW50QXNIdG1sKSB7XG5cdFx0XHRcdE1hcmtkb3duUmVuZGVyZXIucmVuZGVyKFxuXHRcdFx0XHRcdHRoaXMucGx1Z2luLmFwcCxcblx0XHRcdFx0XHRjYXJkLmNvbnRlbnQsXG5cdFx0XHRcdFx0Y29udGVudEVsLFxuXHRcdFx0XHRcdGNhcmQuZmlsZS5wYXRoLFxuXHRcdFx0XHRcdHRoaXMucGx1Z2luXG5cdFx0XHRcdCk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb250ZW50RWwudGV4dENvbnRlbnQgPSBjYXJkLmNvbnRlbnQ7XG5cdFx0XHRcdGNvbnRlbnRFbC5zdHlsZS5vdmVyZmxvdyA9ICdoaWRkZW4nO1xuXHRcdFx0XHRjb250ZW50RWwuc3R5bGUudGV4dE92ZXJmbG93ID0gJ2VsbGlwc2lzJztcblx0XHRcdFx0Y29udGVudEVsLnN0eWxlLmRpc3BsYXkgPSAnLXdlYmtpdC1ib3gnO1xuXHRcdFx0fVxuXHRcdH1cblxuICAgICAgICBpZiAodGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRBY3RpdmVGaWxlKCkgPT09IGNhcmQuZmlsZSkge1xuICAgICAgICAgICAgY2FyZEVsZW1lbnQuYWRkQ2xhc3MoJ2NhcmQtbmF2aWdhdG9yLWFjdGl2ZScpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gXHVDRTc0XHVCNERDIFx1QzBERFx1QzEzMSBcdUQ2QzQgXHVCNERDXHVCNzk4XHVBREY4IFx1QzU2NCBcdUI0RENcdUI4NkQgXHVCQzBGIFx1QjJFNFx1Qjk3OCBcdUM3NzhcdUQxMzBcdUI3OTlcdUMxNTggXHVDMTI0XHVDODE1XG4gICAgICAgIHRoaXMuYWRkQ2FyZEludGVyYWN0aW9ucyhjYXJkRWxlbWVudCwgY2FyZCk7XG5cbiAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICAgIH1cblxuICAgIHByaXZhdGUgYWRkQ2FyZEludGVyYWN0aW9ucyhjYXJkRWxlbWVudDogSFRNTEVsZW1lbnQsIGNhcmQ6IENhcmQpIHtcbiAgICAgICAgY2FyZEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB0aGlzLm9wZW5GaWxlKGNhcmQuZmlsZSkpO1xuICAgICAgICB0aGlzLnNldHVwRHJhZ0FuZERyb3AoY2FyZEVsZW1lbnQsIGNhcmQpO1xuICAgICAgICB0aGlzLnNldHVwQ29udGV4dE1lbnUoY2FyZEVsZW1lbnQsIGNhcmQuZmlsZSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzZXR1cERyYWdBbmREcm9wKGNhcmRFbGVtZW50OiBIVE1MRWxlbWVudCwgY2FyZDogQ2FyZCkge1xuICAgICAgICBjYXJkRWxlbWVudC5zZXRBdHRyaWJ1dGUoJ2RyYWdnYWJsZScsICd0cnVlJyk7XG4gICAgICAgIGNhcmRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2RyYWdzdGFydCcsIChldmVudCkgPT4ge1xuICAgICAgICAgICAgaWYgKGV2ZW50LmRhdGFUcmFuc2Zlcikge1xuICAgICAgICAgICAgICAgIGxldCBkcmFnQ29udGVudCA9ICcnO1xuXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucGx1Z2luLnNldHRpbmdzLmRyYWdEcm9wQ29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBcdUNFNzRcdUI0RENcdUM1RDAgXHVENDVDXHVDMkRDXHVCNDE4XHVCMjk0IFx1RDU2RFx1QkFBOVx1QzVEMCBcdUI1MzBcdUI3N0MgXHVCNERDXHVCNzk4XHVBREY4IFx1QzU2NCBcdUI0RENcdUI4NkQgXHVDMkRDIFx1QzBCRFx1Qzc4NVx1RDU2MCBcdUIwQjRcdUM2QTkgXHVBQ0IwXHVDODE1XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RmlsZU5hbWUgJiYgY2FyZC5maWxlTmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0NvbnRlbnQgKz0gYCMjICR7Y2FyZC5maWxlTmFtZX1cXG5cXG5gOyAvLyBcdUQzMENcdUM3N0NcdUJBODUgXHVDNTVFXHVDNUQwIFx1RDVFNFx1QjM1NCBcdUNEOTRcdUFDMDBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Rmlyc3RIZWFkZXIgJiYgY2FyZC5maXJzdEhlYWRlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZHJhZ0NvbnRlbnQgKz0gYCMgJHtjYXJkLmZpcnN0SGVhZGVyfVxcblxcbmA7IC8vIFx1Q0NBQiBcdUJDODhcdUM5RjggXHVENUU0XHVCMzU0IFx1QzU1RVx1QzVEMCBcdUQ1RTRcdUIzNTQgXHVDRDk0XHVBQzAwXG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2hvd0NvbnRlbnQgJiYgY2FyZC5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnQ29udGVudCArPSBgJHtjYXJkLmNvbnRlbnR9XFxuXFxuYDsgLy8gXHVCQ0Y4XHVCQjM4IFx1QjBCNFx1QzZBOSBcdUNEOTRcdUFDMDBcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChkcmFnQ29udGVudCA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFx1QjlDQ1x1QzU3RCBcdUQ0NUNcdUMyREMgXHVDMTI0XHVDODE1XHVDNzc0IFx1QjQxOFx1QzVCNFx1Qzc4OFx1QzlDMCBcdUM1NEFcdUM3M0NcdUJBNzQgXHVBRTMwXHVCQ0Y4IFx1RDMwQ1x1Qzc3QyBcdUI5QzFcdUQwNkMgXHVDMEJEXHVDNzg1XG4gICAgICAgICAgICAgICAgICAgICAgICBkcmFnQ29udGVudCA9IGBbWyR7Y2FyZC5maWxlLm5hbWV9XV1gO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gXCJEcmFnIGFuZCBEcm9wIENvbnRlbnRcIiBcdUM2MzVcdUMxNThcdUM3NzQgXHVCRTQ0XHVENjVDXHVDMTMxXHVENjU0XHVCNDFDIFx1QUNCRFx1QzZCMCBcdUQzMENcdUM3N0NcdUJBODUgXHVCOUMxXHVEMDZDXHVCOTdDIFx1QzBCRFx1Qzc4NVxuICAgICAgICAgICAgICAgICAgICBkcmFnQ29udGVudCA9IGBbWyR7Y2FyZC5maWxlLm5hbWV9XV1gO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGV2ZW50LmRhdGFUcmFuc2Zlci5zZXREYXRhKCd0ZXh0L3BsYWluJywgZHJhZ0NvbnRlbnQudHJpbSgpKTtcblx0XHRcdFx0ZXZlbnQuZGF0YVRyYW5zZmVyLnNldERyYWdJbWFnZShjYXJkRWxlbWVudCwgMCwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgc2V0dXBDb250ZXh0TWVudShjYXJkRWxlbWVudDogSFRNTEVsZW1lbnQsIGZpbGU6IFRGaWxlKSB7XG4gICAgICAgIGNhcmRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoJ2NvbnRleHRtZW51JywgKGUpID0+IHtcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xuICAgICAgICAgICAgdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS50cmlnZ2VyKCdmaWxlLW1lbnUnLCBtZW51LCBmaWxlLCAnbW9yZS1vcHRpb25zJyk7XG4gICAgICAgICAgICBtZW51LnNob3dBdFBvc2l0aW9uKHsgeDogZS5jbGllbnRYLCB5OiBlLmNsaWVudFkgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIHByaXZhdGUgb3BlbkZpbGUoZmlsZTogVEZpbGUpIHtcbiAgICAgICAgdGhpcy5wbHVnaW4uYXBwLndvcmtzcGFjZS5nZXRMZWFmKCkub3BlbkZpbGUoZmlsZSk7XG4gICAgfVxufVxuIiwgIi8vIHNyYy9jb21tb24vdXRpbHMudHNcblxuaW1wb3J0IHsgVEZpbGUgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgeyBTb3J0Q3JpdGVyaW9uIH0gZnJvbSAnLi90eXBlcyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJvdW5jZTxGIGV4dGVuZHMgKC4uLmFyZ3M6IHVua25vd25bXSkgPT4gdW5rbm93bj4oZnVuYzogRiwgd2FpdEZvcjogbnVtYmVyKSB7XG4gICAgbGV0IHRpbWVvdXQ6IE5vZGVKUy5UaW1lb3V0IHwgbnVsbCA9IG51bGw7XG5cbiAgICByZXR1cm4gKC4uLmFyZ3M6IFBhcmFtZXRlcnM8Rj4pOiBQcm9taXNlPFJldHVyblR5cGU8Rj4+ID0+IHtcbiAgICAgICAgaWYgKHRpbWVvdXQpIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8UmV0dXJuVHlwZTxGPj4oKHJlc29sdmUpID0+IHtcbiAgICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBmdW5jKC4uLmFyZ3MpO1xuICAgICAgICAgICAgICAgIHJlc29sdmUocmVzdWx0IGFzIFJldHVyblR5cGU8Rj4pO1xuICAgICAgICAgICAgfSwgd2FpdEZvcik7XG4gICAgICAgIH0pO1xuICAgIH07XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBzZXBhcmF0ZUZyb250bWF0dGVyQW5kQ29udGVudChjb250ZW50OiBzdHJpbmcpOiB7IGZyb250bWF0dGVyOiBzdHJpbmcgfCBudWxsLCBjbGVhbkNvbnRlbnQ6IHN0cmluZyB9IHtcbiAgICBjb25zdCBmcm9udG1hdHRlclJlZ2V4ID0gL14tLS1cXHMqXFxuKFtcXHNcXFNdKj8pXFxuLS0tXFxzKlxcbi87XG4gICAgY29uc3QgbWF0Y2ggPSBjb250ZW50Lm1hdGNoKGZyb250bWF0dGVyUmVnZXgpO1xuICAgIHJldHVybiBtYXRjaFxuICAgICAgICA/IHsgZnJvbnRtYXR0ZXI6IG1hdGNoWzFdLCBjbGVhbkNvbnRlbnQ6IGNvbnRlbnQuc2xpY2UobWF0Y2hbMF0ubGVuZ3RoKS50cmltKCkgfVxuICAgICAgICA6IHsgZnJvbnRtYXR0ZXI6IG51bGwsIGNsZWFuQ29udGVudDogY29udGVudC50cmltKCkgfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHNvcnRGaWxlcyhmaWxlczogVEZpbGVbXSwgY3JpdGVyaW9uOiBTb3J0Q3JpdGVyaW9uLCBvcmRlcjogJ2FzYycgfCAnZGVzYycpOiBURmlsZVtdIHtcbiAgICByZXR1cm4gZmlsZXMuc29ydCgoYSwgYikgPT4ge1xuICAgICAgICBsZXQgY29tcGFyaXNvbiA9IDA7XG4gICAgICAgIHN3aXRjaCAoY3JpdGVyaW9uKSB7XG4gICAgICAgICAgICBjYXNlICdmaWxlTmFtZSc6XG4gICAgICAgICAgICAgICAgY29tcGFyaXNvbiA9IGEuYmFzZW5hbWUubG9jYWxlQ29tcGFyZShiLmJhc2VuYW1lLCB1bmRlZmluZWQsIHsgbnVtZXJpYzogdHJ1ZSwgc2Vuc2l0aXZpdHk6ICdiYXNlJyB9KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2xhc3RNb2RpZmllZCc6XG4gICAgICAgICAgICAgICAgY29tcGFyaXNvbiA9IGEuc3RhdC5tdGltZSAtIGIuc3RhdC5tdGltZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NyZWF0ZWQnOlxuICAgICAgICAgICAgICAgIGNvbXBhcmlzb24gPSBhLnN0YXQuY3RpbWUgLSBiLnN0YXQuY3RpbWU7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG9yZGVyID09PSAnYXNjJyA/IGNvbXBhcmlzb24gOiAtY29tcGFyaXNvbjtcbiAgICB9KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbGN1bGF0ZUNhcmRTaXplKFxuICAgIGlzVmVydGljYWw6IGJvb2xlYW4sIFxuICAgIGNvbnRhaW5lclJlY3Q6IERPTVJlY3QsIFxuICAgIGNhcmRzUGVyVmlldzogbnVtYmVyLCBcbiAgICBwYWRkaW5nID0gMTVcbikge1xuICAgIGNvbnN0IHsgd2lkdGg6IGxlYWZXaWR0aCwgaGVpZ2h0OiBsZWFmSGVpZ2h0IH0gPSBjb250YWluZXJSZWN0O1xuXG4gICAgbGV0IGNhcmRXaWR0aDogbnVtYmVyLCBjYXJkSGVpZ2h0OiBudW1iZXI7XG5cbiAgICBpZiAoaXNWZXJ0aWNhbCkge1xuICAgICAgICBjYXJkV2lkdGggPSBsZWFmV2lkdGggLSAyICogcGFkZGluZztcbiAgICAgICAgY2FyZEhlaWdodCA9IGxlYWZIZWlnaHQgLyBjYXJkc1BlclZpZXc7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgY2FyZFdpZHRoID0gbGVhZldpZHRoIC8gY2FyZHNQZXJWaWV3O1xuICAgICAgICBjYXJkSGVpZ2h0ID0gbGVhZkhlaWdodCAtIDIgKiBwYWRkaW5nO1xuICAgIH1cblxuICAgIHJldHVybiB7IGNhcmRXaWR0aCwgY2FyZEhlaWdodCB9O1xufVxuXG5leHBvcnQgZnVuY3Rpb24gc2V0Q29udGFpbmVyU2l6ZShcbiAgICBjb250YWluZXJFbDogSFRNTEVsZW1lbnQsXG4gICAgY2FyZFdpZHRoOiBudW1iZXIsXG4gICAgY2FyZEhlaWdodDogbnVtYmVyLFxuICAgIGNhcmRzUGVyVmlldzogbnVtYmVyLFxuICAgIGlzVmVydGljYWw6IGJvb2xlYW5cbikge1xuICAgIGlmIChpc1ZlcnRpY2FsKSB7XG4gICAgICAgIGNvbnRhaW5lckVsLnN0eWxlLmZsZXhEaXJlY3Rpb24gPSAnY29sdW1uJztcbiAgICAgICAgY29udGFpbmVyRWwuc3R5bGUud2lkdGggPSBgJHtjYXJkV2lkdGh9cHhgO1xuICAgICAgICBjb250YWluZXJFbC5zdHlsZS5oZWlnaHQgPSBgJHtjYXJkSGVpZ2h0ICogY2FyZHNQZXJWaWV3fXB4YDtcbiAgICB9IGVsc2Uge1xuICAgICAgICBjb250YWluZXJFbC5zdHlsZS5mbGV4RGlyZWN0aW9uID0gJ3Jvdyc7XG4gICAgICAgIGNvbnRhaW5lckVsLnN0eWxlLndpZHRoID0gYCR7Y2FyZFdpZHRoICogY2FyZHNQZXJWaWV3fXB4YDtcbiAgICAgICAgY29udGFpbmVyRWwuc3R5bGUuaGVpZ2h0ID0gYCR7Y2FyZEhlaWdodH1weGA7XG4gICAgfVxufVxuIiwgIi8vIHNyYy91aS9zZXR0aW5nc1RhYi50c1xuXG5pbXBvcnQgeyBBcHAsIFBsdWdpblNldHRpbmdUYWIsIFNldHRpbmcgfSBmcm9tICdvYnNpZGlhbic7XG5pbXBvcnQgQ2FyZE5hdmlnYXRvclBsdWdpbiBmcm9tICcuLi9tYWluJztcbmltcG9ydCB7IEZvbGRlclN1Z2dlc3RNb2RhbCB9IGZyb20gJy4vdG9vbGJhci90b29sYmFyQWN0aW9ucyc7XG5pbXBvcnQgeyBTb3J0Q3JpdGVyaW9uIH0gZnJvbSAnLi4vY29tbW9uL3R5cGVzJztcblxuZXhwb3J0IGNsYXNzIFNldHRpbmdUYWIgZXh0ZW5kcyBQbHVnaW5TZXR0aW5nVGFiIHtcbiAgICBjb25zdHJ1Y3RvcihhcHA6IEFwcCwgcHJpdmF0ZSBwbHVnaW46IENhcmROYXZpZ2F0b3JQbHVnaW4pIHtcbiAgICAgICAgc3VwZXIoYXBwLCBwbHVnaW4pO1xuICAgIH1cblxuICAgIGRpc3BsYXkoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyRWwgfSA9IHRoaXM7XG4gICAgICAgIGNvbnRhaW5lckVsLmVtcHR5KCk7XG5cbiAgICAgICAgbmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG4gICAgICAgICAgICAuc2V0TmFtZSgnQ2FyZHMgcGVyIHZpZXcnKVxuICAgICAgICAgICAgLnNldERlc2MoJ051bWJlciBvZiBjYXJkcyB0byBkaXNwbGF5IGF0IG9uY2UnKVxuICAgICAgICAgICAgLmFkZFNsaWRlcihzbGlkZXIgPT4gc2xpZGVyXG4gICAgICAgICAgICAgICAgLnNldExpbWl0cygzLCA5LCAxKVxuICAgICAgICAgICAgICAgIC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5jYXJkc1BlclZpZXcpXG4gICAgICAgICAgICAgICAgLnNldER5bmFtaWNUb29sdGlwKClcbiAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnNldHRpbmdzLmNhcmRzUGVyVmlldyA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0LnNldE5hbWUoJ0ZvbGRlciBTZWxlY3Rpb24nKVxuXHRcdC5zZXREZXNjKCdDaG9vc2Ugd2hldGhlciB0byB1c2UgdGhlIGFjdGl2ZSBmaWxlXFwncyBmb2xkZXIgb3IgYSBzZWxlY3RlZCBmb2xkZXInKVxuXHRcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuXHRcdFx0LmFkZE9wdGlvbignYWN0aXZlJywgJ0FjdGl2ZSBGaWxlXFwncyBGb2xkZXInKVxuXHRcdFx0LmFkZE9wdGlvbignc2VsZWN0ZWQnLCAnU2VsZWN0ZWQgRm9sZGVyJylcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy51c2VTZWxlY3RlZEZvbGRlciA/ICdzZWxlY3RlZCcgOiAnYWN0aXZlJylcblx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlU2VsZWN0ZWRGb2xkZXIgPSB2YWx1ZSA9PT0gJ3NlbGVjdGVkJztcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMuZGlzcGxheSgpOyAvLyBcdUMxMjRcdUM4MTUgXHVCQ0MwXHVBQ0JEIFx1QzJEQyBcdUQ2NTRcdUJBNzQgXHVDMEM4XHVCODVDXHVBQ0UwXHVDRTY4XG5cdFx0XHR9KSk7XG5cblx0XHRpZiAodGhpcy5wbHVnaW4uc2V0dGluZ3MudXNlU2VsZWN0ZWRGb2xkZXIpIHtcblx0XHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0XHQuc2V0TmFtZSgnU2VsZWN0IEZvbGRlcicpXG5cdFx0XHRcdC5zZXREZXNjKCdDaG9vc2UgYSBmb2xkZXIgZm9yIENhcmQgTmF2aWdhdG9yJylcblx0XHRcdFx0LmFkZEJ1dHRvbihidXR0b24gPT4gYnV0dG9uXG5cdFx0XHRcdFx0LnNldEJ1dHRvblRleHQodGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VsZWN0ZWRGb2xkZXIgfHwgJ0Nob29zZSBmb2xkZXInKVxuXHRcdFx0XHRcdC5vbkNsaWNrKCgpID0+IHtcblx0XHRcdFx0XHRcdG5ldyBGb2xkZXJTdWdnZXN0TW9kYWwodGhpcy5wbHVnaW4sIChmb2xkZXIpID0+IHtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3Muc2VsZWN0ZWRGb2xkZXIgPSBmb2xkZXIucGF0aDtcblx0XHRcdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0XHRcdHRoaXMuZGlzcGxheSgpOyAvLyBcdUQzRjRcdUIzNTQgXHVDMTIwXHVEMEREIFx1RDZDNCBcdUQ2NTRcdUJBNzQgXHVDMEM4XHVCODVDXHVBQ0UwXHVDRTY4XG5cdFx0XHRcdFx0XHR9KS5vcGVuKCk7XG5cdFx0XHRcdFx0fSkpO1xuXHRcdH1cblxuICAgICAgICBuZXcgU2V0dGluZyhjb250YWluZXJFbClcbiAgICAgICAgICAgIC5zZXROYW1lKCdEZWZhdWx0IHNvcnQgbWV0aG9kJylcbiAgICAgICAgICAgIC5zZXREZXNjKCdDaG9vc2UgdGhlIGRlZmF1bHQgc29ydGluZyBtZXRob2QgZm9yIGNhcmRzJylcbiAgICAgICAgICAgIC5hZGREcm9wZG93bihkcm9wZG93biA9PiB7XG4gICAgICAgICAgICAgICAgZHJvcGRvd25cbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbignZmlsZU5hbWVfYXNjJywgJ0ZpbGUgbmFtZSAoQSB0byBaKScpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oJ2ZpbGVOYW1lX2Rlc2MnLCAnRmlsZSBuYW1lIChaIHRvIEEpJylcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbignbGFzdE1vZGlmaWVkX2Rlc2MnLCAnTGFzdCBtb2RpZmllZCAobmV3ZXN0IGZpcnN0KScpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oJ2xhc3RNb2RpZmllZF9hc2MnLCAnTGFzdCBtb2RpZmllZCAob2xkZXN0IGZpcnN0KScpXG4gICAgICAgICAgICAgICAgICAgIC5hZGRPcHRpb24oJ2NyZWF0ZWRfZGVzYycsICdDcmVhdGVkIChuZXdlc3QgZmlyc3QpJylcbiAgICAgICAgICAgICAgICAgICAgLmFkZE9wdGlvbignY3JlYXRlZF9hc2MnLCAnQ3JlYXRlZCAob2xkZXN0IGZpcnN0KScpXG4gICAgICAgICAgICAgICAgICAgIC5zZXRWYWx1ZShgJHt0aGlzLnBsdWdpbi5zZXR0aW5ncy5zb3J0Q3JpdGVyaW9ufV8ke3RoaXMucGx1Z2luLnNldHRpbmdzLnNvcnRPcmRlcn1gKVxuICAgICAgICAgICAgICAgICAgICAub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBbY3JpdGVyaW9uLCBvcmRlcl0gPSB2YWx1ZS5zcGxpdCgnXycpIGFzIFtTb3J0Q3JpdGVyaW9uLCAnYXNjJyB8ICdkZXNjJ107XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBsdWdpbi5zZXR0aW5ncy5zb3J0Q3JpdGVyaW9uID0gY3JpdGVyaW9uO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wbHVnaW4uc2V0dGluZ3Muc29ydE9yZGVyID0gb3JkZXI7XG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGx1Z2luLnJlZnJlc2hWaWV3cygpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnUmVuZGVyIENvbnRlbnQgYXMgSFRNTCcpXG5cdFx0XHQuc2V0RGVzYygnSWYgZW5hYmxlZCwgY2FyZCBjb250ZW50IHdpbGwgYmUgcmVuZGVyZWQgYXMgSFRNTCcpXG5cdFx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLnJlbmRlckNvbnRlbnRBc0h0bWwpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5yZW5kZXJDb250ZW50QXNIdG1sID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdC8vIG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdC8vIFx0LnNldE5hbWUoJ0NlbnRlciBDYXJkIE1ldGhvZCcpXG5cdFx0Ly8gXHQuc2V0RGVzYygnQ2hvb3NlIGhvdyB0byBjZW50ZXIgdGhlIGFjdGl2ZSBjYXJkIGluIHRoZSB2aWV3Jylcblx0XHQvLyBcdC5hZGREcm9wZG93bihkcm9wZG93biA9PiBkcm9wZG93blxuXHRcdC8vIFx0XHQuYWRkT3B0aW9uKCdzY3JvbGwnLCAnU2Nyb2xsIHRvIGFjdGl2ZSBjYXJkJylcblx0XHQvLyBcdFx0LmFkZE9wdGlvbignY2VudGVyZWQnLCAnUmVuZGVyIHRoZSBhY3RpdmUgY2FyZCBjZW50cmVkJylcblx0XHQvLyBcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNlbnRlckNhcmRNZXRob2QpXG5cdFx0Ly8gXHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHQvLyBcdFx0XHRjb25zdCBtZXRob2QgPSB2YWx1ZSBhcyAnc2Nyb2xsJyB8ICdjZW50ZXJlZCc7XG5cdFx0Ly8gXHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY2VudGVyQ2FyZE1ldGhvZCA9IG1ldGhvZDtcblx0XHQvLyBcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHQvLyBcdFx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoVmlld3MoKTtcblx0XHQvLyBcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0LnNldE5hbWUoJ0RyYWcgYW5kIERyb3AgQ29udGVudCcpXG5cdFx0LnNldERlc2MoJ1doZW4gZW5hYmxlZCwgZHJhZ2dpbmcgYSBjYXJkIHdpbGwgaW5zZXJ0IHRoZSBub3RlIGNvbnRlbnQgaW5zdGVhZCBvZiBhIGxpbmsuJylcblx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5kcmFnRHJvcENvbnRlbnQpXG5cdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmRyYWdEcm9wQ29udGVudCA9IHZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG5cdFx0XHR9KSk7XG5cblx0XHRjb250YWluZXJFbC5jcmVhdGVFbCgnaDMnLCB7IHRleHQ6ICdEaXNwbGF5IGl0ZW1zIFNldHRpbmdzJyB9KTtcblxuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0LnNldE5hbWUoJ1Nob3cgRmlsZSBOYW1lJylcblx0XHQuc2V0RGVzYygnVG9nZ2xlIHRvIGRpc3BsYXkgb3IgaGlkZSB0aGUgZmlsZSBuYW1lIG9uIGNhcmRzJylcblx0XHQuYWRkVG9nZ2xlKHRvZ2dsZSA9PiB0b2dnbGVcblx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93RmlsZU5hbWUpXG5cdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dGaWxlTmFtZSA9IHZhbHVlO1xuXHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG5cdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdGaWxlIE5hbWUgU2l6ZScpXG5cdFx0XHQuc2V0RGVzYygnU2V0IHRoZSBmb250IHNpemUgZm9yIHRoZSBmaWxlIG5hbWUnKVxuXHRcdFx0LmFkZFNsaWRlcihzbGlkZXIgPT4gc2xpZGVyXG5cdFx0XHRcdC5zZXRMaW1pdHMoMTUsIDI1LCAxKVxuXHRcdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsZU5hbWVTaXplKVxuXHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuZmlsZU5hbWVTaXplID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ1Nob3cgRmlyc3QgSGVhZGVyJylcblx0XHRcdC5zZXREZXNjKCdUb2dnbGUgdG8gZGlzcGxheSBvciBoaWRlIHRoZSBmaXJzdCBoZWFkZXIgb24gY2FyZHMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Rmlyc3RIZWFkZXIpXG5cdFx0XHRcdC5vbkNoYW5nZShhc3luYyAodmFsdWUpID0+IHtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Rmlyc3RIZWFkZXIgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoVmlld3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0XHQuc2V0TmFtZSgnRmlyc3QgSGVhZGVyIFNpemUnKVxuXHRcdFx0LnNldERlc2MoJ1NldCB0aGUgZm9udCBzaXplIGZvciB0aGUgZmlyc3QgaGVhZGVyJylcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxuXHRcdFx0XHQuc2V0TGltaXRzKDE1LCAyNSwgMSlcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmZpcnN0SGVhZGVyU2l6ZSlcblx0XHRcdFx0LnNldER5bmFtaWNUb29sdGlwKClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmZpcnN0SGVhZGVyU2l6ZSA9IHZhbHVlO1xuXHRcdFx0XHRcdGF3YWl0IHRoaXMucGx1Z2luLnNhdmVTZXR0aW5ncygpO1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2hWaWV3cygpO1xuXHRcdFx0XHR9KSk7XG5cblx0XHRuZXcgU2V0dGluZyhjb250YWluZXJFbClcblx0XHRcdC5zZXROYW1lKCdTaG93IENvbnRlbnQnKVxuXHRcdFx0LnNldERlc2MoJ1RvZ2dsZSB0byBkaXNwbGF5IG9yIGhpZGUgdGhlIGNvbnRlbnQgb24gY2FyZHMnKVxuXHRcdFx0LmFkZFRvZ2dsZSh0b2dnbGUgPT4gdG9nZ2xlXG5cdFx0XHRcdC5zZXRWYWx1ZSh0aGlzLnBsdWdpbi5zZXR0aW5ncy5zaG93Q29udGVudClcblx0XHRcdFx0Lm9uQ2hhbmdlKGFzeW5jICh2YWx1ZSkgPT4ge1xuXHRcdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLnNob3dDb250ZW50ID0gdmFsdWU7XG5cdFx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4ucmVmcmVzaFZpZXdzKCk7XG5cdFx0XHRcdH0pKTtcblxuXHRcdG5ldyBTZXR0aW5nKGNvbnRhaW5lckVsKVxuXHRcdFx0LnNldE5hbWUoJ0NvbnRlbnQgU2l6ZScpXG5cdFx0XHQuc2V0RGVzYygnU2V0IHRoZSBmb250IHNpemUgZm9yIHRoZSBjb250ZW50Jylcblx0XHRcdC5hZGRTbGlkZXIoc2xpZGVyID0+IHNsaWRlclxuXHRcdFx0XHQuc2V0TGltaXRzKDEwLCAyMCwgMSlcblx0XHRcdFx0LnNldFZhbHVlKHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbnRlbnRTaXplKVxuXHRcdFx0XHQuc2V0RHluYW1pY1Rvb2x0aXAoKVxuXHRcdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdFx0dGhpcy5wbHVnaW4uc2V0dGluZ3MuY29udGVudFNpemUgPSB2YWx1ZTtcblx0XHRcdFx0XHRhd2FpdCB0aGlzLnBsdWdpbi5zYXZlU2V0dGluZ3MoKTtcblx0XHRcdFx0XHR0aGlzLnBsdWdpbi5yZWZyZXNoVmlld3MoKTtcblx0XHRcdFx0fSkpO1xuXG5cdFx0bmV3IFNldHRpbmcoY29udGFpbmVyRWwpXG5cdFx0LnNldE5hbWUoJ0NvbnRlbnQgTGVuZ3RoJylcblx0XHQuc2V0RGVzYygnTWF4aW11bSBjb250ZW50IGxlbmd0aCBkaXNwbGF5ZWQgb24gZWFjaCBjYXJkJylcblx0XHQuYWRkU2xpZGVyKHNsaWRlciA9PiBzbGlkZXJcblx0XHRcdC5zZXRMaW1pdHMoMSwgMTAsIDEpXG5cdFx0XHQuc2V0VmFsdWUodGhpcy5wbHVnaW4uc2V0dGluZ3MuY29udGVudExlbmd0aClcblx0XHRcdC5zZXREeW5hbWljVG9vbHRpcCgpXG5cdFx0XHQub25DaGFuZ2UoYXN5bmMgKHZhbHVlKSA9PiB7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnNldHRpbmdzLmNvbnRlbnRMZW5ndGggPSB2YWx1ZTtcblx0XHRcdFx0YXdhaXQgdGhpcy5wbHVnaW4uc2F2ZVNldHRpbmdzKCk7XG5cdFx0XHRcdHRoaXMucGx1Z2luLnJlZnJlc2hWaWV3cygpO1xuXHRcdFx0fSkpO1xuICAgIH1cbn1cbiIsICIvLyBzcmMvY29tbW9uL3NldHRpbmdzLnRzXG5cbmltcG9ydCB7IENhcmROYXZpZ2F0b3JTZXR0aW5ncywgU29ydENyaXRlcmlvbiB9IGZyb20gJy4vdHlwZXMnO1xuXG5leHBvcnQgY29uc3QgREVGQVVMVF9TRVRUSU5HUzogQ2FyZE5hdmlnYXRvclNldHRpbmdzID0ge1xuICAgIGNhcmRzUGVyVmlldzogNixcblx0dXNlU2VsZWN0ZWRGb2xkZXI6IGZhbHNlLFxuICAgIHNlbGVjdGVkRm9sZGVyOiBudWxsLFxuXHRzb3J0Q3JpdGVyaW9uOiAnZmlsZU5hbWUnIGFzIFNvcnRDcml0ZXJpb24sXG4gICAgc29ydE9yZGVyOiAnYXNjJyBhcyAnYXNjJyB8ICdkZXNjJyxcblx0cmVuZGVyQ29udGVudEFzSHRtbDogZmFsc2UsXG4gICAgY2VudGVyQ2FyZE1ldGhvZDogJ3Njcm9sbCcsXG4gICAgYWN0aXZlQ2FyZEJvcmRlckNvbG9yOiAndmFyKC0tYWN0aXZlLWJvcmRlci1jb2xvciknLFxuICAgIGFjdGl2ZUNhcmRCYWNrZ3JvdW5kQ29sb3I6ICd2YXIoLS1hY3RpdmUtYmFja2dyb3VuZC1jb2xvciknLFxuXHRkcmFnRHJvcENvbnRlbnQ6IGZhbHNlLFxuICAgIHNob3dGaWxlTmFtZTogdHJ1ZSxcbiAgICBmaWxlTmFtZVNpemU6IDIwLFxuICAgIHNob3dGaXJzdEhlYWRlcjogdHJ1ZSxcbiAgICBmaXJzdEhlYWRlclNpemU6IDE4LFxuICAgIHNob3dDb250ZW50OiB0cnVlLFxuICAgIGNvbnRlbnRTaXplOiAxNSxcbiAgICBjb250ZW50TGVuZ3RoOiA1LFxufVxuIl0sCiAgIm1hcHBpbmdzIjogIjs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFFQSxJQUFBQSxtQkFBOEI7OztBQ0E5QixJQUFBQyxtQkFBd0M7OztBQ0F4QyxJQUFBQyxtQkFBMkM7OztBQ0EzQyxzQkFBMkM7QUFNcEMsSUFBTSxxQkFBTixjQUFpQyxrQ0FBMkI7QUFBQSxFQUMvRCxZQUFvQixRQUFxQyxVQUFxQztBQUMxRixVQUFNLE9BQU8sR0FBRztBQURBO0FBQXFDO0FBQUEsRUFFekQ7QUFBQSxFQUVBLFdBQXNCO0FBQ2xCLFdBQU8sS0FBSyxPQUFPLElBQUksTUFBTSxrQkFBa0IsRUFDMUMsT0FBTyxDQUFDLFNBQTBCLGdCQUFnQix1QkFBTztBQUFBLEVBQ2xFO0FBQUEsRUFFQSxZQUFZLFFBQXlCO0FBQ2pDLFdBQU8sT0FBTztBQUFBLEVBQ2xCO0FBQUEsRUFFQSxhQUFhLFFBQXVCO0FBQ2hDLFNBQUssU0FBUyxNQUFNO0FBQUEsRUFDeEI7QUFDSjtBQThCTyxTQUFTLFdBQVcsUUFBNkI7QUFDcEQsTUFBSSxZQUFZLFNBQVMsY0FBYyw0QkFBNEI7QUFFbkUsTUFBSSxDQUFDLFdBQVc7QUFDWixnQkFBWSxTQUFTLGNBQWMsS0FBSztBQUN4QyxjQUFVLFlBQVk7QUFFdEIsVUFBTSxjQUFjLEdBQUcsT0FBTyxTQUFTLGFBQWEsSUFBSSxPQUFPLFNBQVMsU0FBUztBQUVqRixVQUFNLGdCQUFnQixDQUFDLE9BQWUsVUFBa0I7QUFDcEQsWUFBTSxTQUFTLFNBQVMsY0FBYyxRQUFRO0FBQzlDLGFBQU8sY0FBYztBQUNyQixhQUFPLFVBQVUsT0FBTyxVQUFVLGdCQUFnQixLQUFLO0FBQ3ZELGFBQU8saUJBQWlCLFNBQVMsWUFBWTtBQUN6QyxjQUFNLENBQUMsV0FBVyxLQUFLLElBQUksTUFBTSxNQUFNLEdBQUc7QUFDMUMsZUFBTyxTQUFTLGdCQUFnQjtBQUNoQyxlQUFPLFNBQVMsWUFBWTtBQUM1QixjQUFNLE9BQU8sYUFBYTtBQUMxQixlQUFPLGFBQWE7QUFDcEIsa0JBQVUsT0FBTztBQUFBLE1BQ3JCLENBQUM7QUFDRCxnQkFBVSxZQUFZLE1BQU07QUFBQSxJQUNoQztBQUVBLGtCQUFjLGdCQUFnQixvQkFBb0I7QUFDbEQsa0JBQWMsaUJBQWlCLG9CQUFvQjtBQUNuRCxrQkFBYyxxQkFBcUIsOEJBQThCO0FBQ2pFLGtCQUFjLG9CQUFvQiw4QkFBOEI7QUFDaEUsa0JBQWMsZ0JBQWdCLHdCQUF3QjtBQUN0RCxrQkFBYyxlQUFlLHdCQUF3QjtBQUdyRCxVQUFNLFlBQVksU0FBUyxjQUFjLG1DQUFtQztBQUM1RSxRQUFJLFdBQVc7QUFDWCxnQkFBVSxzQkFBc0IsWUFBWSxTQUFTO0FBR3JELGVBQVMsaUJBQWlCLFNBQVMsU0FBUyxlQUFlLE9BQU87QUFDOUQsWUFBSSxhQUFhLENBQUMsVUFBVSxTQUFTLE1BQU0sTUFBYyxLQUFLLENBQUMsVUFBVSxTQUFTLE1BQU0sTUFBYyxHQUFHO0FBQ3JHLG9CQUFVLE9BQU87QUFDakIsbUJBQVMsb0JBQW9CLFNBQVMsY0FBYztBQUFBLFFBQ3hEO0FBQUEsTUFDSixDQUFDO0FBQUEsSUFDTDtBQUFBLEVBQ0osT0FBTztBQUNILGNBQVUsT0FBTztBQUFBLEVBQ3JCO0FBQ0o7QUFFTyxTQUFTLGVBQWUsUUFBNkI7QUFDeEQsTUFBSSxnQkFBZ0IsU0FBUyxjQUFjLGdDQUFnQztBQUUzRSxNQUFJLENBQUMsZUFBZTtBQUNoQixvQkFBZ0IsU0FBUyxjQUFjLEtBQUs7QUFDNUMsa0JBQWMsWUFBWTtBQUcxQixVQUFNLHNCQUFzQixTQUFTLGNBQWMsT0FBTztBQUMxRCx3QkFBb0IsT0FBTztBQUMzQix3QkFBb0IsTUFBTTtBQUMxQix3QkFBb0IsTUFBTTtBQUMxQix3QkFBb0IsUUFBUSxPQUFPLFNBQVMsYUFBYSxTQUFTO0FBQ2xFLHdCQUFvQixpQkFBaUIsU0FBUyxDQUFDLE1BQU07QUFDakQsWUFBTSxRQUFTLEVBQUUsT0FBNEI7QUFDN0MsYUFBTyxTQUFTLGVBQWUsU0FBUyxPQUFPLEVBQUU7QUFDakQsYUFBTyxhQUFhO0FBQ3BCLGFBQU8sYUFBYTtBQUFBLElBQ3hCLENBQUM7QUFDRCxVQUFNLG9CQUFvQixTQUFTLGNBQWMsT0FBTztBQUN4RCxzQkFBa0IsY0FBYztBQUNoQyxrQkFBYyxZQUFZLGlCQUFpQjtBQUMzQyxrQkFBYyxZQUFZLG1CQUFtQjtBQUc3QyxVQUFNLGtCQUFrQixTQUFTLGNBQWMsT0FBTztBQUN0RCxvQkFBZ0IsT0FBTztBQUN2QixvQkFBZ0IsTUFBTTtBQUN0QixvQkFBZ0IsTUFBTTtBQUN0QixvQkFBZ0IsUUFBUSxPQUFPLFNBQVMsWUFBWSxTQUFTO0FBQzdELG9CQUFnQixpQkFBaUIsU0FBUyxDQUFDLE1BQU07QUFDN0MsWUFBTSxRQUFTLEVBQUUsT0FBNEI7QUFDN0MsYUFBTyxTQUFTLGNBQWMsU0FBUyxPQUFPLEVBQUU7QUFDaEQsYUFBTyxhQUFhO0FBQ3BCLGFBQU8sYUFBYTtBQUFBLElBQ3hCLENBQUM7QUFDRCxVQUFNLGdCQUFnQixTQUFTLGNBQWMsT0FBTztBQUNwRCxrQkFBYyxjQUFjO0FBQzVCLGtCQUFjLFlBQVksYUFBYTtBQUN2QyxrQkFBYyxZQUFZLGVBQWU7QUFHekMsVUFBTSxlQUFlLENBQUMsV0FBbUIsY0FBdUIsYUFBdUM7QUFDbkcsWUFBTSxZQUFZLFNBQVMsY0FBYyxLQUFLO0FBQzlDLFlBQU0sUUFBUSxTQUFTLGNBQWMsT0FBTztBQUM1QyxZQUFNLGNBQWM7QUFFcEIsWUFBTSxTQUFTLFNBQVMsY0FBYyxPQUFPO0FBQzdDLGFBQU8sT0FBTztBQUNkLGFBQU8sVUFBVTtBQUNqQixhQUFPLGlCQUFpQixVQUFVLENBQUMsTUFBTTtBQUNyQyxpQkFBVSxFQUFFLE9BQTRCLE9BQU87QUFDL0MsZUFBTyxhQUFhO0FBQ3BCLGVBQU8sYUFBYTtBQUFBLE1BQ3hCLENBQUM7QUFFRCxnQkFBVSxZQUFZLEtBQUs7QUFDM0IsZ0JBQVUsWUFBWSxNQUFNO0FBQzVCLGFBQU87QUFBQSxJQUNYO0FBR0EsVUFBTSxpQkFBaUIsYUFBYSxrQkFBa0IsT0FBTyxTQUFTLGNBQWMsQ0FBQyxVQUFVO0FBQzNGLGFBQU8sU0FBUyxlQUFlO0FBQUEsSUFDbkMsQ0FBQztBQUNELGtCQUFjLFlBQVksY0FBYztBQUd4QyxVQUFNLG9CQUFvQixhQUFhLHFCQUFxQixPQUFPLFNBQVMsaUJBQWlCLENBQUMsVUFBVTtBQUNwRyxhQUFPLFNBQVMsa0JBQWtCO0FBQUEsSUFDdEMsQ0FBQztBQUNELGtCQUFjLFlBQVksaUJBQWlCO0FBRzNDLFVBQU0sZ0JBQWdCLGFBQWEsZ0JBQWdCLE9BQU8sU0FBUyxhQUFhLENBQUMsVUFBVTtBQUN2RixhQUFPLFNBQVMsY0FBYztBQUFBLElBQ2xDLENBQUM7QUFDRCxrQkFBYyxZQUFZLGFBQWE7QUFHdkMsVUFBTSx3QkFBd0IsYUFBYSx5QkFBeUIsT0FBTyxTQUFTLGlCQUFpQixDQUFDLFVBQVU7QUFDNUcsYUFBTyxTQUFTLGtCQUFrQjtBQUFBLElBQ3RDLENBQUM7QUFDRCxrQkFBYyxZQUFZLHFCQUFxQjtBQUcvQyxVQUFNLFlBQVksU0FBUyxjQUFjLG1DQUFtQztBQUM1RSxRQUFJLFdBQVc7QUFDWCxnQkFBVSxzQkFBc0IsWUFBWSxhQUFhO0FBR3pELGVBQVMsaUJBQWlCLFNBQVMsU0FBUyxlQUFlLE9BQU87QUFDOUQsWUFBSSxpQkFBaUIsQ0FBQyxjQUFjLFNBQVMsTUFBTSxNQUFjLEtBQUssQ0FBQyxVQUFVLFNBQVMsTUFBTSxNQUFjLEdBQUc7QUFDN0csd0JBQWMsT0FBTztBQUNyQixtQkFBUyxvQkFBb0IsU0FBUyxjQUFjO0FBQUEsUUFDeEQ7QUFBQSxNQUNKLENBQUM7QUFBQSxJQUNMO0FBQUEsRUFDSixPQUFPO0FBQ0gsa0JBQWMsVUFBVSxPQUFPLFFBQVE7QUFBQSxFQUMzQztBQUNKOzs7QURyTU8sSUFBTSxVQUFOLE1BQWM7QUFBQSxFQUlqQixZQUFvQixRQUE2QjtBQUE3QjtBQUhwQixTQUFRLGNBQXVDO0FBSTNDLFNBQUssYUFBYTtBQUFBLEVBQ3RCO0FBQUEsRUFFQSxXQUFXLGFBQTBCO0FBQ2pDLFNBQUssY0FBYztBQUNuQixTQUFLLGNBQWM7QUFBQSxFQUN2QjtBQUFBLEVBRUgsZUFBZSxZQUFxQjtBQUM3QixRQUFJLEtBQUssZUFBZSxZQUFZO0FBQ2hDLFdBQUssYUFBYTtBQUNsQixXQUFLLG1CQUFtQjtBQUN4QixXQUFLLGNBQWM7QUFBQSxJQUN2QjtBQUFBLEVBQ0o7QUFBQSxFQUVLLHFCQUFxQjtBQUN0QixRQUFJLEtBQUssYUFBYTtBQUNsQixXQUFLLFlBQVksVUFBVSxPQUFPLFlBQVksS0FBSyxVQUFVO0FBQzdELFdBQUssWUFBWSxVQUFVLE9BQU8sY0FBYyxDQUFDLEtBQUssVUFBVTtBQUFBLElBQ3BFO0FBQUEsRUFDSjtBQUFBLEVBRVEsZ0JBQWdCO0FBQ3BCLFFBQUksQ0FBQyxLQUFLLGFBQWE7QUFDbkI7QUFBQSxJQUNKO0FBRUEsU0FBSyxZQUFZLE1BQU07QUFFdkIsVUFBTSxtQkFBbUIsU0FBUyxjQUFjLEtBQUs7QUFDckQscUJBQWlCLFlBQVk7QUFFN0IsVUFBTSxrQkFBa0IsS0FBSyxzQkFBc0I7QUFDbkQsVUFBTSxZQUFZLEtBQUssZ0JBQWdCO0FBQ3ZDLFVBQU0sdUJBQXVCLEtBQUssMkJBQTJCO0FBRTdELHFCQUFpQixZQUFZLGVBQWU7QUFDNUMscUJBQWlCLFlBQVksU0FBUztBQUN0QyxxQkFBaUIsWUFBWSxvQkFBb0I7QUFFakQsU0FBSyxZQUFZLFlBQVksZ0JBQWdCO0FBQUEsRUFDakQ7QUFBQSxFQUVRLHdCQUFxQztBQUN6QyxVQUFNLFlBQVksU0FBUyxjQUFjLEtBQUs7QUFDOUMsY0FBVSxZQUFZO0FBRXRCLFVBQU0sUUFBUSxTQUFTLGNBQWMsT0FBTztBQUM1QyxVQUFNLE9BQU87QUFDYixVQUFNLGNBQWM7QUFDcEIsVUFBTSxZQUFZO0FBRWxCLFVBQU0saUJBQWlCLGFBQVMsMkJBQVMsT0FBTyxNQUFhO0FBQ3pELFlBQU0sYUFBYyxFQUFFLE9BQTRCO0FBQ2xELFlBQU0sT0FBTyxLQUFLLE9BQU8sSUFBSSxVQUFVLGdCQUFnQixxQkFBcUIsRUFBRSxDQUFDLEVBQUU7QUFDakYsWUFBTSxLQUFLLGNBQWMsWUFBWSxVQUFVO0FBQUEsSUFDbkQsR0FBRyxHQUFHLENBQUM7QUFFUCxjQUFVLFlBQVksS0FBSztBQUMzQixXQUFPO0FBQUEsRUFDWDtBQUFBLEVBRVEsNkJBQTBDO0FBQzlDLFVBQU0sWUFBWSxTQUFTLGNBQWMsS0FBSztBQUM5QyxjQUFVLFlBQVk7QUFFdEIsVUFBTSxRQUFRO0FBQUEsTUFDVixFQUFFLE1BQU0sVUFBVSxPQUFPLGlCQUFpQixRQUFRLE1BQU0sS0FBSyxtQkFBbUIsRUFBRTtBQUFBLE1BQ2xGLEVBQUUsTUFBTSx3QkFBd0IsT0FBTyxjQUFjLFFBQVEsTUFBTSxXQUFXLEtBQUssTUFBTSxFQUFFO0FBQUEsTUFDM0YsRUFBRSxNQUFNLFlBQVksT0FBTyxZQUFZLFFBQVEsTUFBTSxlQUFlLEtBQUssTUFBTSxFQUFFO0FBQUEsSUFDckY7QUFFQSxVQUFNLFFBQVEsVUFBUTtBQUNsQixZQUFNLGNBQWMsS0FBSyxrQkFBa0IsS0FBSyxNQUFNLEtBQUssT0FBTyxLQUFLLE1BQU07QUFDN0UsVUFBSSxLQUFLLFNBQVMsd0JBQXdCO0FBQ3RDLG9CQUFZLFVBQVU7QUFBQSxVQUFPO0FBQUEsVUFDekIsS0FBSyxPQUFPLFNBQVMsa0JBQWtCLGNBQ3ZDLEtBQUssT0FBTyxTQUFTLGNBQWM7QUFBQSxRQUN2QztBQUFBLE1BQ0o7QUFDQSxnQkFBVSxZQUFZLFdBQVc7QUFBQSxJQUNyQyxDQUFDO0FBRUQsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUVRLGtCQUFrQixVQUFrQixXQUFtQixRQUE4QztBQUN6RyxVQUFNLE9BQU8sU0FBUyxjQUFjLEtBQUs7QUFDekMsU0FBSyxZQUFZO0FBQ2pCLFNBQUssYUFBYSxjQUFjLFNBQVM7QUFFekMsa0NBQVEsTUFBTSxRQUFRO0FBQ3RCLFNBQUssaUJBQWlCLFNBQVMsTUFBTTtBQUVyQyxXQUFPO0FBQUEsRUFDWDtBQUFBLEVBRUssa0JBQStCO0FBQ2hDLFVBQU0sWUFBWSxTQUFTLGNBQWMsS0FBSztBQUM5QyxjQUFVLFlBQVk7QUFDdEIsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUVJLHFCQUFxQjtBQUMzQixRQUFJLG1CQUFtQixLQUFLLFFBQVEsQ0FBQyxXQUFvQjtBQUN4RCxZQUFNLE9BQU8sS0FBSyxPQUFPLElBQUksVUFBVSxvQkFBb0IsYUFBYTtBQUN4RSxVQUFJLE1BQU07QUFDVCxhQUFLLGNBQWMsc0JBQXNCLE1BQU07QUFBQSxNQUNoRDtBQUFBLElBQ0QsQ0FBQyxFQUFFLEtBQUs7QUFBQSxFQUNUO0FBQUEsRUFFRyxVQUFVO0FBQUEsRUFFVjtBQUFBLEVBRUEsVUFBVTtBQUFBLEVBRVY7QUFDSjs7O0FFbklBLElBQUFDLG1CQUE4Qzs7O0FDQTlDLElBQUFDLG1CQUE4Qzs7O0FDR3ZDLFNBQVNDLFVBQW9ELE1BQVMsU0FBaUI7QUFDMUYsTUFBSSxVQUFpQztBQUVyQyxTQUFPLElBQUksU0FBZ0Q7QUFDdkQsUUFBSSxTQUFTO0FBQ1QsbUJBQWEsT0FBTztBQUFBLElBQ3hCO0FBQ0EsV0FBTyxJQUFJLFFBQXVCLENBQUMsWUFBWTtBQUMzQyxnQkFBVSxXQUFXLE1BQU07QUFDdkIsY0FBTSxTQUFTLEtBQUssR0FBRyxJQUFJO0FBQzNCLGdCQUFRLE1BQXVCO0FBQUEsTUFDbkMsR0FBRyxPQUFPO0FBQUEsSUFDZCxDQUFDO0FBQUEsRUFDTDtBQUNKO0FBRU8sU0FBUyw4QkFBOEIsU0FBdUU7QUFDakgsUUFBTSxtQkFBbUI7QUFDekIsUUFBTSxRQUFRLFFBQVEsTUFBTSxnQkFBZ0I7QUFDNUMsU0FBTyxRQUNELEVBQUUsYUFBYSxNQUFNLENBQUMsR0FBRyxjQUFjLFFBQVEsTUFBTSxNQUFNLENBQUMsRUFBRSxNQUFNLEVBQUUsS0FBSyxFQUFFLElBQzdFLEVBQUUsYUFBYSxNQUFNLGNBQWMsUUFBUSxLQUFLLEVBQUU7QUFDNUQ7QUFFTyxTQUFTLFVBQVUsT0FBZ0IsV0FBMEIsT0FBZ0M7QUFDaEcsU0FBTyxNQUFNLEtBQUssQ0FBQyxHQUFHLE1BQU07QUFDeEIsUUFBSSxhQUFhO0FBQ2pCLFlBQVEsV0FBVztBQUFBLE1BQ2YsS0FBSztBQUNELHFCQUFhLEVBQUUsU0FBUyxjQUFjLEVBQUUsVUFBVSxRQUFXLEVBQUUsU0FBUyxNQUFNLGFBQWEsT0FBTyxDQUFDO0FBQ25HO0FBQUEsTUFDSixLQUFLO0FBQ0QscUJBQWEsRUFBRSxLQUFLLFFBQVEsRUFBRSxLQUFLO0FBQ25DO0FBQUEsTUFDSixLQUFLO0FBQ0QscUJBQWEsRUFBRSxLQUFLLFFBQVEsRUFBRSxLQUFLO0FBQ25DO0FBQUEsSUFDUjtBQUNBLFdBQU8sVUFBVSxRQUFRLGFBQWEsQ0FBQztBQUFBLEVBQzNDLENBQUM7QUFDTDtBQUVPLFNBQVMsa0JBQ1osWUFDQSxlQUNBLGNBQ0EsVUFBVSxJQUNaO0FBQ0UsUUFBTSxFQUFFLE9BQU8sV0FBVyxRQUFRLFdBQVcsSUFBSTtBQUVqRCxNQUFJLFdBQW1CO0FBRXZCLE1BQUksWUFBWTtBQUNaLGdCQUFZLFlBQVksSUFBSTtBQUM1QixpQkFBYSxhQUFhO0FBQUEsRUFDOUIsT0FBTztBQUNILGdCQUFZLFlBQVk7QUFDeEIsaUJBQWEsYUFBYSxJQUFJO0FBQUEsRUFDbEM7QUFFQSxTQUFPLEVBQUUsV0FBVyxXQUFXO0FBQ25DO0FBRU8sU0FBUyxpQkFDWixhQUNBLFdBQ0EsWUFDQSxjQUNBLFlBQ0Y7QUFDRSxNQUFJLFlBQVk7QUFDWixnQkFBWSxNQUFNLGdCQUFnQjtBQUNsQyxnQkFBWSxNQUFNLFFBQVEsR0FBRyxTQUFTO0FBQ3RDLGdCQUFZLE1BQU0sU0FBUyxHQUFHLGFBQWEsWUFBWTtBQUFBLEVBQzNELE9BQU87QUFDSCxnQkFBWSxNQUFNLGdCQUFnQjtBQUNsQyxnQkFBWSxNQUFNLFFBQVEsR0FBRyxZQUFZLFlBQVk7QUFDckQsZ0JBQVksTUFBTSxTQUFTLEdBQUcsVUFBVTtBQUFBLEVBQzVDO0FBQ0o7OztBRDdFTyxJQUFNLFlBQU4sTUFBZ0I7QUFBQSxFQUNuQixZQUFvQixRQUE2QjtBQUE3QjtBQUFBLEVBQThCO0FBQUEsRUFFckQsTUFBTSxzQkFBc0IsWUFBb0M7QUFDL0QsVUFBTSxTQUFTLFdBQVc7QUFDMUIsUUFBSSxDQUFDLFFBQVE7QUFDWixhQUFPLENBQUM7QUFBQSxJQUNUO0FBQ0EsVUFBTSxRQUFRLE9BQU8sU0FBUyxPQUFPLENBQUMsU0FBd0IsZ0JBQWdCLHNCQUFLO0FBQ25GLFVBQU0sY0FBYztBQUFBLE1BQ25CO0FBQUEsTUFDQSxLQUFLLE9BQU8sU0FBUztBQUFBLE1BQ3JCLEtBQUssT0FBTyxTQUFTO0FBQUEsSUFDdEI7QUFDQSxXQUFPLE1BQU0sUUFBUSxJQUFJLFlBQVksSUFBSSxVQUFRLEtBQUssV0FBVyxJQUFJLENBQUMsQ0FBQztBQUFBLEVBQ3hFO0FBQUEsRUFFRyxNQUFhLFdBQVcsTUFBNEI7QUFDaEQsVUFBTSxVQUFVLE1BQU0sS0FBSyxPQUFPLElBQUksTUFBTSxXQUFXLElBQUk7QUFDM0QsVUFBTSxFQUFFLGFBQWEsSUFBSSw4QkFBOEIsT0FBTztBQUM5RCxVQUFNLHVCQUF1QixLQUFLLGtCQUFrQixZQUFZO0FBQ2hFLFdBQU87QUFBQSxNQUNIO0FBQUEsTUFDQSxVQUFVLEtBQUssT0FBTyxTQUFTLGVBQWUsS0FBSyxXQUFXO0FBQUEsTUFDOUQsYUFBYSxLQUFLLE9BQU8sU0FBUyxrQkFBa0IsS0FBSyxnQkFBZ0IsWUFBWSxJQUFJO0FBQUEsTUFDekYsU0FBUyxLQUFLLE9BQU8sU0FBUyxjQUFjLEtBQUssZ0JBQWdCLG9CQUFvQixJQUFJO0FBQUEsSUFDN0Y7QUFBQSxFQUNKO0FBQUEsRUFFUSxrQkFBa0IsU0FBeUI7QUFDL0MsVUFBTSxjQUFjO0FBQ3BCLFdBQU8sUUFBUSxRQUFRLGFBQWEsRUFBRSxFQUFFLEtBQUs7QUFBQSxFQUNqRDtBQUFBLEVBRVEsZ0JBQWdCLFNBQXFDO0FBQ3pELFVBQU0sY0FBYztBQUNwQixVQUFNLFFBQVEsUUFBUSxNQUFNLFdBQVc7QUFDdkMsV0FBTyxRQUFRLE1BQU0sQ0FBQyxFQUFFLEtBQUssSUFBSTtBQUFBLEVBQ3JDO0FBQUEsRUFFUSxnQkFBZ0IsU0FBeUI7QUFDN0MsVUFBTSxZQUFZLEtBQUssT0FBTyxTQUFTLGdCQUFnQjtBQUN2RCxXQUFPLFFBQVEsVUFBVSxZQUFZLFVBQVUsUUFBUSxNQUFNLEdBQUcsU0FBUyxJQUFJO0FBQUEsRUFDakY7QUFBQSxFQUVBLGtCQUFrQixNQUF5QjtBQUN2QyxVQUFNLGNBQWMsU0FBUyxjQUFjLEtBQUs7QUFDaEQsZ0JBQVksWUFBWTtBQUV4QixRQUFJLEtBQUssT0FBTyxTQUFTLGdCQUFnQixLQUFLLFVBQVU7QUFDcEQsWUFBTSxhQUFhLFlBQVksU0FBUyxNQUFNLEVBQUUsTUFBTSxLQUFLLFNBQVMsQ0FBQztBQUNyRSxpQkFBVyxZQUFZO0FBQ3ZCLGlCQUFXLE1BQU0sV0FBVyxHQUFHLEtBQUssT0FBTyxTQUFTLFlBQVk7QUFBQSxJQUNwRTtBQUVBLFFBQUksS0FBSyxPQUFPLFNBQVMsbUJBQW1CLEtBQUssYUFBYTtBQUMxRCxZQUFNLFdBQVcsWUFBWSxTQUFTLE1BQU0sRUFBRSxNQUFNLEtBQUssWUFBWSxDQUFDO0FBQ3RFLGVBQVMsWUFBWTtBQUNyQixlQUFTLE1BQU0sV0FBVyxHQUFHLEtBQUssT0FBTyxTQUFTLGVBQWU7QUFBQSxJQUNyRTtBQUVOLFFBQUksS0FBSyxPQUFPLFNBQVMsZUFBZSxLQUFLLFNBQVM7QUFDckQsWUFBTSxZQUFZLFlBQVksU0FBUyxLQUFLO0FBQzVDLGdCQUFVLFlBQVk7QUFDdEIsZ0JBQVUsTUFBTSxXQUFXLEdBQUcsS0FBSyxPQUFPLFNBQVMsV0FBVztBQUU5RCxVQUFJLEtBQUssT0FBTyxTQUFTLHFCQUFxQjtBQUM3QywwQ0FBaUI7QUFBQSxVQUNoQixLQUFLLE9BQU87QUFBQSxVQUNaLEtBQUs7QUFBQSxVQUNMO0FBQUEsVUFDQSxLQUFLLEtBQUs7QUFBQSxVQUNWLEtBQUs7QUFBQSxRQUNOO0FBQUEsTUFDRCxPQUFPO0FBQ04sa0JBQVUsY0FBYyxLQUFLO0FBQzdCLGtCQUFVLE1BQU0sV0FBVztBQUMzQixrQkFBVSxNQUFNLGVBQWU7QUFDL0Isa0JBQVUsTUFBTSxVQUFVO0FBQUEsTUFDM0I7QUFBQSxJQUNEO0FBRU0sUUFBSSxLQUFLLE9BQU8sSUFBSSxVQUFVLGNBQWMsTUFBTSxLQUFLLE1BQU07QUFDekQsa0JBQVksU0FBUyx1QkFBdUI7QUFBQSxJQUNoRDtBQUdBLFNBQUssb0JBQW9CLGFBQWEsSUFBSTtBQUUxQyxXQUFPO0FBQUEsRUFDWDtBQUFBLEVBRVEsb0JBQW9CLGFBQTBCLE1BQVk7QUFDOUQsZ0JBQVksaUJBQWlCLFNBQVMsTUFBTSxLQUFLLFNBQVMsS0FBSyxJQUFJLENBQUM7QUFDcEUsU0FBSyxpQkFBaUIsYUFBYSxJQUFJO0FBQ3ZDLFNBQUssaUJBQWlCLGFBQWEsS0FBSyxJQUFJO0FBQUEsRUFDaEQ7QUFBQSxFQUVRLGlCQUFpQixhQUEwQixNQUFZO0FBQzNELGdCQUFZLGFBQWEsYUFBYSxNQUFNO0FBQzVDLGdCQUFZLGlCQUFpQixhQUFhLENBQUMsVUFBVTtBQUNqRCxVQUFJLE1BQU0sY0FBYztBQUNwQixZQUFJLGNBQWM7QUFFbEIsWUFBSSxLQUFLLE9BQU8sU0FBUyxpQkFBaUI7QUFFdEMsY0FBSSxLQUFLLE9BQU8sU0FBUyxnQkFBZ0IsS0FBSyxVQUFVO0FBQ3BELDJCQUFlLE1BQU0sS0FBSyxRQUFRO0FBQUE7QUFBQTtBQUFBLFVBQ3RDO0FBRUEsY0FBSSxLQUFLLE9BQU8sU0FBUyxtQkFBbUIsS0FBSyxhQUFhO0FBQzFELDJCQUFlLEtBQUssS0FBSyxXQUFXO0FBQUE7QUFBQTtBQUFBLFVBQ3hDO0FBRUEsY0FBSSxLQUFLLE9BQU8sU0FBUyxlQUFlLEtBQUssU0FBUztBQUNsRCwyQkFBZSxHQUFHLEtBQUssT0FBTztBQUFBO0FBQUE7QUFBQSxVQUNsQztBQUVBLGNBQUksZ0JBQWdCLElBQUk7QUFFcEIsMEJBQWMsS0FBSyxLQUFLLEtBQUssSUFBSTtBQUFBLFVBQ3JDO0FBQUEsUUFDSixPQUFPO0FBRUgsd0JBQWMsS0FBSyxLQUFLLEtBQUssSUFBSTtBQUFBLFFBQ3JDO0FBRUEsY0FBTSxhQUFhLFFBQVEsY0FBYyxZQUFZLEtBQUssQ0FBQztBQUN2RSxjQUFNLGFBQWEsYUFBYSxhQUFhLEdBQUcsQ0FBQztBQUFBLE1BQ3pDO0FBQUEsSUFDSixDQUFDO0FBQUEsRUFDTDtBQUFBLEVBRVEsaUJBQWlCLGFBQTBCLE1BQWE7QUFDNUQsZ0JBQVksaUJBQWlCLGVBQWUsQ0FBQyxNQUFNO0FBQy9DLFFBQUUsZUFBZTtBQUNqQixZQUFNLE9BQU8sSUFBSSxzQkFBSztBQUN0QixXQUFLLE9BQU8sSUFBSSxVQUFVLFFBQVEsYUFBYSxNQUFNLE1BQU0sY0FBYztBQUN6RSxXQUFLLGVBQWUsRUFBRSxHQUFHLEVBQUUsU0FBUyxHQUFHLEVBQUUsUUFBUSxDQUFDO0FBQUEsSUFDdEQsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUVRLFNBQVMsTUFBYTtBQUMxQixTQUFLLE9BQU8sSUFBSSxVQUFVLFFBQVEsRUFBRSxTQUFTLElBQUk7QUFBQSxFQUNyRDtBQUNKOzs7QURoSk8sSUFBTSxnQkFBTixNQUFvQjtBQUFBLEVBU3ZCLFlBQVksUUFBNkIsTUFBcUI7QUFQOUQsU0FBUSxjQUFrQztBQUk3QyxTQUFRLFlBQVk7QUFDakIsU0FBUSxhQUFhO0FBR2pCLFNBQUssU0FBUztBQUNkLFNBQUssT0FBTztBQUNaLFNBQUssWUFBWSxJQUFJLFVBQVUsS0FBSyxNQUFNO0FBQzFDLFNBQUssYUFBYTtBQUFBLEVBQ3RCO0FBQUEsRUFFQSxNQUFNLFdBQVcsYUFBMEI7QUFDdkMsU0FBSyxjQUFjO0FBQ25CLFVBQU0sS0FBSyxvQkFBb0I7QUFDL0IsU0FBSyxlQUFlO0FBQ3BCLFNBQUssUUFBUTtBQUFBLEVBQ2pCO0FBQUEsRUFFSCxlQUFlLFlBQXFCO0FBQzdCLFNBQUssYUFBYTtBQUNsQixTQUFLLHFCQUFxQjtBQUFBLEVBQzlCO0FBQUEsRUFFQSxZQUFZLFdBQW1CLFlBQW9CO0FBQy9DLFNBQUssWUFBWTtBQUNqQixTQUFLLGFBQWE7QUFBQSxFQUN0QjtBQUFBLEVBRUEsaUJBQXFDO0FBQ2pDLFdBQU8sS0FBSztBQUFBLEVBQ2hCO0FBQUEsRUFFQSw0QkFBNEI7QUFDeEIsV0FBTztBQUFBLE1BQ0gsV0FBVyxLQUFLO0FBQUEsTUFDaEIsWUFBWSxLQUFLO0FBQUEsTUFDakIsWUFBWSxLQUFLO0FBQUEsSUFDckI7QUFBQSxFQUNKO0FBQUEsRUFFSCxTQUFTLFFBQStCO0FBQ3ZDLFFBQUksQ0FBQyxLQUFLLFlBQWE7QUFDdkIsVUFBTSxlQUFlLFdBQVcsV0FBVyxLQUFLLGFBQWEsS0FBSyxhQUFhLEtBQUssT0FBTyxTQUFTO0FBQ3BHLFNBQUssWUFBWSxTQUFTLEVBQUUsS0FBSyxDQUFDLGNBQWMsVUFBVSxTQUFTLENBQUM7QUFBQSxFQUNyRTtBQUFBLEVBRUEsV0FBVyxRQUErQjtBQUN6QyxRQUFJLENBQUMsS0FBSyxZQUFhO0FBQ3ZCLFVBQU0sZUFBZSxXQUFXLFdBQVcsS0FBSyxhQUFhLEtBQUssYUFBYSxLQUFLLE9BQU8sU0FBUztBQUNwRyxTQUFLLFlBQVksU0FBUyxFQUFFLEtBQUssY0FBYyxVQUFVLFNBQVMsQ0FBQztBQUFBLEVBQ3BFO0FBQUEsRUFFQSxXQUFXLFFBQStCO0FBQ3pDLFFBQUksQ0FBQyxLQUFLLFlBQWE7QUFDdkIsVUFBTSxlQUFlLFdBQVcsV0FBVyxLQUFLLFlBQVksS0FBSyxZQUFZLEtBQUssT0FBTyxTQUFTO0FBQ2xHLFNBQUssWUFBWSxTQUFTLEVBQUUsTUFBTSxDQUFDLGNBQWMsVUFBVSxTQUFTLENBQUM7QUFBQSxFQUN0RTtBQUFBLEVBRUEsWUFBWSxRQUErQjtBQUMxQyxRQUFJLENBQUMsS0FBSyxZQUFhO0FBQ3ZCLFVBQU0sZUFBZSxXQUFXLFdBQVcsS0FBSyxZQUFZLEtBQUssWUFBWSxLQUFLLE9BQU8sU0FBUztBQUNsRyxTQUFLLFlBQVksU0FBUyxFQUFFLE1BQU0sY0FBYyxVQUFVLFNBQVMsQ0FBQztBQUFBLEVBQ3JFO0FBQUEsRUFFQSxpQkFBaUI7QUFDaEIsUUFBSSxDQUFDLEtBQUssWUFBYTtBQUN2QixVQUFNLGFBQWEsS0FBSyxZQUFZLGNBQWMsd0JBQXdCO0FBQzFFLFFBQUksWUFBWTtBQUNmLGlCQUFXLGVBQWUsRUFBRSxVQUFVLFVBQVUsT0FBTyxVQUFVLFFBQVEsU0FBUyxDQUFDO0FBQUEsSUFDcEY7QUFBQSxFQUNEO0FBQUEsRUFFUSx1QkFBdUI7QUFDeEIsUUFBSSxLQUFLLGFBQWE7QUFDbEIsVUFBSSxLQUFLLFlBQVk7QUFDakIsYUFBSyxZQUFZLFVBQVUsSUFBSSxVQUFVO0FBQ3pDLGFBQUssWUFBWSxVQUFVLE9BQU8sWUFBWTtBQUFBLE1BQ2xELE9BQU87QUFDSCxhQUFLLFlBQVksVUFBVSxJQUFJLFlBQVk7QUFDM0MsYUFBSyxZQUFZLFVBQVUsT0FBTyxVQUFVO0FBQUEsTUFDaEQ7QUFBQSxJQUNKO0FBQUEsRUFDSjtBQUFBLEVBRUEsTUFBYyxzQkFBcUM7QUFDL0MsV0FBTyxJQUFJLFFBQVEsQ0FBQyxZQUFZO0FBQzVCLFlBQU0sWUFBWSxNQUFNO0FBQ3BCLFlBQUksS0FBSyxlQUFlLEtBQUssWUFBWSxzQkFBc0IsRUFBRSxRQUFRLEdBQUc7QUFDeEUsa0JBQVE7QUFBQSxRQUNaLE9BQU87QUFDSCxnQ0FBc0IsU0FBUztBQUFBLFFBQ25DO0FBQUEsTUFDSjtBQUNBLGdCQUFVO0FBQUEsSUFDZCxDQUFDO0FBQUEsRUFDTDtBQUFBLEVBRVEsaUJBQWlCO0FBQ3JCLFNBQUssT0FBTztBQUFBLE1BQ1IsS0FBSyxPQUFPLElBQUksVUFBVSxHQUFHLHNCQUFzQkMsVUFBUyxLQUFLLFFBQVEsS0FBSyxJQUFJLEdBQUcsR0FBRyxDQUFDO0FBQUEsSUFDN0Y7QUFDQSxTQUFLLE9BQU87QUFBQSxNQUNSLEtBQUssT0FBTyxJQUFJLE1BQU0sR0FBRyxVQUFVQSxVQUFTLEtBQUssUUFBUSxLQUFLLElBQUksR0FBRyxHQUFHLENBQUM7QUFBQSxJQUM3RTtBQUFBLEVBQ0o7QUFBQSxFQUVBLE1BQU0sVUFBVTtBQUNaLFFBQUksU0FBeUI7QUFFN0IsUUFBSSxLQUFLLE9BQU8sU0FBUyxxQkFBcUIsS0FBSyxPQUFPLFNBQVMsZ0JBQWdCO0FBQy9FLGVBQVMsS0FBSyxPQUFPLElBQUksTUFBTSxzQkFBc0IsS0FBSyxPQUFPLFNBQVMsY0FBYztBQUFBLElBQzVGLE9BQU87QUFDSCxZQUFNLGFBQWEsS0FBSyxPQUFPLElBQUksVUFBVSxjQUFjO0FBQzNELGdCQUFTLHlDQUFZLFdBQVU7QUFBQSxJQUNuQztBQUVBLFFBQUksQ0FBQyxVQUFVLENBQUMsS0FBSyxhQUFhO0FBQzlCO0FBQUEsSUFDSjtBQUVBLHFCQUFpQixLQUFLLGFBQWEsS0FBSyxXQUFXLEtBQUssWUFBWSxLQUFLLE9BQU8sU0FBUyxjQUFjLEtBQUssVUFBVTtBQUV0SCxVQUFNLFFBQVEsT0FBTyxTQUFTLE9BQU8sQ0FBQyxTQUF3QixnQkFBZ0Isc0JBQUs7QUFDbkYsVUFBTSxjQUFjLFVBQVUsT0FBTyxLQUFLLE9BQU8sU0FBUyxlQUFlLEtBQUssT0FBTyxTQUFTLFNBQVM7QUFDdkcsVUFBTSxZQUFZLE1BQU0sUUFBUSxJQUFJLFlBQVksSUFBSSxVQUFRLEtBQUssVUFBVSxXQUFXLElBQUksQ0FBQyxDQUFDO0FBQzVGLFNBQUssWUFBWSxXQUFXLEtBQUssV0FBVyxLQUFLLFVBQVU7QUFBQSxFQUMvRDtBQUFBLEVBRUssWUFBWSxXQUFtQixXQUFtQixZQUFvQjtBQUN2RSxVQUFNLGNBQWMsS0FBSztBQUN6QixRQUFJLENBQUMsWUFBYTtBQUVsQixnQkFBWSxZQUFZO0FBQ3hCLGdCQUFZLFVBQVUsT0FBTyw2QkFBNkIsQ0FBQyxLQUFLLFVBQVU7QUFFMUUsY0FBVSxRQUFRLENBQUMsYUFBYTtBQUM1QixZQUFNLE9BQU8sS0FBSyxVQUFVLGtCQUFrQixRQUFRO0FBQ3RELFdBQUssVUFBVSxPQUFPLGtDQUFrQyxDQUFDLEtBQUssVUFBVTtBQUN4RSxXQUFLLE1BQU0sUUFBUSxHQUFHLFNBQVM7QUFDL0IsV0FBSyxNQUFNLFNBQVMsR0FBRyxVQUFVO0FBQ2pDLGtCQUFZLFlBQVksSUFBSTtBQUdyQyxVQUFJLEtBQUssT0FBTyxTQUFTLHFCQUFxQjtBQUM3QyxhQUFLLGlCQUFpQixLQUFLLEVBQUUsUUFBUSxDQUFDLFFBQTBCO0FBQy9ELGNBQUksaUJBQWlCLFFBQVEsTUFBTTtBQUNsQyxpQkFBSyxlQUFlLElBQUk7QUFBQSxVQUN6QixDQUFDO0FBQUEsUUFDRixDQUFDO0FBQUEsTUFDRjtBQUFBLElBQ0ssQ0FBQztBQUVQLFFBQUksS0FBSyxPQUFPLFNBQVMscUJBQXFCLFVBQVU7QUFDdkQsV0FBSyxtQkFBbUIsV0FBVyxXQUFXLFVBQVU7QUFBQSxJQUN6RDtBQUFBLEVBQ0Q7QUFBQSxFQUVRLGVBQWUsTUFBbUI7QUFDekMsVUFBTSxVQUFVLEtBQUssY0FBYyx5QkFBeUI7QUFDNUQsUUFBSSxtQkFBbUIsYUFBYTtBQUNuQyxjQUFRLE1BQU0sWUFBWSxHQUFHLEtBQUssZUFBZSxFQUFFO0FBQUEsSUFDcEQ7QUFBQSxFQUNEO0FBQUEsRUFFVyx5QkFBeUIsV0FBbUIsYUFBcUIsV0FBbUIsWUFBb0I7QUFDNUcsVUFBTSxjQUFjLEtBQUs7QUFDekIsUUFBSSxDQUFDLGFBQWE7QUFDZDtBQUFBLElBQ0o7QUFFQSxVQUFNLGFBQWEsS0FBSztBQUV4QixVQUFNLFlBQVksVUFBVSxNQUFNLEdBQUcsV0FBVztBQUNoRCxVQUFNLGFBQWEsVUFBVSxNQUFNLGNBQWMsQ0FBQztBQUVsRCxVQUFNLGNBQWM7QUFDcEIsVUFBTSxnQkFBZ0IsYUFBYSxhQUFhO0FBQ2hELFVBQU0sYUFBYSxnQkFBZ0IsZUFBZSxLQUFLLE9BQU8sU0FBUyxlQUFlO0FBQ3RGLFVBQU0sb0JBQXFCLFlBQVksaUJBQWlCO0FBRXhELFFBQUksZ0JBQWdCLG9CQUFxQixVQUFVLFNBQVMsZ0JBQWtCLFVBQVUsU0FBUztBQUVqRyxjQUFVLFFBQVEsQ0FBQyxhQUFhO0FBQzVCLFlBQU0sT0FBTyxLQUFLLFVBQVUsa0JBQWtCLFFBQVE7QUFDdEQsV0FBSyxNQUFNLFdBQVc7QUFDdEIsV0FBSyxNQUFNLFFBQVEsR0FBRyxTQUFTO0FBQy9CLFdBQUssTUFBTSxTQUFTLEdBQUcsVUFBVTtBQUNqQyxVQUFJLFlBQVk7QUFDWixhQUFLLE1BQU0sTUFBTSxHQUFHLGFBQWE7QUFBQSxNQUNyQyxPQUFPO0FBQ0gsYUFBSyxNQUFNLE9BQU8sR0FBRyxhQUFhO0FBQUEsTUFDdEM7QUFDQSxrQkFBWSxZQUFZLElBQUk7QUFDNUIsdUJBQWlCLGdCQUFnQjtBQUFBLElBQ3JDLENBQUM7QUFFRCxVQUFNLGFBQWEsS0FBSyxVQUFVLGtCQUFrQixVQUFVLFdBQVcsQ0FBQztBQUMxRSxlQUFXLE1BQU0sV0FBVztBQUM1QixlQUFXLE1BQU0sUUFBUSxHQUFHLFNBQVM7QUFDckMsZUFBVyxNQUFNLFNBQVMsR0FBRyxVQUFVO0FBQ3ZDLFFBQUksWUFBWTtBQUNaLGlCQUFXLE1BQU0sTUFBTSxHQUFHLGdCQUFnQjtBQUFBLElBQzlDLE9BQU87QUFDSCxpQkFBVyxNQUFNLE9BQU8sR0FBRyxnQkFBZ0I7QUFBQSxJQUMvQztBQUNBLGdCQUFZLFlBQVksVUFBVTtBQUVsQyxvQkFBZ0IsbUJBQW1CLGdCQUFnQjtBQUNuRCxlQUFXLFFBQVEsQ0FBQyxhQUFhO0FBQzdCLFlBQU0sT0FBTyxLQUFLLFVBQVUsa0JBQWtCLFFBQVE7QUFDdEQsV0FBSyxNQUFNLFdBQVc7QUFDdEIsV0FBSyxNQUFNLFFBQVEsR0FBRyxTQUFTO0FBQy9CLFdBQUssTUFBTSxTQUFTLEdBQUcsVUFBVTtBQUNqQyxVQUFJLFlBQVk7QUFDWixhQUFLLE1BQU0sTUFBTSxHQUFHLGFBQWE7QUFBQSxNQUNyQyxPQUFPO0FBQ0gsYUFBSyxNQUFNLE9BQU8sR0FBRyxhQUFhO0FBQUEsTUFDdEM7QUFDQSxrQkFBWSxZQUFZLElBQUk7QUFDNUIsdUJBQWlCLGdCQUFnQjtBQUFBLElBQ3JDLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFFSyxtQkFBbUIsV0FBbUIsV0FBbUIsWUFBb0I7QUFDOUUsVUFBTSxjQUFjLEtBQUs7QUFDekIsUUFBSSxDQUFDLGFBQWE7QUFDZDtBQUFBLElBQ0o7QUFFQSxnQkFBWSxZQUFZO0FBRXhCLFFBQUksYUFBaUM7QUFFckMsY0FBVSxRQUFRLENBQUMsYUFBYTtBQUM1QixZQUFNLE9BQU8sS0FBSyxVQUFVLGtCQUFrQixRQUFRO0FBQ3RELFdBQUssTUFBTSxRQUFRLEdBQUcsU0FBUztBQUMvQixXQUFLLE1BQU0sU0FBUyxHQUFHLFVBQVU7QUFDakMsa0JBQVksWUFBWSxJQUFJO0FBRTVCLFVBQUksS0FBSyxVQUFVLFNBQVMsdUJBQXVCLEdBQUc7QUFDbEQscUJBQWE7QUFBQSxNQUNqQjtBQUFBLElBQ0osQ0FBQztBQUVELFFBQUksY0FBYyxLQUFLLE9BQU8sU0FBUyxxQkFBcUIsVUFBVTtBQUNsRSxNQUFDLFdBQTJCLGVBQWUsRUFBRSxVQUFVLFVBQVUsT0FBTyxVQUFVLFFBQVEsU0FBUyxDQUFDO0FBQUEsSUFDeEc7QUFBQSxFQUNKO0FBQUEsRUFFSSxhQUFhLGVBQXdCO0FBQUEsRUFDNUM7QUFBQSxFQUVBLE1BQWEsWUFBWSxZQUFvQjtBQUM1QyxVQUFNLGFBQWEsS0FBSyxPQUFPLElBQUksVUFBVSxjQUFjO0FBQzNELFFBQUksQ0FBQyxXQUFZO0FBRWpCLFVBQU0sU0FBUyxXQUFXO0FBQzFCLFFBQUksQ0FBQyxPQUFRO0FBRWIsVUFBTSxRQUFRLE9BQU8sU0FBUyxPQUFPLENBQUMsU0FBd0IsZ0JBQWdCLHNCQUFLO0FBQ25GLFVBQU0sZ0JBQWdCLE1BQU0sS0FBSyxxQkFBcUIsT0FBTyxVQUFVO0FBRXZFLFVBQU0sUUFBUSxNQUFNLFFBQVEsSUFBSSxjQUFjLElBQUksVUFBUSxLQUFLLFVBQVUsV0FBVyxJQUFJLENBQUMsQ0FBQztBQUMxRixTQUFLLFlBQVksT0FBTyxLQUFLLFdBQVcsS0FBSyxVQUFVO0FBQUEsRUFDeEQ7QUFBQSxFQUVBLE1BQU0sc0JBQXNCLFFBQWlCO0FBQzVDLFVBQU0sUUFBUSxPQUFPLFNBQVMsT0FBTyxDQUFDLFNBQXdCLGdCQUFnQixzQkFBSztBQUNuRixVQUFNLFFBQVEsTUFBTSxRQUFRLElBQUksTUFBTSxJQUFJLFVBQVEsS0FBSyxVQUFVLFdBQVcsSUFBSSxDQUFDLENBQUM7QUFDbEYsU0FBSyxZQUFZLE9BQU8sS0FBSyxXQUFXLEtBQUssVUFBVTtBQUFBLEVBQ3hEO0FBQUEsRUFFQSxNQUFjLHFCQUFxQixPQUFnQixZQUFzQztBQUN4RixVQUFNLHNCQUFzQixXQUFXLFlBQVk7QUFDbkQsVUFBTSxnQkFBZ0IsQ0FBQztBQUN2QixlQUFXLFFBQVEsT0FBTztBQUN6QixZQUFNLFVBQVUsTUFBTSxLQUFLLE9BQU8sSUFBSSxNQUFNLFdBQVcsSUFBSTtBQUMzRCxVQUFJLEtBQUssU0FBUyxZQUFZLEVBQUUsU0FBUyxtQkFBbUIsS0FDM0QsUUFBUSxZQUFZLEVBQUUsU0FBUyxtQkFBbUIsR0FBRztBQUNyRCxzQkFBYyxLQUFLLElBQUk7QUFBQSxNQUN4QjtBQUFBLElBQ0Q7QUFDQSxXQUFPO0FBQUEsRUFDUjtBQUFBLEVBRUcsTUFBYSxVQUFVLFdBQTBCLE9BQXVCO0FBQ3BFLFNBQUssT0FBTyxTQUFTLGdCQUFnQjtBQUNyQyxTQUFLLE9BQU8sU0FBUyxZQUFZO0FBQ2pDLFVBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsU0FBSyxRQUFRO0FBQUEsRUFDakI7QUFBQSxFQUVILE1BQWMsZ0JBQWdCLE1BQTBDO0FBQ3ZFLFVBQU0sVUFBVSxNQUFNLEtBQUssT0FBTyxJQUFJLE1BQU0sV0FBVyxJQUFJO0FBQzNELFVBQU0sY0FBYztBQUNwQixVQUFNLFFBQVEsUUFBUSxNQUFNLFdBQVc7QUFDdkMsV0FBTyxRQUFRLE1BQU0sQ0FBQyxFQUFFLEtBQUssSUFBSTtBQUFBLEVBQ2xDO0FBQUEsRUFFQSxNQUFjLGVBQWUsTUFBOEI7QUFDMUQsVUFBTSxVQUFVLE1BQU0sS0FBSyxPQUFPLElBQUksTUFBTSxXQUFXLElBQUk7QUFDM0QsVUFBTSxZQUFZLEtBQUssT0FBTyxTQUFTLGdCQUFnQjtBQUN2RCxXQUFPLFFBQVEsVUFBVSxZQUFZLFVBQVUsUUFBUSxNQUFNLEdBQUcsU0FBUyxJQUFJO0FBQUEsRUFDOUU7QUFBQSxFQUVHLFVBQVU7QUFBQSxFQUFDO0FBQ2Y7OztBSHZUTyxJQUFNLDJCQUEyQjtBQUVqQyxJQUFNLGdCQUFOLGNBQTRCLDBCQUFTO0FBQUEsRUFPeEMsWUFBWSxNQUFxQixRQUE2QjtBQUMxRCxVQUFNLElBQUk7QUFDVixTQUFLLFNBQVM7QUFDZCxTQUFLLFVBQVUsSUFBSSxRQUFRLEtBQUssTUFBTTtBQUN0QyxTQUFLLGdCQUFnQixJQUFJLGNBQWMsS0FBSyxRQUFRLEtBQUssSUFBSTtBQUNuRSxTQUFLLGFBQWEsS0FBSyxvQkFBb0I7QUFDckMsU0FBSyxpQkFBaUIsSUFBSSxlQUFlLEtBQUssYUFBYSxLQUFLLElBQUksQ0FBQztBQUFBLEVBQ3pFO0FBQUEsRUFFQSxjQUFjO0FBQ1YsV0FBTztBQUFBLEVBQ1g7QUFBQSxFQUVBLGlCQUFpQjtBQUNiLFdBQU87QUFBQSxFQUNYO0FBQUEsRUFFQSxVQUFrQjtBQUNkLFdBQU87QUFBQSxFQUNYO0FBQUEsRUFFUSxzQkFBK0I7QUFDbkMsVUFBTSxFQUFFLE9BQU8sT0FBTyxJQUFJLEtBQUssS0FBSyxLQUFLLFlBQVksc0JBQXNCO0FBQzNFLFdBQU8sU0FBUztBQUFBLEVBQ3BCO0FBQUEsRUFFUSxlQUFlO0FBQ25CLFNBQUssdUJBQXVCO0FBQUEsRUFDaEM7QUFBQSxFQUVLLGNBQWMsT0FBc0I7QUFDM0MsUUFBSSxLQUFLLGVBQWUsS0FBSyxZQUFZLFNBQVMsU0FBUyxhQUFhLEdBQUc7QUFDMUUsY0FBUSxNQUFNLEtBQUs7QUFBQSxRQUNsQixLQUFLO0FBQ0osZUFBSyxjQUFjLFNBQVMsUUFBUTtBQUNwQyxnQkFBTSxlQUFlO0FBQ3JCO0FBQUEsUUFDRCxLQUFLO0FBQ0osZUFBSyxjQUFjLFdBQVcsUUFBUTtBQUN0QyxnQkFBTSxlQUFlO0FBQ3JCO0FBQUEsUUFDRCxLQUFLO0FBQ0osZUFBSyxjQUFjLFdBQVcsUUFBUTtBQUN0QyxnQkFBTSxlQUFlO0FBQ3JCO0FBQUEsUUFDRCxLQUFLO0FBQ0osZUFBSyxjQUFjLFlBQVksUUFBUTtBQUN2QyxnQkFBTSxlQUFlO0FBQ3JCO0FBQUEsUUFDRCxLQUFLO0FBQ0osZUFBSyxjQUFjLGVBQWU7QUFDbEMsZ0JBQU0sZUFBZTtBQUNyQjtBQUFBLE1BQ0Y7QUFBQSxJQUNEO0FBQUEsRUFDRDtBQUFBLEVBRU8seUJBQXlCO0FBQy9CLFNBQUssYUFBYSxLQUFLLG9CQUFvQjtBQUMzQyxVQUFNLGdCQUFnQixLQUFLLEtBQUssS0FBSyxZQUFZLHNCQUFzQjtBQUN2RSxVQUFNLEVBQUUsV0FBVyxXQUFXLElBQUksa0JBQWtCLEtBQUssWUFBWSxlQUFlLEtBQUssT0FBTyxTQUFTLFlBQVk7QUFFckgsU0FBSyxjQUFjLGVBQWUsS0FBSyxVQUFVO0FBQ2pELFNBQUssY0FBYyxZQUFZLFdBQVcsVUFBVTtBQUNwRCxTQUFLLFFBQVEsZUFBZSxLQUFLLFVBQVU7QUFFM0MsU0FBSyxRQUFRO0FBQUEsRUFDZDtBQUFBLEVBRUcsTUFBTSxTQUFTO0FBQ1gsVUFBTSxZQUFZLEtBQUssWUFBWSxTQUFTLENBQUM7QUFDN0MsY0FBVSxNQUFNO0FBRWhCLFVBQU0sMkJBQTJCLFVBQVUsVUFBVSxnQkFBZ0I7QUFDckUsVUFBTSxZQUFZLHlCQUF5QixVQUFVLHdCQUF3QjtBQUM3RSxVQUFNLGtCQUFrQix5QkFBeUIsVUFBVSxnQkFBZ0I7QUFFM0UsU0FBSyxRQUFRLFdBQVcsU0FBUztBQUNqQyxTQUFLLGNBQWMsV0FBVyxlQUFlO0FBRW5ELFNBQUssYUFBYSxLQUFLLG9CQUFvQjtBQUNyQyxTQUFLLHVCQUF1QjtBQUM1QixTQUFLLGVBQWUsUUFBUSxLQUFLLEtBQUssS0FBSyxXQUFXO0FBRTVELFNBQUssaUJBQWlCLFVBQVUsV0FBVyxLQUFLLGNBQWMsS0FBSyxJQUFJLENBQUM7QUFFbEUsU0FBSyxRQUFRO0FBQUEsRUFDakI7QUFBQSxFQUVBLE1BQU0sVUFBVTtBQUNaLFNBQUssZUFBZSxXQUFXO0FBQy9CLFNBQUssUUFBUSxRQUFRO0FBQ3JCLFNBQUssY0FBYyxRQUFRO0FBQUEsRUFDL0I7QUFBQSxFQUVBLFVBQVU7QUFDTixTQUFLLFFBQVEsUUFBUTtBQUNyQixTQUFLLGNBQWMsUUFBUTtBQUFBLEVBQy9CO0FBQ0o7OztBTWxIQSxJQUFBQyxtQkFBK0M7QUFLeEMsSUFBTSxhQUFOLGNBQXlCLGtDQUFpQjtBQUFBLEVBQzdDLFlBQVksS0FBa0IsUUFBNkI7QUFDdkQsVUFBTSxLQUFLLE1BQU07QUFEUztBQUFBLEVBRTlCO0FBQUEsRUFFQSxVQUFnQjtBQUNaLFVBQU0sRUFBRSxZQUFZLElBQUk7QUFDeEIsZ0JBQVksTUFBTTtBQUVsQixRQUFJLHlCQUFRLFdBQVcsRUFDbEIsUUFBUSxnQkFBZ0IsRUFDeEIsUUFBUSxvQ0FBb0MsRUFDNUMsVUFBVSxZQUFVLE9BQ2hCLFVBQVUsR0FBRyxHQUFHLENBQUMsRUFDakIsU0FBUyxLQUFLLE9BQU8sU0FBUyxZQUFZLEVBQzFDLGtCQUFrQixFQUNsQixTQUFTLE9BQU8sVUFBVTtBQUN2QixXQUFLLE9BQU8sU0FBUyxlQUFlO0FBQ3BDLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsV0FBSyxPQUFPLGFBQWE7QUFBQSxJQUM3QixDQUFDLENBQUM7QUFFaEIsUUFBSSx5QkFBUSxXQUFXLEVBQ3RCLFFBQVEsa0JBQWtCLEVBQzFCLFFBQVEscUVBQXNFLEVBQzlFLFlBQVksY0FBWSxTQUN2QixVQUFVLFVBQVUsc0JBQXVCLEVBQzNDLFVBQVUsWUFBWSxpQkFBaUIsRUFDdkMsU0FBUyxLQUFLLE9BQU8sU0FBUyxvQkFBb0IsYUFBYSxRQUFRLEVBQ3ZFLFNBQVMsT0FBTyxVQUFVO0FBQzFCLFdBQUssT0FBTyxTQUFTLG9CQUFvQixVQUFVO0FBQ25ELFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsV0FBSyxRQUFRO0FBQUEsSUFDZCxDQUFDLENBQUM7QUFFSCxRQUFJLEtBQUssT0FBTyxTQUFTLG1CQUFtQjtBQUMzQyxVQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxlQUFlLEVBQ3ZCLFFBQVEsb0NBQW9DLEVBQzVDLFVBQVUsWUFBVSxPQUNuQixjQUFjLEtBQUssT0FBTyxTQUFTLGtCQUFrQixlQUFlLEVBQ3BFLFFBQVEsTUFBTTtBQUNkLFlBQUksbUJBQW1CLEtBQUssUUFBUSxDQUFDLFdBQVc7QUFDL0MsZUFBSyxPQUFPLFNBQVMsaUJBQWlCLE9BQU87QUFDN0MsZUFBSyxPQUFPLGFBQWE7QUFDekIsZUFBSyxRQUFRO0FBQUEsUUFDZCxDQUFDLEVBQUUsS0FBSztBQUFBLE1BQ1QsQ0FBQyxDQUFDO0FBQUEsSUFDTDtBQUVNLFFBQUkseUJBQVEsV0FBVyxFQUNsQixRQUFRLHFCQUFxQixFQUM3QixRQUFRLDZDQUE2QyxFQUNyRCxZQUFZLGNBQVk7QUFDckIsZUFDSyxVQUFVLGdCQUFnQixvQkFBb0IsRUFDOUMsVUFBVSxpQkFBaUIsb0JBQW9CLEVBQy9DLFVBQVUscUJBQXFCLDhCQUE4QixFQUM3RCxVQUFVLG9CQUFvQiw4QkFBOEIsRUFDNUQsVUFBVSxnQkFBZ0Isd0JBQXdCLEVBQ2xELFVBQVUsZUFBZSx3QkFBd0IsRUFDakQsU0FBUyxHQUFHLEtBQUssT0FBTyxTQUFTLGFBQWEsSUFBSSxLQUFLLE9BQU8sU0FBUyxTQUFTLEVBQUUsRUFDbEYsU0FBUyxPQUFPLFVBQVU7QUFDdkIsY0FBTSxDQUFDLFdBQVcsS0FBSyxJQUFJLE1BQU0sTUFBTSxHQUFHO0FBQzFDLGFBQUssT0FBTyxTQUFTLGdCQUFnQjtBQUNyQyxhQUFLLE9BQU8sU0FBUyxZQUFZO0FBQ2pDLGNBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsYUFBSyxPQUFPLGFBQWE7QUFBQSxNQUM3QixDQUFDO0FBQUEsSUFDVCxDQUFDO0FBRVgsUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEsd0JBQXdCLEVBQ2hDLFFBQVEsbURBQW1ELEVBQzNELFVBQVUsWUFBVSxPQUNuQixTQUFTLEtBQUssT0FBTyxTQUFTLG1CQUFtQixFQUNqRCxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxzQkFBc0I7QUFDM0MsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUMvQixXQUFLLE9BQU8sYUFBYTtBQUFBLElBQzFCLENBQUMsQ0FBQztBQWdCSixRQUFJLHlCQUFRLFdBQVcsRUFDdEIsUUFBUSx1QkFBdUIsRUFDL0IsUUFBUSwrRUFBK0UsRUFDdkYsVUFBVSxZQUFVLE9BQ25CLFNBQVMsS0FBSyxPQUFPLFNBQVMsZUFBZSxFQUM3QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxrQkFBa0I7QUFDdkMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUMvQixXQUFLLE9BQU8sYUFBYTtBQUFBLElBQzFCLENBQUMsQ0FBQztBQUVILGdCQUFZLFNBQVMsTUFBTSxFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFHN0QsUUFBSSx5QkFBUSxXQUFXLEVBQ3RCLFFBQVEsZ0JBQWdCLEVBQ3hCLFFBQVEsa0RBQWtELEVBQzFELFVBQVUsWUFBVSxPQUNuQixTQUFTLEtBQUssT0FBTyxTQUFTLFlBQVksRUFDMUMsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsZUFBZTtBQUNwQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQy9CLFdBQUssT0FBTyxhQUFhO0FBQUEsSUFDMUIsQ0FBQyxDQUFDO0FBRUgsUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEsZ0JBQWdCLEVBQ3hCLFFBQVEscUNBQXFDLEVBQzdDLFVBQVUsWUFBVSxPQUNuQixVQUFVLElBQUksSUFBSSxDQUFDLEVBQ25CLFNBQVMsS0FBSyxPQUFPLFNBQVMsWUFBWSxFQUMxQyxrQkFBa0IsRUFDbEIsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsZUFBZTtBQUNwQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQy9CLFdBQUssT0FBTyxhQUFhO0FBQUEsSUFDMUIsQ0FBQyxDQUFDO0FBRUosUUFBSSx5QkFBUSxXQUFXLEVBQ3JCLFFBQVEsbUJBQW1CLEVBQzNCLFFBQVEscURBQXFELEVBQzdELFVBQVUsWUFBVSxPQUNuQixTQUFTLEtBQUssT0FBTyxTQUFTLGVBQWUsRUFDN0MsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsa0JBQWtCO0FBQ3ZDLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsV0FBSyxPQUFPLGFBQWE7QUFBQSxJQUMxQixDQUFDLENBQUM7QUFFSixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxtQkFBbUIsRUFDM0IsUUFBUSx3Q0FBd0MsRUFDaEQsVUFBVSxZQUFVLE9BQ25CLFVBQVUsSUFBSSxJQUFJLENBQUMsRUFDbkIsU0FBUyxLQUFLLE9BQU8sU0FBUyxlQUFlLEVBQzdDLGtCQUFrQixFQUNsQixTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxrQkFBa0I7QUFDdkMsWUFBTSxLQUFLLE9BQU8sYUFBYTtBQUMvQixXQUFLLE9BQU8sYUFBYTtBQUFBLElBQzFCLENBQUMsQ0FBQztBQUVKLFFBQUkseUJBQVEsV0FBVyxFQUNyQixRQUFRLGNBQWMsRUFDdEIsUUFBUSxnREFBZ0QsRUFDeEQsVUFBVSxZQUFVLE9BQ25CLFNBQVMsS0FBSyxPQUFPLFNBQVMsV0FBVyxFQUN6QyxTQUFTLE9BQU8sVUFBVTtBQUMxQixXQUFLLE9BQU8sU0FBUyxjQUFjO0FBQ25DLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsV0FBSyxPQUFPLGFBQWE7QUFBQSxJQUMxQixDQUFDLENBQUM7QUFFSixRQUFJLHlCQUFRLFdBQVcsRUFDckIsUUFBUSxjQUFjLEVBQ3RCLFFBQVEsbUNBQW1DLEVBQzNDLFVBQVUsWUFBVSxPQUNuQixVQUFVLElBQUksSUFBSSxDQUFDLEVBQ25CLFNBQVMsS0FBSyxPQUFPLFNBQVMsV0FBVyxFQUN6QyxrQkFBa0IsRUFDbEIsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsY0FBYztBQUNuQyxZQUFNLEtBQUssT0FBTyxhQUFhO0FBQy9CLFdBQUssT0FBTyxhQUFhO0FBQUEsSUFDMUIsQ0FBQyxDQUFDO0FBRUosUUFBSSx5QkFBUSxXQUFXLEVBQ3RCLFFBQVEsZ0JBQWdCLEVBQ3hCLFFBQVEsK0NBQStDLEVBQ3ZELFVBQVUsWUFBVSxPQUNuQixVQUFVLEdBQUcsSUFBSSxDQUFDLEVBQ2xCLFNBQVMsS0FBSyxPQUFPLFNBQVMsYUFBYSxFQUMzQyxrQkFBa0IsRUFDbEIsU0FBUyxPQUFPLFVBQVU7QUFDMUIsV0FBSyxPQUFPLFNBQVMsZ0JBQWdCO0FBQ3JDLFlBQU0sS0FBSyxPQUFPLGFBQWE7QUFDL0IsV0FBSyxPQUFPLGFBQWE7QUFBQSxJQUMxQixDQUFDLENBQUM7QUFBQSxFQUNEO0FBQ0o7OztBQ3RNTyxJQUFNLG1CQUEwQztBQUFBLEVBQ25ELGNBQWM7QUFBQSxFQUNqQixtQkFBbUI7QUFBQSxFQUNoQixnQkFBZ0I7QUFBQSxFQUNuQixlQUFlO0FBQUEsRUFDWixXQUFXO0FBQUEsRUFDZCxxQkFBcUI7QUFBQSxFQUNsQixrQkFBa0I7QUFBQSxFQUNsQix1QkFBdUI7QUFBQSxFQUN2QiwyQkFBMkI7QUFBQSxFQUM5QixpQkFBaUI7QUFBQSxFQUNkLGNBQWM7QUFBQSxFQUNkLGNBQWM7QUFBQSxFQUNkLGlCQUFpQjtBQUFBLEVBQ2pCLGlCQUFpQjtBQUFBLEVBQ2pCLGFBQWE7QUFBQSxFQUNiLGFBQWE7QUFBQSxFQUNiLGVBQWU7QUFDbkI7OztBUmRBLElBQXFCLHNCQUFyQixjQUFpRCx3QkFBTztBQUFBLEVBQXhEO0FBQUE7QUFDSSxvQkFBa0M7QUFDckMsMEJBQWdDO0FBQUE7QUFBQSxFQUc3QixNQUFNLFNBQVM7QUFDWCxVQUFNLEtBQUssYUFBYTtBQUV4QixTQUFLO0FBQUEsTUFDRDtBQUFBLE1BQ0EsQ0FBQyxTQUFTLElBQUksY0FBYyxNQUFNLElBQUk7QUFBQSxJQUMxQztBQUVBLFNBQUssY0FBYyxJQUFJLFdBQVcsS0FBSyxLQUFLLElBQUksQ0FBQztBQUVqRCxTQUFLLGNBQWMsWUFBWSwyQkFBMkIsTUFBTTtBQUM1RCxXQUFLLGFBQWE7QUFBQSxJQUN0QixDQUFDO0FBRUQsU0FBSyxXQUFXO0FBQUEsTUFDWixJQUFJO0FBQUEsTUFDSixNQUFNO0FBQUEsTUFDTixVQUFVLE1BQU07QUFDWixhQUFLLGFBQWE7QUFBQSxNQUN0QjtBQUFBLElBQ0osQ0FBQztBQUVQLFNBQUssV0FBVztBQUFBLE1BQ04sSUFBSTtBQUFBLE1BQ0osTUFBTTtBQUFBLE1BQ04sVUFBVSxNQUFNO0FBQ1osY0FBTSxPQUFPLEtBQUssSUFBSSxVQUFVLG9CQUFvQixhQUFhO0FBQ2pFLFlBQUksTUFBTTtBQUNOLGVBQUssUUFBUSxtQkFBbUI7QUFBQSxRQUNwQztBQUFBLE1BQ0o7QUFBQSxJQUNKLENBQUM7QUFFRCxTQUFLLElBQUksVUFBVSxjQUFjLE1BQU07QUFDbkMsV0FBSyxhQUFhO0FBQUEsSUFDdEIsQ0FBQztBQUFBLEVBQ0w7QUFBQSxFQUVBLE1BQU0sV0FBVztBQUNiLFNBQUssSUFBSSxVQUFVLG1CQUFtQix3QkFBd0I7QUFBQSxFQUNsRTtBQUFBLEVBRUEsTUFBTSxlQUFlO0FBQ2pCLFNBQUssV0FBVyxPQUFPLE9BQU8sQ0FBQyxHQUFHLGtCQUFrQixNQUFNLEtBQUssU0FBUyxDQUFDO0FBQUEsRUFDN0U7QUFBQSxFQUVBLE1BQU0sZUFBZTtBQUNqQixVQUFNLEtBQUssU0FBUyxLQUFLLFFBQVE7QUFDakMsU0FBSyxhQUFhO0FBQUEsRUFDdEI7QUFBQSxFQUVBLGVBQWU7QUFDWCxVQUFNLFNBQVMsS0FBSyxJQUFJLFVBQVUsZ0JBQWdCLHdCQUF3QjtBQUMxRSxXQUFPLFFBQVEsQ0FBQyxTQUFTO0FBQ3JCLFVBQUksS0FBSyxnQkFBZ0IsZUFBZTtBQUNwQyxhQUFLLEtBQUssdUJBQXVCO0FBQUEsTUFDckM7QUFBQSxJQUNKLENBQUM7QUFBQSxFQUNMO0FBQUEsRUFFSCxxQkFBcUIsZUFBd0I7QUFDdEMsVUFBTSxPQUFPLEtBQUssSUFBSSxVQUFVLGdCQUFnQix3QkFBd0IsRUFBRSxDQUFDLEVBQUU7QUFDN0UsU0FBSyxjQUFjLGFBQWEsYUFBYTtBQUFBLEVBQ2pEO0FBQUEsRUFFSCxVQUFVLFdBQW9ELE9BQXVCO0FBQ3BGLFVBQU0sT0FBTyxLQUFLLElBQUksVUFBVSxnQkFBZ0Isd0JBQXdCLEVBQUUsQ0FBQyxFQUFFO0FBQzdFLFNBQUssY0FBYyxVQUFVLFdBQVcsS0FBSztBQUFBLEVBQzlDO0FBQUEsRUFFQSxNQUFNLGVBQWU7QUFDcEIsVUFBTSxFQUFFLFVBQVUsSUFBSSxLQUFLO0FBQzNCLFFBQUksU0FBUyxVQUFVLGdCQUFnQix3QkFBd0I7QUFDL0QsUUFBSSxPQUFPLE9BQU8sQ0FBQztBQUVuQixRQUFJLENBQUMsTUFBTTtBQUNWLFlBQU0sWUFBWSxVQUFVLGFBQWEsS0FBSztBQUM5QyxVQUFJLFdBQVc7QUFDZCxjQUFNLFVBQVUsYUFBYSxFQUFFLE1BQU0sMEJBQTBCLFFBQVEsS0FBSyxDQUFDO0FBQzdFLGlCQUFTLFVBQVUsZ0JBQWdCLHdCQUF3QjtBQUMzRCxlQUFPLE9BQU8sQ0FBQztBQUFBLE1BQ2hCO0FBQUEsSUFDRDtBQUVBLFFBQUksTUFBTTtBQUNULGdCQUFVLFdBQVcsSUFBSTtBQUFBLElBQzFCO0FBQUEsRUFDRDtBQUVEOyIsCiAgIm5hbWVzIjogWyJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImltcG9ydF9vYnNpZGlhbiIsICJpbXBvcnRfb2JzaWRpYW4iLCAiaW1wb3J0X29ic2lkaWFuIiwgImRlYm91bmNlIiwgImRlYm91bmNlIiwgImltcG9ydF9vYnNpZGlhbiJdCn0K
